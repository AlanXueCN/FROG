(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[50],{

/***/ "./imports/ui/App/APICall.js":
/*!***********************************!*\
  !*** ./imports/ui/App/APICall.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var meteor_kadira_dochead__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! meteor/kadira:dochead */ \"meteor/kadira:dochead\");\n/* harmony import */ var meteor_kadira_dochead__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(meteor_kadira_dochead__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var frog_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n/* harmony import */ var _Dashboard_MultiWrapper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Dashboard/MultiWrapper */ \"./imports/ui/Dashboard/MultiWrapper.jsx\");\n/* harmony import */ var _api_logs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../api/logs */ \"./imports/api/logs.js\");\n/* harmony import */ var _StudentView_Runner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../StudentView/Runner */ \"./imports/ui/StudentView/Runner.jsx\");\n/* harmony import */ var _GraphEditor_SidePanel_ApiForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../GraphEditor/SidePanel/ApiForm */ \"./imports/ui/GraphEditor/SidePanel/ApiForm.js\");\n/* harmony import */ var _api_settings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../api/settings */ \"./imports/api/settings.js\");\n/* harmony import */ var _connection__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./connection */ \"./imports/ui/App/connection.js\");\n/* harmony import */ var _LearningItem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../LearningItem */ \"./imports/ui/LearningItem/index.js\");\n/* harmony import */ var _Dashboard_LIDashboard__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Dashboard/LIDashboard */ \"./imports/ui/Dashboard/LIDashboard.js\");\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (_ref) {\n  var data = _ref.data;\n  _api_settings__WEBPACK_IMPORTED_MODULE_7__[\"LocalSettings\"].api = true;\n\n  if (data.callType === 'learningItem') {\n    var doc = _connection__WEBPACK_IMPORTED_MODULE_8__[\"connection\"].get('li', Object(frog_utils__WEBPACK_IMPORTED_MODULE_2__[\"uuid\"])());\n    var dataFn = Object(frog_utils__WEBPACK_IMPORTED_MODULE_2__[\"generateReactiveFn\"])(doc, _LearningItem__WEBPACK_IMPORTED_MODULE_9__[\"default\"]);\n    var LI = dataFn.LearningItem;\n    return react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", {\n      style: {\n        margin: '20px'\n      }\n    }, data.type === 'dashboard' ? react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](_Dashboard_LIDashboard__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n      id: data.learningItem\n    }) : react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](LI, {\n      id: data.learningItem,\n      type: data.type\n    }));\n  }\n\n  if (data.callType === 'dashboard') {\n    return react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](_Dashboard_MultiWrapper__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      activity: {\n        _id: [data.clientId, data.activityType, data.activityId || 'default'].join('-'),\n        activityType: data.activityType,\n        data: data.config,\n        length: 900,\n        startTime: 0\n      },\n      users: {},\n      config: data.config,\n      object: {\n        activityData: {\n          structure: 'all',\n          payload: {\n            all: {\n              data: {},\n              config: {}\n            }\n          }\n        },\n        socialStructure: {},\n        globalStructure: {\n          students: {},\n          studentIds: []\n        }\n      },\n      instances: [],\n      ready: true\n    });\n  }\n\n  if (data.callType === 'config') {\n    if (data.injectCSS) {\n      meteor_kadira_dochead__WEBPACK_IMPORTED_MODULE_1__[\"DocHead\"].addLink({\n        rel: 'stylesheet',\n        type: 'text/css',\n        href: data.injectCSS\n      });\n    }\n\n    return react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](_GraphEditor_SidePanel_ApiForm__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      whiteList: data.whiteList,\n      activityType: data.activityType,\n      config: data.config,\n      hidePreview: true,\n      noOffset: true,\n      hideValidator: !data.showValidator,\n      hideLibrary: !data.showLibrary,\n      showDelete: data.showDelete\n    });\n  } else {\n    var actId = [data.clientId, data.activityType, data.activityId || 'default'].join('-');\n    var logger = Object(_api_logs__WEBPACK_IMPORTED_MODULE_4__[\"createLogger\"])('headless/' + data.clientId, data.rawInstanceId, {\n      _id: actId,\n      activityType: data.activityType\n    }, data.rawInstanceId);\n    var activityData = {\n      data: data.activityData,\n      config: data.config || {}\n    };\n    var apilogger = data.readOnly ? function () {} : function (msg) {\n      logger(msg);\n      var logs = Array.isArray(msg) ? msg : [msg];\n      logs.forEach(function (log) {\n        window.parent.postMessage({\n          type: 'frog-log',\n          msg: _objectSpread({\n            id: Object(frog_utils__WEBPACK_IMPORTED_MODULE_2__[\"uuid\"])(),\n            activityType: data.activityType,\n            username: data.userName,\n            userid: data.userId,\n            timestamp: new Date()\n          }, log)\n        }, '*');\n      });\n    };\n    return react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](_StudentView_Runner__WEBPACK_IMPORTED_MODULE_5__[\"RunActivity\"], {\n      logger: apilogger,\n      readOnly: data.readOnly,\n      activityTypeId: data.activityType,\n      username: data.userName || 'Anonymous',\n      userid: data.userId || '1',\n      stream: function stream() {},\n      reactiveId: data.instanceId,\n      groupingValue: data.instanceId,\n      activityData: activityData,\n      rawData: data.rawData,\n      sessionId: data.activityId,\n      activityId: data.activityId,\n      groupingKey: \"group\"\n    });\n  }\n});\n\n//# sourceURL=webpack:///./imports/ui/App/APICall.js?");

/***/ })

}]);
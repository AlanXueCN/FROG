(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[19],{

/***/ "../ac/ac-prez/src/ActivityRunner.js":
/*!*******************************************!*\
  !*** ../ac/ac-prez/src/ActivityRunner.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _PDF__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PDF */ \"../ac/ac-prez/src/PDF.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nvar Prez =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Prez, _Component);\n\n  function Prez() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Prez);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Prez)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"pdfFileInput\", null);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"updateFile\", function () {\n      localStorage.removeItem('savedAnnotations');\n\n      _this.props.dataFn.objSet(1, ['pageNum']);\n\n      _this.props.dataFn.objSet([], ['annotations']);\n\n      _this.props.dataFn.objSet(_this.pdfFileInput.value, ['pdf_file']);\n    });\n\n    return _this;\n  }\n\n  _createClass(Prez, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          activityData = _this$props.activityData,\n          data = _this$props.data,\n          dataFn = _this$props.dataFn,\n          userInfo = _this$props.userInfo;\n      var initialPDF = '/clientFiles/ac-prez/sample.pdf';\n\n      if (activityData.config.pdf_url) {\n        initialPDF = activityData.config.pdf_url[0] === '/' ? activityData.config.pdf_url : '/api/proxy/' + activityData.config.pdf_url;\n      }\n\n      var pdfSRC = this.props.data.pdf_file ? this.props.data.pdf_file : initialPDF;\n      var inputItem = !activityData.config.debug ? null : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n        defaultValue: initialPDF,\n        type: \"text\",\n        ref: function ref(input) {\n          return _this2.pdfFileInput = input;\n        }\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        onClick: this.updateFile\n      }, \"Update PDF\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"hr\", null));\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: {\n          height: '100%'\n        }\n      }, inputItem, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_PDF__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n        src: pdfSRC,\n        userInfo: userInfo,\n        activityData: activityData,\n        data: data,\n        dataFn: dataFn\n      }));\n    }\n  }]);\n\n  return Prez;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Prez);\n\n//# sourceURL=webpack:///../ac/ac-prez/src/ActivityRunner.js?");

/***/ }),

/***/ "../ac/ac-prez/src/AnnotationLayer.js":
/*!********************************************!*\
  !*** ../ac/ac-prez/src/AnnotationLayer.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"../node_modules/uuid/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var mousetrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mousetrap */ \"../node_modules/mousetrap/mousetrap.js\");\n/* harmony import */ var mousetrap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mousetrap__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_resize_aware__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-resize-aware */ \"../node_modules/react-resize-aware/dist/index.js\");\n/* harmony import */ var react_resize_aware__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_resize_aware__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core/IconButton */ \"../node_modules/@material-ui/core/IconButton/index.js\");\n/* harmony import */ var _material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _material_ui_icons_FirstPage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material-ui/icons/FirstPage */ \"../node_modules/@material-ui/icons/FirstPage.js\");\n/* harmony import */ var _material_ui_icons_FirstPage__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_FirstPage__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _material_ui_icons_LastPage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/icons/LastPage */ \"../node_modules/@material-ui/icons/LastPage.js\");\n/* harmony import */ var _material_ui_icons_LastPage__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_LastPage__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _material_ui_icons_ChevronLeft__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/icons/ChevronLeft */ \"../node_modules/@material-ui/icons/ChevronLeft.js\");\n/* harmony import */ var _material_ui_icons_ChevronLeft__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_ChevronLeft__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _material_ui_icons_ChevronRight__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/icons/ChevronRight */ \"../node_modules/@material-ui/icons/ChevronRight.js\");\n/* harmony import */ var _material_ui_icons_ChevronRight__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_ChevronRight__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _material_ui_icons_Undo__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/icons/Undo */ \"../node_modules/@material-ui/icons/Undo.js\");\n/* harmony import */ var _material_ui_icons_Undo__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_Undo__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _material_ui_icons_Redo__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @material-ui/icons/Redo */ \"../node_modules/@material-ui/icons/Redo.js\");\n/* harmony import */ var _material_ui_icons_Redo__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_Redo__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _material_ui_icons_DeleteForever__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @material-ui/icons/DeleteForever */ \"../node_modules/@material-ui/icons/DeleteForever.js\");\n/* harmony import */ var _material_ui_icons_DeleteForever__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_DeleteForever__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _material_ui_icons_ZoomIn__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @material-ui/icons/ZoomIn */ \"../node_modules/@material-ui/icons/ZoomIn.js\");\n/* harmony import */ var _material_ui_icons_ZoomIn__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_ZoomIn__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _material_ui_icons_ZoomOut__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @material-ui/icons/ZoomOut */ \"../node_modules/@material-ui/icons/ZoomOut.js\");\n/* harmony import */ var _material_ui_icons_ZoomOut__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_ZoomOut__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _material_ui_icons_ZoomOutMap__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @material-ui/icons/ZoomOutMap */ \"../node_modules/@material-ui/icons/ZoomOutMap.js\");\n/* harmony import */ var _material_ui_icons_ZoomOutMap__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_ZoomOutMap__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _material_ui_icons_TouchApp__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @material-ui/icons/TouchApp */ \"../node_modules/@material-ui/icons/TouchApp.js\");\n/* harmony import */ var _material_ui_icons_TouchApp__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_TouchApp__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _material_ui_icons_Edit__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @material-ui/icons/Edit */ \"../node_modules/@material-ui/icons/Edit.js\");\n/* harmony import */ var _material_ui_icons_Edit__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_Edit__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _material_ui_icons_Title__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @material-ui/icons/Title */ \"../node_modules/@material-ui/icons/Title.js\");\n/* harmony import */ var _material_ui_icons_Title__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_Title__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _material_ui_icons_CropSquare__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @material-ui/icons/CropSquare */ \"../node_modules/@material-ui/icons/CropSquare.js\");\n/* harmony import */ var _material_ui_icons_CropSquare__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_CropSquare__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _material_ui_icons_Highlight__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @material-ui/icons/Highlight */ \"../node_modules/@material-ui/icons/Highlight.js\");\n/* harmony import */ var _material_ui_icons_Highlight__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_Highlight__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _material_ui_icons_FormatStrikethrough__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @material-ui/icons/FormatStrikethrough */ \"../node_modules/@material-ui/icons/FormatStrikethrough.js\");\n/* harmony import */ var _material_ui_icons_FormatStrikethrough__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_FormatStrikethrough__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _material_ui_icons_SettingsBackupRestore__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @material-ui/icons/SettingsBackupRestore */ \"../node_modules/@material-ui/icons/SettingsBackupRestore.js\");\n/* harmony import */ var _material_ui_icons_SettingsBackupRestore__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_SettingsBackupRestore__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var _material_ui_icons_NoteAdd__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @material-ui/icons/NoteAdd */ \"../node_modules/@material-ui/icons/NoteAdd.js\");\n/* harmony import */ var _material_ui_icons_NoteAdd__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_NoteAdd__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./constants.js */ \"../ac/ac-prez/src/constants.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar AnnotationLayer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AnnotationLayer, _Component);\n\n  function AnnotationLayer(props) {\n    var _this;\n\n    _classCallCheck(this, AnnotationLayer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AnnotationLayer).call(this));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleLeftArrow\", function () {\n      _this.prevPage();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleRightArror\", function () {\n      _this.nextPage();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"queueUpRender\", function () {\n      // console.log('QUEING');\n      if (!_this.rendering) {\n        _this.forceRenderPage();\n      } else if (_this.queuedRender === false) {\n        _this.queuedRender = true;\n        setTimeout(_this.queueUpRender, 250);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"calculateNewScale\", function () {\n      var shownPageNum = _this.getCurrentPageNum();\n\n      var containerID = '#pageContainer' + shownPageNum;\n      var container = document.querySelector(containerID);\n      var viewer = document.querySelector('#viewer'); // console.log(viewer);\n      // console.log(viewer.clientWidth, viewer.clientHeight);\n      // const rectViewer = viewer.getBoundingClientRect();\n      // const rectContainer = container.getBoundingClientRect();\n      // console.log(rectViewer.top, rectViewer.right, rectViewer.bottom, rectViewer.left);\n      // console.log(rectContainer.top, rectContainer.right, rectContainer.bottom, rectContainer.left);\n\n      var w = viewer.clientWidth;\n      var h = viewer.clientHeight - 70; // console.log(w, h);\n\n      var widthScale = w / container.clientWidth;\n      var heightScale = h / container.clientHeight; // console.log(widthScale, heightScale);\n\n      var newScale = Math.min(widthScale, heightScale);\n      return newScale;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"forceRenderAnnotations\", function () {\n      // console.log('RENDERING ANNOTATIONS');\n      var UI = _this.PDFJSAnnotate.UI;\n\n      var shownPageNum = _this.getCurrentPageNum();\n\n      var RENDER_OPTIONS = {\n        documentId: _this.props.pdf.fingerprint,\n        pdfDocument: _this.props.pdf,\n        scale: _this.savedScale,\n        rotate: 0\n      };\n      UI.renderAnnotations(shownPageNum, RENDER_OPTIONS, _this.pageViewport).then(function (result) {\n        return result;\n      }, function (err) {\n        console.error(\"/Users/stian/src/frog/ac/ac-prez/src/AnnotationLayer.js(294:8)\", 'ERROR RENDERING ANNOTATIONS:\\n', \"err\", err);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"forceRenderPage\", function () {\n      // console.log('RENDERING PAGE');\n      _this.rendering = true;\n\n      var shownPageNum = _this.getCurrentPageNum();\n\n      if (!_this.state.initialPageLoad && !_this.rescaleDone) {\n        var newScale = _this.calculateNewScale(); // console.log(newScale);\n\n\n        _this.savedScale = newScale;\n        _this.rescaleDone = true;\n      }\n\n      var RENDER_OPTIONS = {\n        documentId: _this.props.pdf.fingerprint,\n        pdfDocument: _this.props.pdf,\n        scale: _this.savedScale,\n        rotate: 0\n      };\n      var UI = _this.PDFJSAnnotate.UI;\n      UI.renderPage(shownPageNum, RENDER_OPTIONS).then(function (result) {\n        var pdfPage = result[0]; // const annotationsObj = result[1];\n\n        _this.pageViewport = pdfPage.getViewport(_this.savedScale, 0);\n        _this.queuedRender = false;\n        _this.rendering = false;\n        _this.lastLoadedPageNum = shownPageNum;\n\n        if (_this.state.initialPageLoad && !_this.rescaleDone) {\n          _this.setState({\n            initialPageLoad: false\n          });\n        } else {\n          _this.queuedResize = false;\n        }\n\n        return result;\n      }, function (err) {\n        _this.rendering = false;\n        _this.queuedResize = false;\n        console.error(\"/Users/stian/src/frog/ac/ac-prez/src/AnnotationLayer.js(340:8)\", 'ERROR RENDERING PAGE:\\n', \"err\", err);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"fillPage\", function () {\n      _this.rescaleDone = false;\n      _this.queuedResize = true;\n      _this.zoomed = false;\n      _this.savedScale = 1;\n\n      _this.setState({\n        initialPageLoad: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleResize\", function () {\n      if (_this.queuedResize || _this.zoomed) return;\n      _this.queuedResize = true;\n      setTimeout(_this.fillPage, 200);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"zoomIn\", function () {\n      _this.savedScale += 0.2;\n      _this.zoomed = true;\n\n      _this.forceRenderPage();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"zoomOut\", function () {\n      _this.savedScale -= 0.2;\n      _this.zoomed = true;\n\n      _this.forceRenderPage();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"checkIfTeacher\", function () {\n      return _this.props.userInfo.role === 'teacher';\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getAnnotations\", function () {\n      return _this.props.data.annotations;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getCurrentPageNum\", function () {\n      if (_this.state.studentPaging) return _this.state.pageNumStudent;else return _this.props.data.pageNum;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getPageAnnotations\", function () {\n      return _this.props.data.annotations[_this.getCurrentPageNum()] || [];\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getSavedAnnotations\", function () {\n      return JSON.parse(localStorage.getItem('savedAnnotations')) || {};\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getSavedPageAnnotations\", function () {\n      return JSON.parse(localStorage.getItem('savedAnnotations'))[_this.getCurrentPageNum()] || [];\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"replaceSavedAnnotations\", function (savedAnnotations) {\n      localStorage.setItem('savedAnnotations', JSON.stringify(savedAnnotations));\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"clearAnnotations\", function () {\n      var currentPageNum = _this.getCurrentPageNum();\n\n      var savedAnnotations = _this.getSavedAnnotations();\n\n      delete savedAnnotations[currentPageNum];\n\n      _this.replaceSavedAnnotations(savedAnnotations);\n\n      _this.editorRender = true;\n\n      _this.props.dataFn.objDel(null, ['annotations', currentPageNum]);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setActiveToolbarItem\", function (item) {\n      var UI = _this.PDFJSAnnotate.UI;\n      var activeItem = _this.state.activeItem;\n\n      switch (activeItem) {\n        case 'cursor':\n          UI.disableEdit();\n          break;\n\n        case 'draw':\n          UI.disablePen();\n          break;\n\n        case 'text':\n          UI.disableText();\n          break;\n\n        case 'point':\n          UI.disablePoint();\n          break;\n\n        case 'area':\n        case 'highlight':\n        case 'strikeout':\n          UI.disableRect();\n          break;\n\n        default:\n          console.error(\"/Users/stian/src/frog/ac/ac-prez/src/AnnotationLayer.js(427:8)\", 'Unrecognized activeItem');\n      }\n\n      switch (item) {\n        case 'cursor':\n          UI.enableEdit();\n          break;\n\n        case 'draw':\n          UI.enablePen();\n          break;\n\n        case 'text':\n          UI.enableText();\n          break;\n\n        case 'point':\n          UI.enablePoint();\n          break;\n\n        case 'area':\n        case 'highlight':\n        case 'strikeout':\n          UI.enableRect(item);\n          break;\n\n        default:\n          console.error(\"/Users/stian/src/frog/ac/ac-prez/src/AnnotationLayer.js(449:8)\", 'Unrecognized new item');\n      }\n\n      _this.setState({\n        activeItem: item\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"nextPageAdmin\", function () {\n      if (_this.props.data.pageNum + 1 > _this.props.pdf.numPages) return;\n      var pageNum = _this.props.data.pageNum + 1;\n\n      _this.props.dataFn.numIncr(1, ['pageNum']);\n\n      if (_this.props.activityData.config.studentCannotGoFurther && pageNum > _this.props.data.furthestPageNum) _this.props.dataFn.objSet(pageNum, ['furthestPageNum']);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"prevPageAdmin\", function () {\n      if (_this.props.data.pageNum <= 1) return;\n\n      _this.props.dataFn.numIncr(-1, ['pageNum']);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"nextPageStudent\", function () {\n      if (_this.state.studentPaging) {\n        if (_this.state.pageNumStudent + 1 > _this.props.pdf.numPages) return;\n        if (_this.props.activityData.config.studentCannotGoFurther && _this.state.pageNumStudent + 1 > _this.props.data.furthestPageNum) return;\n\n        _this.setState(function (prevstate) {\n          return {\n            pageNumStudent: prevstate.pageNumStudent + 1\n          };\n        });\n      } else {\n        if (_this.props.data.pageNum + 1 > _this.props.pdf.numPages) return;\n        if (_this.props.activityData.config.studentCannotGoFurther && _this.props.data.pageNum + 1 > _this.props.data.furthestPageNum) return;\n\n        _this.setState({\n          studentPaging: true,\n          pageNumStudent: _this.props.data.pageNum + 1\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"prevPageStudent\", function () {\n      if (_this.state.studentPaging) {\n        if (_this.state.pageNumStudent <= 1) return;\n\n        _this.setState(function (prevstate) {\n          return {\n            pageNumStudent: prevstate.pageNumStudent - 1\n          };\n        });\n      } else {\n        if (_this.props.data.pageNum <= 1) return;\n\n        _this.setState({\n          studentPaging: true,\n          pageNumStudent: _this.props.data.pageNum - 1\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"goBackToAdminPaging\", function () {\n      _this.setState({\n        studentPaging: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getValidPageNum\", function (pageNum) {\n      try {\n        var newPageNum = Number(pageNum);\n        if (newPageNum < 1 || newPageNum > _this.props.pdf.numPages) return 0;\n        return newPageNum;\n      } catch (e) {\n        console.error(\"/Users/stian/src/frog/ac/ac-prez/src/AnnotationLayer.js(523:6)\", \"e\", e);\n      }\n\n      return 0;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"changePageAdmin\", function (pageNum) {\n      var newPageNum = _this.getValidPageNum(pageNum);\n\n      if (newPageNum) {\n        _this.props.dataFn.objSet(newPageNum, ['pageNum']);\n\n        if (newPageNum > _this.props.data.furthestPageNum) _this.props.dataFn.objSet(newPageNum, ['furthestPageNum']);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"changePageStudent\", function (pageNum) {\n      var newPageNum = _this.getValidPageNum(pageNum);\n\n      var studentCannotGoFurther = _this.props.activityData.config.studentCannotGoFurther;\n\n      if (newPageNum && (!studentCannotGoFurther || studentCannotGoFurther && newPageNum <= _this.props.data.furthestPageNum)) {\n        _this.setState({\n          studentPaging: true,\n          pageNumStudent: newPageNum\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"checkIfSamePageNum\", function (pageNum) {\n      return _this.state.studentPaging && _this.state.pageNumStudent === pageNum || !_this.state.studentPaging && _this.props.data.pageNum === pageNum;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"undo\", function () {\n      var currentPageNum = _this.getCurrentPageNum();\n\n      var pageAnnotations = _this.getPageAnnotations();\n\n      if (!pageAnnotations || pageAnnotations.length === 0) return;\n      var index = pageAnnotations.length - 1;\n      var annotation = pageAnnotations[index];\n\n      var savedAnnotations = _this.getSavedAnnotations();\n\n      if (savedAnnotations[currentPageNum]) savedAnnotations[currentPageNum].push(annotation);else savedAnnotations[currentPageNum] = [annotation];\n\n      _this.replaceSavedAnnotations(savedAnnotations);\n\n      _this.editorRender = true;\n\n      _this.props.dataFn.listDel(null, ['annotations', currentPageNum, index.toString()]);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"redo\", function () {\n      var savedAnnotations = _this.getSavedAnnotations();\n\n      var currentPageNum = _this.getCurrentPageNum();\n\n      var pageAnnotations = savedAnnotations[currentPageNum];\n      if (!pageAnnotations || pageAnnotations.length === 0) return;\n      var annotation = savedAnnotations[currentPageNum][pageAnnotations.length - 1];\n      savedAnnotations[currentPageNum] = savedAnnotations[currentPageNum].slice(0, -1);\n\n      _this.replaceSavedAnnotations(savedAnnotations);\n\n      _this.editorRender = true;\n\n      _this.props.dataFn.listAppend(annotation, ['annotations', currentPageNum]);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"selectPenSize\", function (e) {\n      var size = e.target.value;\n      var UI = _this.PDFJSAnnotate.UI;\n      UI.setPen(size, _this.state.penColor);\n      UI.setText(size * 6, _this.state.penColor);\n      localStorage.setItem('aSize', size);\n\n      _this.setState({\n        penSize: size\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"selectPenColor\", function (color) {\n      var UI = _this.PDFJSAnnotate.UI;\n      UI.setPen(_this.state.penSize, color);\n      UI.setText(_this.state.penSize * 6, color);\n      localStorage.setItem('aColor', color);\n\n      _this.setState({\n        penColor: color\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"changePageAdmin\", function (pageNum) {\n      var newPageNum = _this.getValidPageNum(pageNum);\n\n      if (newPageNum) {\n        _this.props.dataFn.objSet(newPageNum, ['pageNum']);\n\n        if (newPageNum > _this.props.data.furthestPageNum) _this.props.dataFn.objSet(newPageNum, ['furthestPageNum']);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"changePage\", function (pageNum) {\n      if (_this.checkIfTeacher()) _this.changePageAdmin(pageNum);else _this.changePageStudent(pageNum);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"nextPage\", function () {\n      if (_this.checkIfTeacher()) _this.nextPageAdmin();else _this.nextPageStudent();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"prevPage\", function () {\n      if (_this.checkIfTeacher()) _this.prevPageAdmin();else _this.prevPageStudent();\n    });\n\n    var PDFJSAnnotate = __webpack_require__(/*! @houshuang/pdf-annotate.js */ \"../node_modules/@houshuang/pdf-annotate.js/dist/pdf-annotate.min.js\"); // const PDFJSAnnotate = require('pdf-annotate').default;\n\n\n    var that = _assertThisInitialized(_assertThisInitialized(_this));\n\n    var StoreAdapter = new PDFJSAnnotate.StoreAdapter({\n      getAnnotations: function getAnnotations(documentId, pageNumber) {\n        var annotations = that.getPageAnnotations();\n        return Promise.resolve({\n          documentId: documentId,\n          pageNumber: pageNumber,\n          annotations: annotations\n        });\n      },\n      getAnnotation: function getAnnotation(documentId, annotationId) {\n        var annotations = that.getPageAnnotations();\n        var annotation = annotations.filter(function (a) {\n          return a.uuid === annotationId;\n        })[0];\n        return Promise.resolve(annotation);\n      },\n      addAnnotation: function addAnnotation(documentId, pageNumber, annotation) {\n        var currentPageNum = that.getCurrentPageNum();\n        var savedAnnotations = that.getSavedAnnotations();\n        var pageAnnotations = that.getPageAnnotations();\n\n        if (savedAnnotations[currentPageNum] || pageAnnotations.length === 0) {\n          that.ignoreRender = false;\n        } else {\n          that.ignoreRender = true;\n        }\n\n        delete savedAnnotations[currentPageNum];\n        that.replaceSavedAnnotations(savedAnnotations);\n        annotation.class = 'Annotation';\n        annotation.uuid = uuid__WEBPACK_IMPORTED_MODULE_1___default()();\n        annotation.page = pageNumber;\n\n        if (annotation.type === 'textbox') {\n          annotation.size = that.state.penSize * 6;\n          annotation.color = that.state.penColor;\n        }\n\n        if (pageAnnotations.length === 0) props.dataFn.objInsert([annotation], ['annotations', currentPageNum]);else props.dataFn.listAppend(annotation, ['annotations', currentPageNum]);\n        return Promise.resolve(annotation);\n      },\n      editAnnotation: function editAnnotation(documentId, pageNumber, annotation) {\n        var currentPageNum = that.getCurrentPageNum();\n        var annotations = that.getPageAnnotations();\n        var index = annotations.findIndex(function (x) {\n          return x.uuid === annotation.uuid;\n        });\n        return new Promise(function (resolve, reject) {\n          if (index === -1) reject(new Error('Could not find annotation!'));else {\n            props.dataFn.objSet(annotation, ['annotations', currentPageNum, index.toString()]);\n            resolve(annotation);\n          }\n        });\n      },\n      deleteAnnotation: function deleteAnnotation(documentId, annotationId) {\n        var currentPageNum = that.getCurrentPageNum();\n        var annotations = that.getPageAnnotations();\n        var index = annotations.findIndex(function (x) {\n          return x.uuid === annotationId;\n        });\n        return new Promise(function (resolve, reject) {\n          if (index === -1) reject(new Error('Could not find annotation!'));else {\n            var savedAnnotations = that.getSavedAnnotations();\n            if (savedAnnotations[currentPageNum]) savedAnnotations[currentPageNum].push(annotations[index]);else savedAnnotations[currentPageNum] = [annotations[index]];\n            that.replaceSavedAnnotations(savedAnnotations);\n            props.dataFn.listDel(null, ['annotations', currentPageNum, index]);\n            resolve(true);\n          }\n        });\n      },\n      getComments: function getComments(documentId, annotationId) {\n        return Promise.resolve([documentId, annotationId]);\n      }\n    });\n    PDFJSAnnotate.setStoreAdapter(StoreAdapter);\n    PDFJSAnnotate.UI.disableEdit();\n    PDFJSAnnotate.UI.disablePen();\n    PDFJSAnnotate.UI.disableText();\n    PDFJSAnnotate.UI.disablePoint();\n    PDFJSAnnotate.UI.disableRect();\n    PDFJSAnnotate.UI.enableEdit();\n    PDFJSAnnotate.UI.setPen(_constants_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"].defaultSize, _constants_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"].defaultColor);\n    PDFJSAnnotate.UI.setText(_constants_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"].defaultSize * 6, _constants_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"].defaultColor);\n    localStorage.setItem('aColor', _constants_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"].defaultColor);\n    localStorage.setItem('aSize', _constants_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"].defaultSize);\n    _this.state = {\n      initialPageLoad: true,\n      studentPaging: false,\n      activeItem: 'cursor',\n      penSize: _constants_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"].defaultSize,\n      penColor: _constants_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"].defaultColor\n    };\n    _this.PDFJSAnnotate = PDFJSAnnotate;\n    _this.rendering = false;\n    _this.queuedRender = false;\n    _this.editorRender = false;\n    _this.resetPaging = true;\n    _this.savedScale = 1;\n    _this.rescaleDone = false;\n    _this.queuedResize = true;\n    _this.lastLoadedPageNum = 0;\n    _this.ignoreRender = false;\n    _this.zoomed = false;\n    return _this;\n  }\n\n  _createClass(AnnotationLayer, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      if (!localStorage.getItem('savedAnnotations')) this.replaceSavedAnnotations({});\n      if (this.resetPaging) this.props.dataFn.objSet(this.props.data.pageNum, ['furthestPageNum']);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.unbind('backspace');\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.unbind('r');\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.unbind('left');\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.unbind('right');\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.unbind('d');\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.unbind('t');\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.unbind('a');\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.unbind('s');\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.unbind('h');\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.unbind('c'); // window.removeEventListener('resize', this.handleResize);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.forceRenderPage(); // window.addEventListener('resize', this.handleResize);\n\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.bind('backspace', function () {\n        return _this2.undo();\n      });\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.bind('r', function () {\n        return _this2.redo();\n      });\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.bind('left', function (e) {\n        e.preventDefault();\n\n        _this2.handleLeftArrow();\n      });\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.bind('right', function (e) {\n        e.preventDefault();\n\n        _this2.handleRightArror();\n      });\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.bind('d', function () {\n        return _this2.setActiveToolbarItem('draw');\n      });\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.bind('t', function () {\n        return _this2.setActiveToolbarItem('text');\n      });\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.bind('a', function () {\n        return _this2.setActiveToolbarItem('area');\n      });\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.bind('s', function () {\n        return _this2.setActiveToolbarItem('strikeout');\n      });\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.bind('h', function () {\n        return _this2.setActiveToolbarItem('highlight');\n      });\n      mousetrap__WEBPACK_IMPORTED_MODULE_2___default.a.bind('c', function () {\n        return _this2.setActiveToolbarItem('cursor');\n      });\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate() {\n      if (!this.editorRender && this.ignoreRender) {\n        this.ignoreRender = false;\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!this.rescaleDone || this.state.studentPaging && prevState.pageNumStudent !== this.state.pageNumStudent || !this.state.studentPaging && prevProps.data.pageNum !== this.props.data.pageNum || prevState.studentPaging !== this.state.studentPaging) {\n        if (this.rendering) {\n          this.queueUpRender();\n        } else {\n          this.forceRenderPage();\n        }\n\n        return;\n      } // if (!this.props.activityData.config.everyoneCanEdit &&\n      //   (this.checkIfTeacher() && !this.editorRender))\n      //   return;\n\n\n      this.editorRender = false;\n      setTimeout(this.forceRenderAnnotations, 0);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var activityData = this.props.activityData;\n      var UI = this.PDFJSAnnotate.UI;\n      var shownPageNum = this.getCurrentPageNum();\n      var pageAnnotationsLocalStorage = this.getSavedPageAnnotations();\n      var pageAnnotationsDatabase = this.getPageAnnotations();\n      var pageContainer = UI.createPage(shownPageNum);\n      var svgStyle = pageContainer.querySelector('svg').style;\n      svgStyle.position = 'absolute';\n      svgStyle.top = '0';\n      svgStyle.left = '0';\n      var containerStyle = {\n        position: 'relative',\n        margin: '0 auto'\n      };\n      if (this.state.initialPageLoad === true) containerStyle.opacity = 0;\n      var containerID = 'pageContainer' + shownPageNum;\n      var iconMapping = {\n        cursor: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_TouchApp__WEBPACK_IMPORTED_MODULE_15___default.a, null),\n        draw: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Edit__WEBPACK_IMPORTED_MODULE_16___default.a, null),\n        text: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Title__WEBPACK_IMPORTED_MODULE_17___default.a, null),\n        area: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_CropSquare__WEBPACK_IMPORTED_MODULE_18___default.a, null),\n        highlight: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Highlight__WEBPACK_IMPORTED_MODULE_19___default.a, null),\n        strikeout: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_FormatStrikethrough__WEBPACK_IMPORTED_MODULE_20___default.a, null)\n      };\n      var iconButtonStyle = {\n        width: '48px'\n      };\n      var annotateItems = _constants_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"].toolbarItems.map(function (item) {\n        var icon = iconMapping[item];\n        var color = 'primary';\n        if (_this3.state.activeItem === item) color = 'secondary';\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4___default.a, {\n          style: iconButtonStyle,\n          color: color,\n          key: item,\n          onClick: function onClick() {\n            return _this3.setActiveToolbarItem(item);\n          }\n        }, icon);\n      });\n      var sizeOptions = _constants_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"].sizeOptions.map(function (size) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"option\", {\n          key: 'penSize' + size,\n          value: size\n        }, ' ', size);\n      });\n      var selectStyle = {\n        display: 'inline-block',\n        fontSize: '14px',\n        fontFamily: 'sans-serif',\n        marginLeft: '10px'\n      };\n      var penSizeItem = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"select\", {\n        key: \"penSize\",\n        id: \"sizeSelect\",\n        value: this.state.penSize,\n        onChange: this.selectPenSize,\n        style: selectStyle\n      }, sizeOptions);\n      var colorOptions = _constants_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"].colorOptions.map(function (colorOption) {\n        var color = colorOption[0]; // const text = colorOption[1];\n\n        var style = {\n          background: color,\n          color: 'white',\n          width: '16px',\n          height: '16px',\n          borderRadius: '8px',\n          border: 'none',\n          margin: '0 2px',\n          marginTop: '1px'\n        };\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n          key: 'penColor' + color,\n          onClick: function onClick() {\n            return _this3.selectPenColor(color);\n          },\n          style: style\n        });\n      });\n      var penColorItem = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        key: \"penColor\"\n      }, colorOptions);\n      var drawingItems = [];\n\n      if (this.state.activeItem === 'draw' || this.state.activeItem === 'area' || this.state.activeItem === 'text') {\n        drawingItems.push(penColorItem);\n        drawingItems.push(penSizeItem);\n      } else {\n        drawingItems.push(penColorItem);\n        drawingItems.push(penSizeItem);\n      }\n\n      var debugItems = !activityData.config.debug ? null : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"Debugging: \"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        onClick: this.forceRenderPage\n      }, \"Force Re-Render\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"hr\", null));\n      var disabledRight = this.props.activityData.config.studentCannotGoFurther && this.getCurrentPageNum() === this.props.pdf.furthestPageNum;\n      var pageSpanStyle = {\n        display: 'inline-block',\n        height: '50px',\n        width: '50px',\n        margin: '0 0',\n        fontSize: '15px',\n        textAlign: 'center'\n      };\n      if (this.state.studentPaging) pageSpanStyle.fontSize = '11px';\n      var goBackToAdminButtonStyle = {\n        height: '24px',\n        width: '24px'\n      };\n      var goBackToAdminButton = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        style: goBackToAdminButtonStyle,\n        onClick: this.goBackToAdminPaging\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_SettingsBackupRestore__WEBPACK_IMPORTED_MODULE_21___default.a, null));\n      var pagingIconStyle = {\n        width: '25px'\n      };\n      var pagingItems = this.props.activityData.config.studentMustFollow ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, shownPageNum + '/' + this.props.pdf.numPages) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        style: pagingIconStyle,\n        onClick: function onClick() {\n          return _this3.changePage(1);\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_FirstPage__WEBPACK_IMPORTED_MODULE_5___default.a, null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        style: pagingIconStyle,\n        onClick: this.prevPage\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_ChevronLeft__WEBPACK_IMPORTED_MODULE_7___default.a, null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        style: pageSpanStyle\n      }, shownPageNum + '/' + this.props.pdf.numPages, this.state.studentPaging && goBackToAdminButton), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        style: pagingIconStyle,\n        onClick: this.nextPage,\n        disabled: disabledRight\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_ChevronRight__WEBPACK_IMPORTED_MODULE_8___default.a, null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        style: pagingIconStyle,\n        onClick: function onClick() {\n          return _this3.changePage(_this3.props.pdf.numPages);\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_LastPage__WEBPACK_IMPORTED_MODULE_6___default.a, null)));\n      var cursorColor = this.state.activeItem === 'cursor' ? 'secondary' : 'primary';\n      var cursorStyle = {};\n      var cursorDisable = false;\n\n      if (!this.checkIfTeacher() && !this.props.activityData.config.everyoneCanEdit) {\n        cursorStyle.visibility = 'hidden';\n        cursorDisable = true;\n      }\n\n      var cursorItem = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        disabled: cursorDisable,\n        style: Object.assign({}, cursorStyle, iconButtonStyle),\n        color: cursorColor,\n        onClick: function onClick() {\n          return _this3.setActiveToolbarItem('cursor');\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_TouchApp__WEBPACK_IMPORTED_MODULE_15___default.a, null));\n      var zoomingItems = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, cursorItem, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        style: iconButtonStyle,\n        color: \"primary\",\n        onClick: this.fillPage\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_ZoomOutMap__WEBPACK_IMPORTED_MODULE_14___default.a, null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        style: iconButtonStyle,\n        color: \"primary\",\n        onClick: this.zoomOut\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_ZoomOut__WEBPACK_IMPORTED_MODULE_13___default.a, null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        style: iconButtonStyle,\n        color: \"primary\",\n        onClick: this.zoomIn\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_ZoomIn__WEBPACK_IMPORTED_MODULE_12___default.a, null)));\n      var modifyingitems = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        style: iconButtonStyle,\n        color: \"secondary\",\n        onClick: this.props.switchMode\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_NoteAdd__WEBPACK_IMPORTED_MODULE_22___default.a, null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        style: iconButtonStyle,\n        color: \"primary\",\n        onClick: this.undo,\n        disabled: pageAnnotationsDatabase.length === 0\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Undo__WEBPACK_IMPORTED_MODULE_9___default.a, null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        style: iconButtonStyle,\n        color: \"primary\",\n        onClick: this.redo,\n        disabled: pageAnnotationsLocalStorage.length === 0\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Redo__WEBPACK_IMPORTED_MODULE_10___default.a, null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        style: iconButtonStyle,\n        color: \"primary\",\n        onClick: this.clearAnnotations,\n        disabled: pageAnnotationsDatabase.length === 0 && pageAnnotationsLocalStorage.length === 0\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_DeleteForever__WEBPACK_IMPORTED_MODULE_11___default.a, null)));\n      var toolbarStyle = {\n        minHeight: '50px',\n        paddingTop: '5px',\n        borderBottom: '1px solid lightblue',\n        marginBottom: '5px'\n      };\n      var groupDivStyle = {\n        display: 'inline-block',\n        height: '50px',\n        textAlign: 'center',\n        verticalAlign: 'top'\n      };\n      var leftyStyle = {\n        width: '27%',\n        minWidth: '250px'\n      };\n      var drawingItemsStyle = {\n        width: '15%',\n        lineHeight: '50px',\n        minWidth: '125px'\n      };\n      var midStyle = {\n        width: '16%',\n        minWidth: '160px'\n      };\n      var zoomyStyle = {\n        width: '21%',\n        minWidth: '200px'\n      };\n      var rightyStyle = {\n        width: '21%',\n        minWidth: '200px'\n      };\n\n      if (!drawingItems) {\n        drawingItemsStyle.height = '10px';\n      }\n\n      if (!this.checkIfTeacher() && !this.props.activityData.config.everyoneCanEdit) {\n        annotateItems = null;\n        modifyingitems = null;\n        drawingItems = null;\n        leftyStyle.height = '10px';\n        drawingItemsStyle.height = '10px';\n        rightyStyle.height = '10px';\n        leftyStyle.width = '0px';\n        drawingItemsStyle.width = '0px';\n        rightyStyle.width = '0px';\n        leftyStyle.minWidth = '0px';\n        drawingItemsStyle.minWidth = '0px';\n        rightyStyle.minWidth = '0px';\n        zoomyStyle.width = '40%';\n        zoomyStyle.textAlign = 'center';\n        midStyle.width = '60%';\n        midStyle.textAlign = 'right';\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_resize_aware__WEBPACK_IMPORTED_MODULE_3___default.a, {\n        style: {\n          position: 'relative',\n          height: '100%'\n        },\n        onlyEvent: true,\n        onResize: this.handleResize\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, debugItems, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: toolbarStyle\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: Object.assign({}, groupDivStyle, leftyStyle)\n      }, annotateItems), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: Object.assign({}, groupDivStyle, drawingItemsStyle)\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, drawingItems)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: Object.assign({}, groupDivStyle, midStyle)\n      }, pagingItems), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: Object.assign({}, groupDivStyle, zoomyStyle)\n      }, zoomingItems), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: Object.assign({}, groupDivStyle, rightyStyle)\n      }, modifyingitems)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: containerID,\n        style: containerStyle,\n        dangerouslySetInnerHTML: {\n          __html: pageContainer.innerHTML\n        } // eslint-disable-line react/no-danger\n\n      })));\n    }\n  }]);\n\n  return AnnotationLayer;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AnnotationLayer);\n\n//# sourceURL=webpack:///../ac/ac-prez/src/AnnotationLayer.js?");

/***/ }),

/***/ "../ac/ac-prez/src/PDF.js":
/*!********************************!*\
  !*** ../ac/ac-prez/src/PDF.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PDF; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _houshuang_pdfjs_dist__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @houshuang/pdfjs-dist */ \"../node_modules/@houshuang/pdfjs-dist/build/pdf.js\");\n/* harmony import */ var _houshuang_pdfjs_dist__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_houshuang_pdfjs_dist__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _AnnotationLayer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AnnotationLayer */ \"../ac/ac-prez/src/AnnotationLayer.js\");\n/* harmony import */ var _ScratchPad__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ScratchPad */ \"../ac/ac-prez/src/ScratchPad.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\nvar PDF =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PDF, _Component);\n\n  function PDF() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PDF);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PDF)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      pdf: null,\n      err: null\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"switchMode\", function () {\n      _this.props.dataFn.objSet(!_this.props.data.scratchpadMode, ['scratchpadMode']);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getPDF\", function () {\n      try {\n        var location = window.location;\n        var cMapUrl = location.protocol + '//' + location.hostname + (location.port ? ':' + location.port : '') + '/cmaps/';\n        _houshuang_pdfjs_dist__WEBPACK_IMPORTED_MODULE_1___default.a.PDFJS.cMapUrl = cMapUrl;\n        _houshuang_pdfjs_dist__WEBPACK_IMPORTED_MODULE_1___default.a.PDFJS.cMapPacked = true;\n        _houshuang_pdfjs_dist__WEBPACK_IMPORTED_MODULE_1___default.a.getDocument(_this.props.src).then(function (pdf) {\n          _this.setState({\n            pdf: pdf,\n            err: null\n          });\n        }, function (err) {\n          console.error(\"/Users/stian/src/frog/ac/ac-prez/src/PDF.js(44:10)\", 'ERROR in THEN of getPDF:', \"err\", err);\n\n          _this.setState({\n            pdf: null,\n            err: err.message\n          });\n        });\n      } catch (err) {\n        console.error(\"/Users/stian/src/frog/ac/ac-prez/src/PDF.js(49:6)\", 'ERROR GET PDF:', \"err\", err);\n\n        _this.setState({\n          pdf: null,\n          err: err.message\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(PDF, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getPDF();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.src !== prevProps.src) {\n        this.getPDF();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          activityData = _this$props.activityData,\n          data = _this$props.data,\n          dataFn = _this$props.dataFn,\n          userInfo = _this$props.userInfo;\n      var pdf = this.state.pdf;\n      var layerDisplay = null;\n\n      if (this.props.data.scratchpadMode) {\n        layerDisplay = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ScratchPad__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n          userInfo: userInfo,\n          activityData: activityData,\n          data: data,\n          dataFn: dataFn,\n          switchMode: this.switchMode\n        });\n      } else if (this.state.err) {\n        layerDisplay = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, \"Invalid PDF provided!\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, \"Error: \", this.state.err));\n      } else if (pdf) {\n        layerDisplay = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AnnotationLayer__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n          pdf: pdf,\n          userInfo: userInfo,\n          activityData: activityData,\n          data: data,\n          dataFn: dataFn,\n          switchMode: this.switchMode\n        });\n      }\n\n      var stylish = {\n        height: '100%'\n      };\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: stylish\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"viewer\",\n        className: \"pdf-viewer\",\n        style: stylish\n      }, layerDisplay));\n    }\n  }]);\n\n  return PDF;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n\n\n//# sourceURL=webpack:///../ac/ac-prez/src/PDF.js?");

/***/ }),

/***/ "../ac/ac-prez/src/ScratchPad.js":
/*!***************************************!*\
  !*** ../ac/ac-prez/src/ScratchPad.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"../node_modules/uuid/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _houshuang_pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @houshuang/pdfjs-dist */ \"../node_modules/@houshuang/pdfjs-dist/build/pdf.js\");\n/* harmony import */ var _houshuang_pdfjs_dist__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_houshuang_pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var mousetrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mousetrap */ \"../node_modules/mousetrap/mousetrap.js\");\n/* harmony import */ var mousetrap__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(mousetrap__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_resize_aware__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-resize-aware */ \"../node_modules/react-resize-aware/dist/index.js\");\n/* harmony import */ var react_resize_aware__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_resize_aware__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material-ui/core/IconButton */ \"../node_modules/@material-ui/core/IconButton/index.js\");\n/* harmony import */ var _material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _material_ui_icons_Undo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/icons/Undo */ \"../node_modules/@material-ui/icons/Undo.js\");\n/* harmony import */ var _material_ui_icons_Undo__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_Undo__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _material_ui_icons_Redo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/icons/Redo */ \"../node_modules/@material-ui/icons/Redo.js\");\n/* harmony import */ var _material_ui_icons_Redo__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_Redo__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _material_ui_icons_DeleteForever__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/icons/DeleteForever */ \"../node_modules/@material-ui/icons/DeleteForever.js\");\n/* harmony import */ var _material_ui_icons_DeleteForever__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_DeleteForever__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _material_ui_icons_TouchApp__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/icons/TouchApp */ \"../node_modules/@material-ui/icons/TouchApp.js\");\n/* harmony import */ var _material_ui_icons_TouchApp__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_TouchApp__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _material_ui_icons_Edit__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @material-ui/icons/Edit */ \"../node_modules/@material-ui/icons/Edit.js\");\n/* harmony import */ var _material_ui_icons_Edit__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_Edit__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _material_ui_icons_Title__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @material-ui/icons/Title */ \"../node_modules/@material-ui/icons/Title.js\");\n/* harmony import */ var _material_ui_icons_Title__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_Title__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _material_ui_icons_CropSquare__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @material-ui/icons/CropSquare */ \"../node_modules/@material-ui/icons/CropSquare.js\");\n/* harmony import */ var _material_ui_icons_CropSquare__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_CropSquare__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _material_ui_icons_Highlight__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @material-ui/icons/Highlight */ \"../node_modules/@material-ui/icons/Highlight.js\");\n/* harmony import */ var _material_ui_icons_Highlight__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_Highlight__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _material_ui_icons_FormatStrikethrough__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @material-ui/icons/FormatStrikethrough */ \"../node_modules/@material-ui/icons/FormatStrikethrough.js\");\n/* harmony import */ var _material_ui_icons_FormatStrikethrough__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_FormatStrikethrough__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _material_ui_icons_PresentToAll__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @material-ui/icons/PresentToAll */ \"../node_modules/@material-ui/icons/PresentToAll.js\");\n/* harmony import */ var _material_ui_icons_PresentToAll__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_PresentToAll__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./constants.js */ \"../ac/ac-prez/src/constants.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ScratchPad =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ScratchPad, _Component);\n\n  function ScratchPad(props) {\n    var _this;\n\n    _classCallCheck(this, ScratchPad);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ScratchPad).call(this));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getPDF\", function () {\n      _houshuang_pdfjs_dist__WEBPACK_IMPORTED_MODULE_2___default.a.getDocument(_this.pdfSRC).then(function (pdf) {\n        _this.pdf = pdf;\n\n        _this.forceUpdate();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"calculateNewScale\", function () {\n      var shownPageNum = 1;\n      var containerID = '#pageContainer' + shownPageNum;\n      var container = document.querySelector(containerID);\n      var viewer = document.querySelector('#viewer'); // console.log(viewer);\n      // console.log(viewer.clientWidth, viewer.clientHeight);\n      // const rectViewer = viewer.getBoundingClientRect();\n      // const rectContainer = container.getBoundingClientRect();\n      // console.log(rectViewer.top, rectViewer.right, rectViewer.bottom, rectViewer.left);\n      // console.log(rectContainer.top, rectContainer.right, rectContainer.bottom, rectContainer.left);\n\n      var w = viewer.clientWidth;\n      var h = viewer.clientHeight - 70; // console.log(w, h);\n\n      var widthScale = w / container.clientWidth;\n      var heightScale = h / container.clientHeight; // console.log(widthScale, heightScale);\n\n      var newScale = Math.min(widthScale, heightScale);\n      return newScale;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"fillPage\", function () {\n      _this.rescaleDone = false;\n      _this.queuedResize = true;\n      _this.savedScale = 1;\n\n      _this.setState({\n        initialPageLoad: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleResize\", function () {\n      if (_this.queuedResize) return;\n      _this.queuedResize = true;\n      setTimeout(_this.fillPage, 200);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"forceRenderPage\", function () {\n      if (!_this.state.initialPageLoad && !_this.rescaleDone) {\n        var newScale = _this.calculateNewScale(); // console.log(newScale);\n\n\n        _this.savedScale = newScale;\n        _this.rescaleDone = true;\n      }\n\n      var RENDER_OPTIONS = {\n        documentId: _this.pdf.fingerprint,\n        pdfDocument: _this.pdf,\n        scale: _this.savedScale,\n        rotate: 0\n      };\n      var UI = _this.PDFJSAnnotate.UI;\n      UI.renderPage(1, RENDER_OPTIONS).then(function (result) {\n        if (_this.state.initialPageLoad && !_this.rescaleDone) {\n          _this.setState({\n            initialPageLoad: false\n          });\n        } else {\n          _this.queuedResize = false;\n        }\n\n        return result;\n      }, function (err) {\n        console.error(\"/Users/stian/src/frog/ac/ac-prez/src/ScratchPad.js(228:8)\", 'ERROR RENDERING PAGE:\\n', \"err\", err);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"checkIfTeacher\", function () {\n      return _this.props.userInfo.role === 'teacher';\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"clearAnnotations\", function () {\n      _this.replaceSavedAnnotations([]);\n\n      _this.props.dataFn.objSet([], 'scratchpadAnnotations');\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getAnnotations\", function () {\n      return _this.props.data.scratchpadAnnotations;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getSavedAnnotations\", function () {\n      return JSON.parse(localStorage.getItem('savedScratchPadAnnotations') || '[]');\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"replaceSavedAnnotations\", function (savedAnnotations) {\n      localStorage.setItem('savedScratchPadAnnotations', JSON.stringify(savedAnnotations));\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"undo\", function () {\n      var annotations = _this.getAnnotations();\n\n      if (annotations.length === 0) return;\n      var index = annotations.length - 1;\n      var annotation = annotations[index];\n\n      _this.props.dataFn.listDel(null, ['scratchpadAnnotations', index.toString()]);\n\n      var savedAnnotations = _this.getSavedAnnotations();\n\n      savedAnnotations.push(annotation);\n\n      _this.replaceSavedAnnotations(savedAnnotations);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"redo\", function () {\n      var savedAnnotations = _this.getSavedAnnotations();\n\n      if (savedAnnotations.length === 0) return;\n      var annotation = savedAnnotations[savedAnnotations.length - 1];\n      savedAnnotations.splice(savedAnnotations.length - 1, 1);\n\n      _this.replaceSavedAnnotations(savedAnnotations);\n\n      _this.props.dataFn.listAppend(annotation, ['scratchpadAnnotations']);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setActiveToolbarItem\", function (item) {\n      var UI = _this.PDFJSAnnotate.UI;\n      var activeItem = _this.state.activeItem;\n\n      switch (activeItem) {\n        case 'cursor':\n          UI.disableEdit();\n          break;\n\n        case 'draw':\n          UI.disablePen();\n          break;\n\n        case 'text':\n          UI.disableText();\n          break;\n\n        case 'point':\n          UI.disablePoint();\n          break;\n\n        case 'area':\n        case 'highlight':\n        case 'strikeout':\n          UI.disableRect();\n          break;\n\n        default:\n          console.error(\"/Users/stian/src/frog/ac/ac-prez/src/ScratchPad.js(302:8)\", 'Unrecognized activeItem');\n      }\n\n      switch (item) {\n        case 'cursor':\n          UI.enableEdit();\n          break;\n\n        case 'draw':\n          UI.enablePen();\n          break;\n\n        case 'text':\n          UI.enableText();\n          break;\n\n        case 'point':\n          UI.enablePoint();\n          break;\n\n        case 'area':\n        case 'highlight':\n        case 'strikeout':\n          UI.enableRect(item);\n          break;\n\n        default:\n          console.error(\"/Users/stian/src/frog/ac/ac-prez/src/ScratchPad.js(324:8)\", 'Unrecognized new item');\n      }\n\n      _this.setState({\n        activeItem: item\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"selectPenSize\", function (e) {\n      var size = e.target.value;\n      var UI = _this.PDFJSAnnotate.UI;\n      UI.setPen(size, _this.state.penColor);\n      UI.setText(size * 6, _this.state.penColor);\n      localStorage.setItem('aSize', size);\n\n      _this.setState({\n        penSize: size\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"selectPenColor\", function (color) {\n      var UI = _this.PDFJSAnnotate.UI;\n      UI.setPen(_this.state.penSize, color);\n      UI.setText(_this.state.penSize * 6, color);\n      localStorage.setItem('aColor', color);\n\n      _this.setState({\n        penColor: color\n      });\n    });\n\n    _this.pdfSRC = '/clientFiles/ac-prez/blank.pdf';\n    _this.pdf = null;\n\n    var PDFJSAnnotate = __webpack_require__(/*! @houshuang/pdf-annotate.js */ \"../node_modules/@houshuang/pdf-annotate.js/dist/pdf-annotate.min.js\");\n\n    var that = _assertThisInitialized(_assertThisInitialized(_this));\n\n    var StoreAdapter = new PDFJSAnnotate.StoreAdapter({\n      getAnnotations: function getAnnotations(documentId, pageNumber) {\n        var annotations = that.getAnnotations();\n        return Promise.resolve({\n          documentId: documentId,\n          pageNumber: pageNumber,\n          annotations: annotations\n        });\n      },\n      getAnnotation: function getAnnotation(documentId, annotationId) {\n        var annotations = that.getAnnotations();\n        var annotation = annotations.filter(function (a) {\n          return a.uuid === annotationId;\n        })[0];\n        return Promise.resolve(annotation);\n      },\n      addAnnotation: function addAnnotation(documentId, pageNumber, annotation) {\n        annotation.class = 'Annotation';\n        annotation.uuid = uuid__WEBPACK_IMPORTED_MODULE_1___default()();\n        annotation.page = pageNumber;\n\n        if (annotation.type === 'textbox') {\n          annotation.size = that.state.penSize * 6;\n          annotation.color = that.state.penColor;\n        }\n\n        var annotations = that.getAnnotations();\n        annotations.push(annotation);\n        if (annotations.length === 0) props.dataFn.objInsert([annotation], ['scratchpadAnnotations']);else props.dataFn.listAppend(annotation, ['scratchpadAnnotations']);\n        that.replaceSavedAnnotations([]);\n        return Promise.resolve(annotation);\n      },\n      editAnnotation: function editAnnotation(documentId, pageNumber, annotation) {\n        var annotations = that.getAnnotations();\n        var index = annotations.findIndex(function (x) {\n          return x.uuid === annotation.uuid;\n        });\n        return new Promise(function (resolve, reject) {\n          if (index === -1) reject(new Error('Could not find annotation!'));else {\n            annotations[index] = annotation;\n            props.dataFn.objSet(annotation, ['scratchpadAnnotations', index.toString()]);\n            resolve(annotation);\n          }\n        });\n      },\n      deleteAnnotation: function deleteAnnotation(documentId, annotationId) {\n        var annotations = that.getAnnotations();\n        var index = annotations.findIndex(function (x) {\n          return x.uuid === annotationId;\n        });\n        return new Promise(function (resolve, reject) {\n          if (index === -1) reject(new Error('Could not find annotation!'));else {\n            var savedAnnotations = that.getSavedAnnotations();\n            savedAnnotations.push(annotations[index]);\n            that.replaceSavedAnnotations(savedAnnotations);\n            props.dataFn.listDel(null, ['scratchpadAnnotations', index]);\n            resolve(true);\n          }\n        });\n      },\n      getComments: function getComments() {\n        return Promise.resolve([]);\n      }\n    });\n    PDFJSAnnotate.setStoreAdapter(StoreAdapter);\n    PDFJSAnnotate.UI.disableEdit();\n    PDFJSAnnotate.UI.disablePen();\n    PDFJSAnnotate.UI.disableText();\n    PDFJSAnnotate.UI.disablePoint();\n    PDFJSAnnotate.UI.disableRect();\n    PDFJSAnnotate.UI.enableEdit();\n    PDFJSAnnotate.UI.setPen(_constants_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"].defaultSize, _constants_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"].defaultColor);\n    PDFJSAnnotate.UI.setText(_constants_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"].defaultSize * 6, _constants_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"].defaultColor);\n    localStorage.setItem('aColor', _constants_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"].defaultColor);\n    localStorage.setItem('aSize', _constants_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"].defaultSize);\n    _this.state = {\n      activeItem: 'cursor',\n      penSize: _constants_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"].defaultSize,\n      penColor: _constants_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"].defaultColor,\n      initalPageLoad: true\n    };\n    _this.PDFJSAnnotate = PDFJSAnnotate;\n    _this.rescaleDone = false;\n    _this.queuedResize = true;\n    return _this;\n  }\n\n  _createClass(ScratchPad, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      mousetrap__WEBPACK_IMPORTED_MODULE_3___default.a.unbind('backspace');\n      mousetrap__WEBPACK_IMPORTED_MODULE_3___default.a.unbind('r');\n      mousetrap__WEBPACK_IMPORTED_MODULE_3___default.a.unbind('d');\n      mousetrap__WEBPACK_IMPORTED_MODULE_3___default.a.unbind('t');\n      mousetrap__WEBPACK_IMPORTED_MODULE_3___default.a.unbind('a');\n      mousetrap__WEBPACK_IMPORTED_MODULE_3___default.a.unbind('c');\n      window.removeEventListener('resize', this.handleResize);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.getPDF();\n      mousetrap__WEBPACK_IMPORTED_MODULE_3___default.a.bind('backspace', function () {\n        return _this2.undo();\n      });\n      mousetrap__WEBPACK_IMPORTED_MODULE_3___default.a.bind('r', function () {\n        return _this2.redo();\n      });\n      mousetrap__WEBPACK_IMPORTED_MODULE_3___default.a.bind('d', function () {\n        return _this2.setActiveToolbarItem('draw');\n      });\n      mousetrap__WEBPACK_IMPORTED_MODULE_3___default.a.bind('t', function () {\n        return _this2.setActiveToolbarItem('text');\n      });\n      mousetrap__WEBPACK_IMPORTED_MODULE_3___default.a.bind('a', function () {\n        return _this2.setActiveToolbarItem('area');\n      });\n      mousetrap__WEBPACK_IMPORTED_MODULE_3___default.a.bind('c', function () {\n        return _this2.setActiveToolbarItem('cursor');\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.forceRenderPage();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var pageAnnotationsLocalStorage = this.getSavedAnnotations();\n      var pageAnnotationsDatabase = this.getAnnotations();\n      var UI = this.PDFJSAnnotate.UI;\n      var test = UI.createPage(1);\n      var svgStyle = test.querySelector('svg').style;\n      svgStyle.position = 'absolute';\n      svgStyle.top = '0';\n      svgStyle.left = '0';\n      var testStyle = {\n        position: 'relative',\n        margin: '0 auto'\n      };\n      var divIDTest = 'pageContainer' + 1;\n      var iconMapping = {\n        cursor: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_TouchApp__WEBPACK_IMPORTED_MODULE_9___default.a, null),\n        draw: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Edit__WEBPACK_IMPORTED_MODULE_10___default.a, null),\n        text: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Title__WEBPACK_IMPORTED_MODULE_11___default.a, null),\n        area: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_CropSquare__WEBPACK_IMPORTED_MODULE_12___default.a, null),\n        highlight: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Highlight__WEBPACK_IMPORTED_MODULE_13___default.a, null),\n        strikeout: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_FormatStrikethrough__WEBPACK_IMPORTED_MODULE_14___default.a, null)\n      };\n      var iconButtonStyle = {\n        width: '48px'\n      };\n      var annotateItems = _constants_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"].ScratchPadToolbarItems.map(function (item) {\n        var icon = iconMapping[item];\n        var color = 'primary';\n        if (_this3.state.activeItem === item) color = 'secondary';\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_5___default.a, {\n          style: iconButtonStyle,\n          color: color,\n          key: item,\n          onClick: function onClick() {\n            return _this3.setActiveToolbarItem(item);\n          }\n        }, icon);\n      });\n      var sizeOptions = _constants_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"].sizeOptions.map(function (size) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"option\", {\n          key: 'penSize' + size,\n          value: size\n        }, ' ', size);\n      });\n      var selectStyle = {\n        display: 'inline-block',\n        fontSize: '14px',\n        fontFamily: 'sans-serif',\n        marginLeft: '10px'\n      };\n      var penSizeItem = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"select\", {\n        key: \"penSize\",\n        id: \"sizeSelect\",\n        value: this.state.penSize,\n        onChange: this.selectPenSize,\n        style: selectStyle\n      }, sizeOptions);\n      var colorOptions = _constants_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"].colorOptions.map(function (colorOption) {\n        var color = colorOption[0]; // const text = colorOption[1];\n\n        var style = {\n          background: color,\n          color: 'white',\n          width: '16px',\n          height: '16px',\n          borderRadius: '8px',\n          border: 'none',\n          margin: '0 2px',\n          marginTop: '1px'\n        };\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n          key: 'penColor' + color,\n          onClick: function onClick() {\n            return _this3.selectPenColor(color);\n          },\n          style: style\n        });\n      });\n      var penColorItem = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        key: \"penColor\"\n      }, colorOptions);\n      var drawingItems = [];\n\n      if (this.state.activeItem === 'draw' || this.state.activeItem === 'area' || this.state.activeItem === 'text') {\n        drawingItems.push(penColorItem);\n        drawingItems.push(penSizeItem);\n      } else {\n        drawingItems.push(penColorItem);\n        drawingItems.push(penSizeItem);\n      }\n\n      var modifyingitems = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_5___default.a, {\n        style: iconButtonStyle,\n        color: \"secondary\",\n        onClick: this.props.switchMode\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_PresentToAll__WEBPACK_IMPORTED_MODULE_15___default.a, null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_5___default.a, {\n        style: iconButtonStyle,\n        color: \"primary\",\n        onClick: this.undo,\n        disabled: pageAnnotationsDatabase.length === 0\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Undo__WEBPACK_IMPORTED_MODULE_6___default.a, null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_5___default.a, {\n        style: iconButtonStyle,\n        color: \"primary\",\n        onClick: this.redo,\n        disabled: pageAnnotationsLocalStorage.length === 0\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Redo__WEBPACK_IMPORTED_MODULE_7___default.a, null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_5___default.a, {\n        style: iconButtonStyle,\n        color: \"primary\",\n        onClick: this.clearAnnotations,\n        disabled: pageAnnotationsDatabase.length === 0 && pageAnnotationsLocalStorage.length === 0\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_DeleteForever__WEBPACK_IMPORTED_MODULE_8___default.a, null)));\n      var toolbarStyle = {\n        minHeight: '50px',\n        paddingTop: '5px',\n        borderBottom: '1px solid lightblue',\n        marginBottom: '5px'\n      };\n      var groupDivStyle = {\n        display: 'inline-block',\n        height: '50px',\n        textAlign: 'center',\n        verticalAlign: 'top'\n      };\n      var leftyStyle = {\n        width: '30%',\n        minWidth: '250px'\n      };\n      var drawingItemsStyle = {\n        width: '15%',\n        lineHeight: '50px',\n        minWidth: '125px'\n      };\n      var midStyle = {\n        width: '10%',\n        lineHeight: '50px'\n      };\n      var rightyStyle = {\n        width: '45%',\n        minWidth: '200px'\n      };\n\n      if (!this.checkIfTeacher() && !this.props.activityData.config.everyoneCanEdit) {\n        annotateItems = null;\n        modifyingitems = null;\n        drawingItems = null;\n        leftyStyle.height = '10px';\n        drawingItemsStyle.height = '10px';\n        rightyStyle.height = '10px';\n        leftyStyle.width = '0px';\n        drawingItemsStyle.width = '0px';\n        rightyStyle.width = '0px';\n        leftyStyle.minWidth = '0px';\n        drawingItemsStyle.minWidth = '0px';\n        rightyStyle.minWidth = '0px';\n        midStyle.width = '100%';\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_resize_aware__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        style: {\n          position: 'relative',\n          height: '100%'\n        },\n        onlyEvent: true,\n        onResize: this.handleResize\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: toolbarStyle\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: Object.assign({}, groupDivStyle, leftyStyle)\n      }, annotateItems), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: Object.assign({}, groupDivStyle, drawingItemsStyle)\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, drawingItems)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: Object.assign({}, groupDivStyle, midStyle)\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"ScratchPad\")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: Object.assign({}, groupDivStyle, rightyStyle)\n      }, modifyingitems)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: divIDTest,\n        style: testStyle,\n        dangerouslySetInnerHTML: {\n          __html: test.innerHTML\n        } // eslint-disable-line react/no-danger\n\n      })));\n    }\n  }]);\n\n  return ScratchPad;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ScratchPad);\n\n//# sourceURL=webpack:///../ac/ac-prez/src/ScratchPad.js?");

/***/ }),

/***/ "../ac/ac-prez/src/constants.js":
/*!**************************************!*\
  !*** ../ac/ac-prez/src/constants.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar constants = {\n  toolbarItems: [// 'cursor',\n  'highlight', 'strikeout', 'area', 'draw', 'text' // 'point'\n  ],\n  ScratchPadToolbarItems: ['cursor', 'area', 'draw', 'text'],\n  sizeOptions: [1, 2, 3, 4, 5, 6, 7, 8],\n  colorOptions: [['#000000', 'Black'], ['#FF0000', 'Red'], ['#FFFF00', 'Yellow'], ['#0000FF', 'Blue'] // ['#32CD32', 'Green']\n  ],\n  defaultSize: 3,\n  defaultColor: '#000000'\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (constants);\n\n//# sourceURL=webpack:///../ac/ac-prez/src/constants.js?");

/***/ })

}]);
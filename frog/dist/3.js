(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[3],{

/***/ "./imports/api/cache.js":
/*!******************************!*\
  !*** ./imports/api/cache.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LibraryStates = exports.DashboardStates = exports.SharedbCache = void 0;\nvar SharedbCache = {};\nexports.SharedbCache = SharedbCache;\nvar DashboardStates = {};\nexports.DashboardStates = DashboardStates;\nvar LibraryStates = {\n  activityList: [],\n  lastRefreshAct: null,\n  graphList: [],\n  lastRefreshGraph: null\n};\nexports.LibraryStates = LibraryStates;\n\n//# sourceURL=webpack:///./imports/api/cache.js?");

/***/ }),

/***/ "./imports/api/changelog.js":
/*!**********************************!*\
  !*** ./imports/api/changelog.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateChangelogVersion = exports.default = void 0;\nvar changelog = [{\n  date: new Date('08/21/2018'),\n  title: 'Integrated changelog',\n  content: ['FROG will now tell you on login about any significant new features that have been added since the last time you logged on']\n}, {\n  date: new Date('09/18/2018'),\n  title: 'Easier login for multiple users, and URL change',\n  content: ['If you use ?login=name to log in, it will now store that user in the sessionStorage, which is local to each tab. This means that you can keep multiple users logged in for testing, without worrying about reloading. This only applies when you log in using the ?login= method.', 'We have changed the URL structure of the Session tab, now the SLUG of the session is displayed, instead of the UUID.']\n}, {\n  date: new Date('09/24/2018'),\n  title: 'Improvements in Brainstorm and Single-LI',\n  content: ['The Brainstorm activity has gained a lot of new options, and we fixed some bugs. The configurations of existing graphs should be automatically upgraded, but make sure to check.', 'We added an option to Single-LI to immediately create a LI, and not require students to submit. Note that this can result in empty LIs being sent to other activities/operators.']\n}, {\n  date: new Date('10/04/2018'),\n  title: 'Easier debug login, filtering and starring Learning Items',\n  content: ['There are now three ways of logging in directly from the URL bar, the normal ?login=name, ?debugLogin=name and ?researchLogin=name. The two latter will not write anything to sessionStorage or localStorage, but will keep the query parameter (?debugLogin=...) in the URL, so that if you reload in the same tab, you will be logged in as the same user. We have also added two menu items in the Session menu, \"open one student\" and \"open 3 students\", which will open 1/3 tabs with students in the current session. Note that Chrome will block popups, and you need to \"trust\" FROG in the URL bar.', 'We now have the possibility of searching Learning Items, and displaying them with search terms highlighted, by passing the search parameter to a LearningItem. This has been implemented as an option in ac-gallery. Ac-gallery has also gained the option to let users star items, and toggle between only showing starred items, or showing all items.']\n}];\nvar _default = changelog;\nexports.default = _default;\n\nvar updateChangelogVersion = function updateChangelogVersion() {\n  Meteor.users.update(Meteor.userId(), {\n    $set: {\n      'profile.lastVersionChangelog': changelog.length - 1\n    }\n  });\n};\n\nexports.updateChangelogVersion = updateChangelogVersion;\n\n//# sourceURL=webpack:///./imports/api/changelog.js?");

/***/ }),

/***/ "./imports/api/doGetInstances.js":
/*!***************************************!*\
  !*** ./imports/api/doGetInstances.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _meteor = __webpack_require__(/*! meteor/meteor */ \"meteor/meteor\");\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\n// given an activityEntry and an objectEntry, calculates which instances\n// to create\nvar _default = function _default(activity, object) {\n  var groups;\n  var structure;\n\n  if (activity.plane === 1) {\n    groups = object && object.globalStructure ? object.globalStructure.studentIds : [];\n    structure = 'individual';\n  } else if (activity.plane === 2) {\n    var key = activity.groupingKey;\n\n    if (typeof key !== 'string') {\n      throw new _meteor.Meteor.Error('Need groupingKey in p2 activities, got:', key);\n    } else {\n      groups = (0, _frogUtils.getAttributeValues)(object.socialStructure, key);\n      structure = {\n        groupingKey: key\n      };\n    }\n  } else {\n    groups = ['all'];\n    structure = 'all';\n  }\n\n  return {\n    groups: groups,\n    structure: structure\n  };\n};\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/api/doGetInstances.js?");

/***/ }),

/***/ "./imports/api/mergeLogData.js":
/*!*************************************!*\
  !*** ./imports/api/mergeLogData.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mergeLog = exports.regenerateState = exports.initializeDashboardState = exports.createDashboards = void 0;\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _activityTypes = __webpack_require__(/*! ../activityTypes */ \"./imports/activityTypes.js\");\n\nvar _logs = __webpack_require__(/*! ./logs */ \"./imports/api/logs.js\");\n\nvar _cache = __webpack_require__(/*! ./cache */ \"./imports/api/cache.js\");\n\nvar _activities = __webpack_require__(/*! ./activities.js */ \"./imports/api/activities.js\");\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar activityCache = {};\n\nvar createDashboards = function createDashboards(activity) {\n  var refresh = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var aT = _activityTypes.activityTypesObj[activity.activityType];\n\n  if (aT.dashboards) {\n    Object.keys(aT.dashboards).forEach(function (dash) {\n      return initializeDashboardState(aT, activity._id, dash, refresh);\n    });\n  }\n};\n\nexports.createDashboards = createDashboards;\n\nvar initializeDashboardState = function initializeDashboardState(activityType, activityId, name) {\n  var refresh = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var dashId = activityId + '-' + name;\n  var dashState = _cache.DashboardStates[dashId];\n\n  if (!dashState || refresh) {\n    var dash = activityType.dashboards && activityType.dashboards[name];\n    var init = dash && dash.initData || {};\n    _cache.DashboardStates[dashId] = (0, _lodash.cloneDeep)(init);\n  }\n};\n\nexports.initializeDashboardState = initializeDashboardState;\n\nvar regenerateState = function regenerateState(activityType, activityId, name) {\n  var dashId = activityId + '-' + name;\n\n  if (!_cache.DashboardStates[dashId]) {\n    initializeDashboardState(activityType, activityId, name);\n\n    var logs = _logs.Logs.find({\n      activityId: activityId\n    }).fetch();\n\n    var dash = activityType.dashboards && activityType.dashboards[name];\n    var mergeLogFn = dash && dash.mergeLog;\n\n    if (!activityCache[activityId]) {\n      activityCache[activityId] = _activities.Activities.findOne(activityId);\n    }\n\n    var activity = activityCache[activityId];\n\n    if (mergeLogFn) {\n      logs.forEach(function (log) {\n        return mergeLogFn(_cache.DashboardStates[log.activityId + '-' + name], log, activity);\n      });\n    }\n  }\n};\n\nexports.regenerateState = regenerateState;\n\nvar mergeLog = function mergeLog(rawLog, logExtra, suppliedActivity, onlyWriteDB, dontWriteDB) {\n  var logs = Array.isArray(rawLog) ? rawLog : [rawLog];\n  logs.forEach(function (eachLog) {\n    var log = _objectSpread({}, logExtra, eachLog, {\n      timestamp: new Date()\n    });\n\n    try {\n      if (!dontWriteDB) {\n        _logs.Logs.insert(log);\n      }\n\n      if (!onlyWriteDB && log.activityType && log.activityId) {\n        var aT = _activityTypes.activityTypesObj[log.activityType];\n\n        if (aT.dashboards) {\n          if (!activityCache[log.activityId] && !suppliedActivity) {\n            activityCache[log.activityId] = _activities.Activities.findOne(log.activityId);\n          }\n\n          var activity = suppliedActivity || activityCache[log.activityId];\n          Object.keys(aT.dashboards).forEach(function (name) {\n            var dash = aT.dashboards && aT.dashboards[name];\n            var mergeLogFn = dash && dash.mergeLog;\n\n            if (mergeLogFn) {\n              if (!_cache.DashboardStates[log.activityId + '-' + name]) {\n                regenerateState(aT, log.activityId, name);\n              }\n\n              mergeLogFn(_cache.DashboardStates[log.activityId + '-' + name], log, activity);\n            }\n          });\n        }\n      }\n    } catch (e) {\n      console.error(\"/Users/stian/src/frog/frog/imports/api/mergeLogData.js(101:6)\", \"log\", log, \"e\", e);\n    }\n  });\n};\n\nexports.mergeLog = mergeLog;\n\n//# sourceURL=webpack:///./imports/api/mergeLogData.js?");

/***/ }),

/***/ "./imports/api/remoteActivities.js":
/*!*****************************************!*\
  !*** ./imports/api/remoteActivities.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.importAct = exports.loadActivityMetaData = exports.sendActivity = exports.checkDateAct = exports.collectActivities = exports.refreshActDate = exports.updateActivity = exports.removeActivity = void 0;\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _activityTypes = __webpack_require__(/*! ../activityTypes */ \"./imports/activityTypes.js\");\n\nvar _activities = __webpack_require__(/*! ./activities */ \"./imports/api/activities.js\");\n\nvar _cache = __webpack_require__(/*! ./cache */ \"./imports/api/cache.js\");\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar RemoteServer = Meteor.settings.public.remoteServer || 'https://icchilisrv4.epfl.ch:5500/activities';\n\nvar removeActivity = function removeActivity(id, callback) {\n  fetch(RemoteServer + '?uuid=eq.' + id, {\n    method: 'PATCH',\n    headers: {\n      'Content-type': 'application/json'\n    },\n    body: JSON.stringify({\n      deleted: true\n    })\n  }).then(function () {\n    return collectActivities(callback);\n  });\n};\n\nexports.removeActivity = removeActivity;\n\nvar updateActivity = function updateActivity(id, activity, callback) {\n  var act = (0, _lodash.omitBy)({\n    title: activity.title,\n    description: activity.description,\n    config: _objectSpread({}, activity.data),\n    tags: '{' + activity.tags.join(',') + '}',\n    is_public: activity.public\n  }, _lodash.isNil);\n  fetch(RemoteServer + '?uuid=eq.' + id, {\n    method: 'PATCH',\n    headers: {\n      'Content-type': 'application/json'\n    },\n    body: JSON.stringify(act)\n  }).then(function () {\n    return collectActivities(callback);\n  });\n};\n\nexports.updateActivity = updateActivity;\n\nvar refreshActDate = function refreshActDate() {\n  return _cache.LibraryStates.lastRefreshAct = new Date();\n};\n\nexports.refreshActDate = refreshActDate;\n\nvar collectActivities = function collectActivities(callback) {\n  return fetch(RemoteServer + '?select=uuid,title,description,tags,activity_type,owner_id,timestamp,is_public&deleted=not.is.true&or=(is_public.not.is.false,owner_id.eq.' + Meteor.user().username + ')').then(function (e) {\n    return e.json();\n  }).then(function (r) {\n    _cache.LibraryStates.activityList = r.filter(function (x) {\n      return !x.deleted;\n    });\n    refreshActDate();\n    if (callback) callback();\n  });\n};\n\nexports.collectActivities = collectActivities;\n\nvar checkDateAct = function checkDateAct(callback) {\n  if (!_cache.LibraryStates.lastRefreshAct || new Date() - _cache.LibraryStates.lastRefreshAct > 60000) {\n    collectActivities(callback);\n  }\n};\n\nexports.checkDateAct = checkDateAct;\n\nvar sendActivity = function sendActivity(state, props, id) {\n  var newId = id || (0, _frogUtils.uuid)();\n  var act = {\n    title: state.title,\n    description: state.description,\n    owner_id: Meteor.user().username,\n    config: _activityTypes.activityTypesObj[props.activity.activityType].upgradeFunctions ? (0, _frogUtils.chainUpgrades)(_activityTypes.activityTypesObj[props.activity.activityType].upgradeFunctions, props.activity.configVersion || 1, _activityTypes.activityTypesObj[props.activity.activityType].configVersion)(props.activity.data) : props.activity.data,\n    config_version: _activityTypes.activityTypesObj[props.activity.activityType].configVersion,\n    is_public: state.public,\n    tags: '{' + state.tags.join(',') + '}',\n    parent_id: props.activity.parentId,\n    uuid: newId,\n    activity_type: props.activity.activityType\n  };\n  fetch(RemoteServer, {\n    method: 'POST',\n    headers: {\n      'Content-type': 'application/json'\n    },\n    body: JSON.stringify(act)\n  });\n\n  _activities.Activities.update(props.activity._id, {\n    $set: {\n      parentId: newId\n    }\n  });\n\n  _cache.LibraryStates.activityList.push({\n    uuid: newId,\n    title: state.title,\n    owner_id: Meteor.user().username,\n    description: state.description,\n    tags: state.tags\n  });\n};\n\nexports.sendActivity = sendActivity;\n\nvar loadActivityMetaData = function loadActivityMetaData(id, callback) {\n  fetch(RemoteServer + '?uuid=eq.' + id + '&select=id,title,description,tags,owner_id,is_public').then(function (e) {\n    return e.json();\n  }).then(function (e) {\n    var toChangeIdx = _cache.LibraryStates.activityList.findIndex(function (x) {\n      return x.uuid === id;\n    });\n\n    if (toChangeIdx !== -1) {\n      _cache.LibraryStates.activityList[toChangeIdx] = {\n        uuid: id,\n        title: e[0].title,\n        owner_id: e[0].owner_id,\n        description: e[0].description,\n        tags: e[0].tags,\n        public: e[0].is_public\n      };\n    } else _cache.LibraryStates.activityList.push({\n      uuid: id,\n      title: e[0].title,\n      owner_id: e[0].owner_id,\n      description: e[0].description,\n      tags: e[0].tags,\n      public: e[0].is_public\n    });\n\n    if (callback) {\n      callback();\n    }\n  });\n};\n\nexports.loadActivityMetaData = loadActivityMetaData;\n\nvar importAct = function importAct(id, activityId, callback, onSelect) {\n  fetch(RemoteServer + '?uuid=eq.' + id).then(function (e) {\n    return e.json();\n  }).then(function (e) {\n    (0, _activities.addActivity)(e[0].activity_type, e[0].config, activityId, e[0].configVersion, null, id);\n    if (onSelect) onSelect({\n      id: e[0]\n    });\n\n    if (callback) {\n      callback(e[0]);\n    }\n  });\n};\n\nexports.importAct = importAct;\n\n//# sourceURL=webpack:///./imports/api/remoteActivities.js?");

/***/ }),

/***/ "./imports/api/remoteGraphs.js":
/*!*************************************!*\
  !*** ./imports/api/remoteGraphs.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.importGraph = exports.sendGraph = exports.checkDateGraph = exports.collectGraphs = exports.refreshGraphDate = exports.loadGraphMetaData = exports.updateGraph = exports.removeGraph = void 0;\n\nvar _meteor = __webpack_require__(/*! meteor/meteor */ \"meteor/meteor\");\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _graphs = __webpack_require__(/*! ./graphs */ \"./imports/api/graphs.js\");\n\nvar _cache = __webpack_require__(/*! ./cache */ \"./imports/api/cache.js\");\n\nvar _export = __webpack_require__(/*! ../ui/GraphEditor/utils/export */ \"./imports/ui/GraphEditor/utils/export.js\");\n\nvar RemoteServer = _meteor.Meteor.settings && _meteor.Meteor.settings.public.remoteServer || 'https://icchilisrv4.epfl.ch:5500/graphs';\n\nvar removeGraph = function removeGraph(id, callback) {\n  fetch(RemoteServer + '?uuid=eq.' + id, {\n    method: 'PATCH',\n    headers: {\n      'Content-type': 'application/json'\n    },\n    body: JSON.stringify({\n      deleted: true\n    })\n  }).then(function () {\n    return collectGraphs(callback);\n  });\n};\n\nexports.removeGraph = removeGraph;\n\nvar updateGraph = function updateGraph(id, graph, state, callback) {\n  var newGraph = (0, _lodash.omitBy)({\n    title: state.title,\n    description: state.description,\n    tags: '{' + state.tags.join(',') + '}',\n    is_public: state.public,\n    graph: (0, _export.graphToString)(graph)\n  }, _lodash.isNil);\n  fetch(RemoteServer + '?uuid=eq.' + id, {\n    method: 'PATCH',\n    headers: {\n      'Content-type': 'application/json'\n    },\n    body: JSON.stringify(newGraph)\n  }).then(function () {\n    return collectGraphs(callback);\n  });\n};\n\nexports.updateGraph = updateGraph;\n\nvar loadGraphMetaData = function loadGraphMetaData(id, callback) {\n  fetch(RemoteServer + '?uuid=eq.' + id + '&select=title,owner_id,description,tags').then(function (e) {\n    return e.json();\n  }).then(function (e) {\n    var toChangeIdx = _cache.LibraryStates.graphList.findIndex(function (x) {\n      return x.uuid === id;\n    });\n\n    if (toChangeIdx >= 0) {\n      _cache.LibraryStates.graphList[toChangeIdx] = {\n        uuid: id,\n        title: e[0].title,\n        owner_id: e[0].owner_id,\n        description: e[0].description,\n        tags: e[0].tags\n      };\n    } else _cache.LibraryStates.graphList.push({\n      uuid: id,\n      title: e[0].title,\n      owner_id: e[0].owner_id,\n      description: e[0].description,\n      tags: e[0].tags\n    });\n\n    if (callback) {\n      callback();\n    }\n  });\n};\n\nexports.loadGraphMetaData = loadGraphMetaData;\n\nvar refreshGraphDate = function refreshGraphDate() {\n  return _cache.LibraryStates.lastRefreshGraph = new Date();\n};\n\nexports.refreshGraphDate = refreshGraphDate;\n\nvar collectGraphs = function collectGraphs(callback) {\n  return fetch(RemoteServer + '?select=uuid,title,description,tags,timestamp,owner_id&deleted=not.is.true&or=(is_public.not.is.false,owner_id.eq.' + _meteor.Meteor.user().username + ')').then(function (e) {\n    return e.json();\n  }).then(function (r) {\n    _cache.LibraryStates.graphList = r;\n    refreshGraphDate();\n    if (callback) callback();\n  });\n};\n\nexports.collectGraphs = collectGraphs;\n\nvar checkDateGraph = function checkDateGraph(callback) {\n  if (!_cache.LibraryStates.lastRefreshGraph || new Date() - _cache.LibraryStates.lastRefreshGraph > 60000) {\n    collectGraphs(callback);\n  }\n};\n\nexports.checkDateGraph = checkDateGraph;\n\nvar sendGraph = function sendGraph(state, props) {\n  var newId = (0, _frogUtils.uuid)();\n  var graph = {\n    title: state.title,\n    description: state.description,\n    tags: '{' + state.tags.join(',') + '}',\n    parent_id: _graphs.Graphs.findOne(props.graphId).parentId,\n    owner_id: _meteor.Meteor.user().username,\n    is_public: state.public,\n    uuid: newId,\n    graph: (0, _export.graphToString)(props.graphId)\n  };\n  fetch(RemoteServer, {\n    method: 'POST',\n    headers: {\n      'Content-type': 'application/json'\n    },\n    body: JSON.stringify(graph)\n  });\n\n  _graphs.Graphs.update(props.graphId, {\n    $set: {\n      parentId: newId\n    }\n  });\n\n  _cache.LibraryStates.graphList.push({\n    uuid: newId,\n    title: state.title,\n    owner_id: _meteor.Meteor.user().username,\n    description: state.description,\n    tags: state.tags,\n    timestamp: new Date()\n  });\n};\n\nexports.sendGraph = sendGraph;\n\nvar importGraph = function importGraph(id, title) {\n  fetch(RemoteServer + '?uuid=eq.' + id).then(function (e) {\n    return e.json();\n  }).then(function (e) {\n    var graphId = (0, _export.doImportGraph)(e[0].graph, title);\n\n    _graphs.Graphs.update({\n      _id: graphId\n    }, {\n      $set: {\n        parentId: id\n      }\n    });\n  });\n};\n\nexports.importGraph = importGraph;\n\n//# sourceURL=webpack:///./imports/api/remoteGraphs.js?");

/***/ }),

/***/ "./imports/ui/Dashboard/ImageBox.js":
/*!******************************************!*\
  !*** ./imports/ui/Dashboard/ImageBox.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _Paper = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Paper */ \"../node_modules/@material-ui/core/Paper/index.js\"));\n\nvar _styles = __webpack_require__(/*! @material-ui/core/styles */ \"../node_modules/@material-ui/core/styles/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar styles = function styles() {\n  return {\n    root: {\n      height: '100%',\n      width: '100%',\n      padding: '20px'\n    },\n    image: {\n      position: 'relative',\n      border: 'none',\n      background: 'none',\n      maxWidth: '250px',\n      height: '250px',\n      width: '100%',\n      margin: '5px',\n      padding: '0px',\n      flex: '0 1 auto'\n    }\n  };\n};\n\nvar ImageBox = function ImageBox(_ref) {\n  var children = _ref.children,\n      onClick = _ref.onClick,\n      classes = _ref.classes;\n  return _react.default.createElement(\"button\", {\n    onClick: onClick,\n    className: classes.image\n  }, _react.default.createElement(_Paper.default, {\n    elevation: 4,\n    className: classes.root\n  }, children));\n};\n\nImageBox.displayName = 'ImageBox';\n\nvar _default = (0, _styles.withStyles)(styles)(ImageBox);\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/Dashboard/ImageBox.js?");

/***/ }),

/***/ "./imports/ui/Dashboard/LIDashboard.js":
/*!*********************************************!*\
  !*** ./imports/ui/Dashboard/LIDashboard.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _styles = __webpack_require__(/*! @material-ui/core/styles */ \"../node_modules/@material-ui/core/styles/index.js\");\n\nvar _meteor = __webpack_require__(/*! meteor/meteor */ \"meteor/meteor\");\n\nvar _styledComponents = _interopRequireDefault(__webpack_require__(/*! styled-components */ \"../node_modules/styled-components/dist/styled-components.browser.es.js\"));\n\nvar _core = __webpack_require__(/*! @material-ui/core */ \"../node_modules/@material-ui/core/index.es.js\");\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _activityTypes = __webpack_require__(/*! ../../activityTypes */ \"./imports/activityTypes.js\");\n\nvar _activities = __webpack_require__(/*! ../../api/activities */ \"./imports/api/activities.js\");\n\nvar _sessions = __webpack_require__(/*! ../../api/sessions */ \"./imports/api/sessions.js\");\n\nvar _ImageBox = _interopRequireDefault(__webpack_require__(/*! ./ImageBox */ \"./imports/ui/Dashboard/ImageBox.js\"));\n\nvar _LearningItem = _interopRequireDefault(__webpack_require__(/*! ../LearningItem */ \"./imports/ui/LearningItem/index.js\"));\n\nvar _connection = __webpack_require__(/*! ../App/connection */ \"./imports/ui/App/connection.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 10%;\\n  z-index: 1;\\n  width: 600px;\\n  background: rgba(50, 50, 50, 0.8);\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar doc = _connection.connection.get('li', 'displayLI');\n\nvar dataFn = (0, _frogUtils.generateReactiveFn)(doc, _LearningItem.default);\nvar LearningItem = dataFn.LearningItem;\n\nvar MyMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MyMenu, _React$Component);\n\n  function MyMenu() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MyMenu);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MyMenu)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      open: false\n    });\n\n    return _this;\n  }\n\n  _createClass(MyMenu, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(React.Fragment, null, React.createElement(_core.Button, {\n        onClick: function onClick(e) {\n          return _this2.setState({\n            open: e.currentTarget\n          });\n        }\n      }, this.props.title), this.state.open && React.createElement(_core.Menu, {\n        open: !!this.state.open,\n        anchorEl: this.state.open\n      }, this.props.choices.map(function (x) {\n        return React.createElement(_core.MenuItem, {\n          key: x.key,\n          onClick: function onClick() {\n            _this2.setState({\n              open: null\n            });\n\n            x.onClick();\n          }\n        }, x.title);\n      })));\n    }\n  }]);\n\n  return MyMenu;\n}(React.Component);\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(Dashboard, _React$Component2);\n\n  function Dashboard(props) {\n    var _this3;\n\n    _classCallCheck(this, Dashboard);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(Dashboard).call(this, props));\n    _this3.state = {\n      results: [],\n      search: '',\n      filter: props.activityId,\n      filterTitle: undefined\n    };\n    return _this3;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this4 = this;\n\n      var query = this.props.sessionId ? {\n        sessionId: this.props.sessionId,\n        draft: {\n          $ne: true\n        }\n      } : {\n        _id: this.props.id\n      };\n\n      var subscription = _connection.connection.createSubscribeQuery('li', query, {}, function (err, results) {\n        return _this4.setState({\n          results: results.map(function (x) {\n            return _objectSpread({}, x.data, {\n              id: x.id\n            });\n          })\n        });\n      });\n\n      subscription.on('changed', function (e) {\n        return _this4.setState({\n          results: e.map(function (x) {\n            return _objectSpread({}, x.data, {\n              id: x.id\n            });\n          })\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var res = this.state.results;\n\n      if (this.state.filter) {\n        res = this.state.results.filter(function (x) {\n          return x.createdInActivity === _this5.state.filter;\n        });\n      }\n\n      if (this.state.search.trim() !== '') {\n        res = res.filter(function (x) {\n          return JSON.stringify(x.payload).includes(_this5.state.search.trim());\n        });\n      }\n\n      var graphId = this.props.sessionId && _sessions.Sessions.findOne(this.props.sessionId).graphId;\n\n      return React.createElement(\"div\", {\n        style: {\n          height: '900px'\n        }\n      }, this.props.sessionId && React.createElement(\"div\", null, React.createElement(MyMenu, {\n        title: this.state.filterTitle || 'All activities',\n        choices: [{\n          title: 'All activities',\n          key: 'all',\n          onClick: function onClick() {\n            return _this5.setState({\n              filter: undefined,\n              filterTitle: undefined\n            });\n          }\n        }].concat(_toConsumableArray(_activities.Activities.find({\n          graphId: graphId\n        }).fetch().map(function (x) {\n          return {\n            title: x.title,\n            key: x._id,\n            onClick: function onClick() {\n              return _this5.setState({\n                filter: x._id,\n                filterTitle: x.title\n              });\n            }\n          };\n        })))\n      }), React.createElement(_core.TextField, {\n        id: \"name\",\n        label: \"Search\",\n        onChange: function onChange(e) {\n          return _this5.setState({\n            search: e.target.value\n          });\n        },\n        margin: \"normal\"\n      })), res.map(function (x) {\n        return React.createElement(_core.Tooltip, {\n          key: x.id,\n          id: 'tooltip' + x.id,\n          title: \"Hi\"\n        }, React.createElement(_ImageBox.default, {\n          key: x.id,\n          onClick: function onClick() {\n            return _this5.setState({\n              zoom: x.id\n            });\n          }\n        }, React.createElement(LearningItem, {\n          type: \"thumbView\",\n          id: x.id\n        })));\n      }), this.state.zoom && React.createElement(ZoomView, {\n        id: this.state.zoom,\n        close: function close() {\n          return _this5.setState({\n            zoom: undefined\n          });\n        }\n      }));\n    }\n  }]);\n\n  return Dashboard;\n}(React.Component);\n\nvar zoomstyles = function zoomstyles(theme) {\n  return {\n    root: theme.mixins.gutters({\n      paddingTop: 36,\n      paddingBottom: 16,\n      height: '100%'\n    })\n  };\n};\n\nvar ZoomContainer = _styledComponents.default.div(_templateObject());\n\nvar ZoomViewRaw = function ZoomViewRaw(_ref) {\n  var close = _ref.close,\n      id = _ref.id,\n      classes = _ref.classes;\n  return React.createElement(ZoomContainer, null, React.createElement(LearningItem, {\n    id: id,\n    type: \"history\",\n    render: function render(props) {\n      var _Meteor$users$findOne, _Activities$findOne;\n\n      return React.createElement(_core.Paper, {\n        className: classes.root,\n        elevation: 24\n      }, React.createElement(\"div\", {\n        className: \"bootstrap\"\n      }, React.createElement(\"button\", {\n        onClick: close,\n        className: \"btn btn-secondary\",\n        style: {\n          position: 'absolute',\n          right: '0px'\n        }\n      }, React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-remove\"\n      }))), React.createElement(\"div\", {\n        style: {\n          layout: 'flex',\n          flexDirection: 'row'\n        }\n      }, React.createElement(\"div\", {\n        style: {\n          marginBottom: '50px'\n        }\n      }, props.children), React.createElement(\"hr\", null), React.createElement(_core.Table, null, React.createElement(_core.TableBody, null, React.createElement(_core.TableRow, null, React.createElement(_core.TableCell, null, \"Learning Item Type\"), React.createElement(_core.TableCell, null, _activityTypes.learningItemTypesObj[props.liType].name), React.createElement(_core.TableCell, null, \"Created by\"), React.createElement(_core.TableCell, null, (_Meteor$users$findOne = _meteor.Meteor.users.findOne(props.data.createdByUser)) === null || _Meteor$users$findOne === void 0 ? void 0 : _Meteor$users$findOne.username)), React.createElement(_core.TableRow, null, React.createElement(_core.TableCell, null, \"Created by group\"), React.createElement(_core.TableCell, null, JSON.stringify(props.data.createdByInstance)), React.createElement(_core.TableCell, null, \"Created in activity\"), React.createElement(_core.TableCell, null, (_Activities$findOne = _activities.Activities.findOne(props.data.createdInActivity)) === null || _Activities$findOne === void 0 ? void 0 : _Activities$findOne.title)), React.createElement(_core.TableRow, null, React.createElement(_core.TableCell, null, \"Created at\"), React.createElement(_core.TableCell, null, props.data.createdAt || ''))))));\n    }\n  }));\n};\n\nvar ZoomView = (0, _styles.withStyles)(zoomstyles)(ZoomViewRaw);\nvar _default = Dashboard;\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/Dashboard/LIDashboard.js?");

/***/ }),

/***/ "./imports/ui/Dashboard/MultiWrapper.jsx":
/*!***********************************************!*\
  !*** ./imports/ui/Dashboard/MultiWrapper.jsx ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.DashboardSelector = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _styles = __webpack_require__(/*! @material-ui/core/styles */ \"../node_modules/@material-ui/core/styles/index.js\");\n\nvar _AppBar = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/AppBar */ \"../node_modules/@material-ui/core/AppBar/index.js\"));\n\nvar _Tabs = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Tabs */ \"../node_modules/@material-ui/core/Tabs/index.js\"));\n\nvar _Tab = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Tab */ \"../node_modules/@material-ui/core/Tab/index.js\"));\n\nvar _CircularProgress = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/CircularProgress */ \"../node_modules/@material-ui/core/CircularProgress/index.js\"));\n\nvar _activityTypes = __webpack_require__(/*! ../../activityTypes */ \"./imports/activityTypes.js\");\n\nvar _index = __webpack_require__(/*! ./index */ \"./imports/ui/Dashboard/index.js\");\n\nvar _ErrorBoundary = __webpack_require__(/*! ../App/ErrorBoundary */ \"./imports/ui/App/ErrorBoundary.js\");\n\nvar _logs = __webpack_require__(/*! ../../api/logs */ \"./imports/api/logs.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      flexGrow: 1,\n      width: '100%',\n      height: '100%',\n      backgroundColor: theme.palette.background.paper,\n      overflow: 'hidden'\n    },\n    dash: {\n      height: 'calc(100% - 48px)',\n      overflow: 'auto'\n    },\n    tabs: {\n      minWidth: '0px',\n      paddingLeft: '0px',\n      paddingRight: '0px'\n    }\n  };\n};\n\nvar DashboardRaw =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DashboardRaw, _React$Component);\n\n  function DashboardRaw() {\n    var _this;\n\n    _classCallCheck(this, DashboardRaw);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DashboardRaw).call(this));\n    _this.state = {\n      which: 0\n    };\n    return _this;\n  }\n\n  _createClass(DashboardRaw, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (!(0, _lodash.isEqual)(this.props.dashNames, nextProps.dashNames)) {\n        this.setState({\n          which: 0\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          dashNames = _this$props.dashNames,\n          _onChange = _this$props.onChange,\n          classes = _this$props.classes,\n          selected = _this$props.selected,\n          children = _this$props.children;\n      return React.createElement(\"div\", {\n        className: classes.root\n      }, React.createElement(_AppBar.default, {\n        position: \"static\",\n        color: \"default\"\n      }, React.createElement(_Tabs.default, {\n        classes: {\n          root: classes.tabs\n        },\n        value: selected !== undefined ? selected : this.state.which,\n        onChange: function onChange(_, x) {\n          if (_onChange) {\n            _onChange(x);\n          }\n\n          _this2.setState({\n            which: x\n          });\n        },\n        indicatorColor: \"primary\",\n        textColor: \"primary\",\n        scrollable: true,\n        scrollButtons: \"auto\"\n      }, dashNames.map(function (name) {\n        return React.createElement(_Tab.default, {\n          key: name,\n          label: name,\n          disableRipple: true,\n          classes: {\n            root: classes.tabs\n          }\n        });\n      }))), children && React.createElement(\"div\", {\n        className: classes.dash\n      }, React.createElement(_ErrorBoundary.ErrorBoundary, {\n        msg: \"Dashboard crashed, try reloading\"\n      }, children(this.state.which > dashNames.length ? 0 : dashNames[this.state.which]))));\n    }\n  }]);\n\n  return DashboardRaw;\n}(React.Component);\n\nvar DashboardSelector = (0, _styles.withStyles)(styles)(DashboardRaw);\nexports.DashboardSelector = DashboardSelector;\nDashboardSelector.displayName = 'DashboardSelector';\n\nvar MultiWrapper = function MultiWrapper(props) {\n  var _aT$meta;\n\n  var dashboardData = props.dashboardData,\n      activity = props.activity,\n      names = props.names,\n      children = props.children,\n      users = props.users,\n      instances = props.instances,\n      session = props.session,\n      object = props.object,\n      ready = props.ready;\n\n  if (!ready) {\n    return React.createElement(_CircularProgress.default, null);\n  }\n\n  var aT = _activityTypes.activityTypesObj[activity.activityType];\n  var aTDash = aT.dashboards;\n\n  if (!aTDash || (0, _lodash.isEmpty)(aTDash) && !names) {\n    return null;\n  }\n\n  var dashNames = names || Object.keys(aTDash).filter(function (name) {\n    var cond = aTDash[name].displayCondition;\n\n    if (!cond) {\n      return true;\n    }\n\n    if (typeof cond === 'string') {\n      return !!activity.data[cond];\n    }\n\n    return cond(activity.data);\n  });\n\n  if ((0, _lodash.isEmpty)(dashNames)) {\n    return null;\n  }\n\n  if ((_aT$meta = aT.meta) === null || _aT$meta === void 0 ? void 0 : _aT$meta.supportsLearningItems) {\n    dashNames.unshift('Learning Items');\n  }\n\n  return React.createElement(DashboardSelector, {\n    dashNames: dashNames,\n    onChange: function onChange(id) {\n      if (session) {\n        (0, _logs.teacherLogger)(session._id, 'teacher.switchActivityDashboard', activity._id + '-' + dashNames[id]);\n      }\n    }\n  }, children || function (which) {\n    return React.createElement(_index.DashboardComp, _extends({}, props, {\n      data: (dashboardData && dashboardData.find(function (x) {\n        return x.dashId === activity._id + '-' + which;\n      }) || {}).data,\n      name: which,\n      key: which + activity._id,\n      users: users,\n      instances: instances,\n      object: object\n    }));\n  });\n};\n\nvar _default = MultiWrapper;\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/Dashboard/MultiWrapper.jsx?");

/***/ }),

/***/ "./imports/ui/Dashboard/index.js":
/*!***************************************!*\
  !*** ./imports/ui/Dashboard/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DashboardSubscriptionWrapper = exports.DashboardReactiveWrapper = exports.DashboardComp = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _meteor = __webpack_require__(/*! meteor/meteor */ \"meteor/meteor\");\n\nvar _reactMeteorData = __webpack_require__(/*! meteor/react-meteor-data */ \"meteor/react-meteor-data\");\n\nvar _mongo = __webpack_require__(/*! meteor/mongo */ \"meteor/mongo\");\n\nvar _ddpClient = __webpack_require__(/*! meteor/ddp-client */ \"meteor/ddp-client\");\n\nvar _CircularProgress = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/CircularProgress */ \"../node_modules/@material-ui/core/CircularProgress/index.js\"));\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _doGetInstances = _interopRequireDefault(__webpack_require__(/*! ../../api/doGetInstances */ \"./imports/api/doGetInstances.js\"));\n\nvar _sessions = __webpack_require__(/*! ../../api/sessions */ \"./imports/api/sessions.js\");\n\nvar _objects = __webpack_require__(/*! ../../api/objects */ \"./imports/api/objects.js\");\n\nvar _activities = __webpack_require__(/*! ../../api/activities */ \"./imports/api/activities.js\");\n\nvar _activityTypes = __webpack_require__(/*! ../../activityTypes */ \"./imports/activityTypes.js\");\n\nvar _MultiWrapper = _interopRequireDefault(__webpack_require__(/*! ./MultiWrapper */ \"./imports/ui/Dashboard/MultiWrapper.jsx\"));\n\nvar _connection = __webpack_require__(/*! ../App/connection */ \"./imports/ui/App/connection.js\");\n\nvar _LearningItem = _interopRequireDefault(__webpack_require__(/*! ../LearningItem */ \"./imports/ui/LearningItem/index.js\"));\n\nvar _LIDashboard = _interopRequireDefault(__webpack_require__(/*! ./LIDashboard */ \"./imports/ui/Dashboard/LIDashboard.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar connection = null;\nvar dashboardCollection = null;\n\nvar RawDashboardComp = function RawDashboardComp(_ref) {\n  var activity = _ref.activity,\n      users = _ref.users,\n      instances = _ref.instances,\n      name = _ref.name,\n      state = _ref.state,\n      ready = _ref.ready,\n      object = _ref.object;\n\n  if (name === 'Learning Items') {\n    return React.createElement(_LIDashboard.default, {\n      activityId: activity._id\n    });\n  }\n\n  if (!ready && !state) {\n    return React.createElement(_CircularProgress.default, null);\n  }\n\n  var aT = _activityTypes.activityTypesObj[activity.activityType];\n\n  var doc = _connection.connection.get('li', 'bookmark');\n\n  var dataFn = (0, _frogUtils.generateReactiveFn)(doc, _LearningItem.default);\n\n  if (!aT.dashboards || !aT.dashboards[name] || !aT.dashboards[name].Viewer) {\n    return React.createElement(\"p\", null, \"The selected activity has no dashboard\");\n  }\n\n  var Dash = aT.dashboards[name].Viewer;\n  return state ? React.createElement(Dash, {\n    state: state,\n    users: users,\n    activity: activity,\n    instances: instances,\n    object: object,\n    LearningItem: dataFn.LearningItem\n  }) : null;\n};\n\nvar DashboardComp = (0, _reactMeteorData.withTracker)(function (props) {\n  if (props.name === 'Learning Items') {\n    return {};\n  }\n\n  if (props.data) {\n    return {\n      ready: true,\n      state: props.data\n    };\n  }\n\n  if (!_meteor.Meteor.settings.public.dashboard_server_url) {\n    if (!dashboardCollection) {\n      dashboardCollection = new _mongo.Mongo.Collection('dashboard');\n    }\n\n    connection = false;\n  }\n\n  if (connection === null) {\n    connection = _ddpClient.DDP.connect(_meteor.Meteor.settings.public.dashboard_server_url);\n    dashboardCollection = new _mongo.Mongo.Collection('dashboard', connection);\n  }\n\n  if (connection === false || connection.status().connected) {\n    (connection || _meteor.Meteor).subscribe('dashboard', props.activity._id, props.activity.activityType, props.name, props.config);\n\n    var state = dashboardCollection && dashboardCollection.findOne(props.activity._id + '-' + props.name);\n\n    if (state) {\n      return {\n        ready: true,\n        state: state.data\n      };\n    } else {\n      return {\n        ready: false\n      };\n    }\n  } else {\n    return {\n      ready: false\n    };\n  }\n})(RawDashboardComp);\nexports.DashboardComp = DashboardComp;\nvar DashboardReactiveWrapper = (0, _reactMeteorData.withTracker)(function (props) {\n  var activity = props.activity,\n      names = props.names,\n      sessionId = props.sessionId;\n\n  var subscription = _meteor.Meteor.subscribe('dashboard.data', sessionId, activity._id, names);\n\n  var session = _sessions.Sessions.findOne(sessionId);\n\n  var object = _objects.Objects.findOne(activity._id);\n\n  if (!subscription.ready() || !object) {\n    return {\n      ready: false\n    };\n  }\n\n  var instances = object && (0, _doGetInstances.default)(activity, object).groups;\n\n  var dashboardData = _activities.DashboardData.find({}).fetch();\n\n  var users = object.globalStructure.students;\n  return {\n    ready: subscription.ready() && session && activity && object,\n    instances: instances,\n    object: object,\n    activity: activity,\n    dashboardData: dashboardData,\n    session: session,\n    users: users\n  };\n})(_MultiWrapper.default);\nexports.DashboardReactiveWrapper = DashboardReactiveWrapper;\nDashboardReactiveWrapper.displayName = 'DashboardReactiveWrapper';\n\nvar DashboardSubscriptionWrapper =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DashboardSubscriptionWrapper, _React$Component);\n\n  function DashboardSubscriptionWrapper() {\n    var _this;\n\n    _classCallCheck(this, DashboardSubscriptionWrapper);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DashboardSubscriptionWrapper).call(this));\n    _this.state = {\n      activity: null\n    };\n    return _this;\n  }\n\n  _createClass(DashboardSubscriptionWrapper, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var activityId = this.props.activityId;\n\n      _meteor.Meteor.call('get.activity.for.dashboard', activityId, function (err, value) {\n        if (err) {\n          console.error(\"/Users/stian/src/frog/frog/imports/ui/Dashboard/index.js(157:8)\", 'Error getting activity for dashboard', \"activityId\", activityId, \"err\", err);\n        }\n\n        if (!err) {\n          _this2.setState({\n            activity: value.activity\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var activity = this.state.activity;\n      return activity && React.createElement(DashboardReactiveWrapper, _extends({\n        activity: activity\n      }, this.props));\n    }\n  }]);\n\n  return DashboardSubscriptionWrapper;\n}(React.Component);\n\nexports.DashboardSubscriptionWrapper = DashboardSubscriptionWrapper;\n\n//# sourceURL=webpack:///./imports/ui/Dashboard/index.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/RemoteControllers/ModalDelete.jsx":
/*!******************************************************************!*\
  !*** ./imports/ui/GraphEditor/RemoteControllers/ModalDelete.jsx ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _Dialog = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Dialog */ \"../node_modules/@material-ui/core/Dialog/index.js\"));\n\nvar _DialogActions = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/DialogActions */ \"../node_modules/@material-ui/core/DialogActions/index.js\"));\n\nvar _DialogContent = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/DialogContent */ \"../node_modules/@material-ui/core/DialogContent/index.js\"));\n\nvar _DialogContentText = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/DialogContentText */ \"../node_modules/@material-ui/core/DialogContentText/index.js\"));\n\nvar _DialogTitle = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/DialogTitle */ \"../node_modules/@material-ui/core/DialogTitle/index.js\"));\n\nvar _Button = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Button */ \"../node_modules/@material-ui/core/Button/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = function _default(_ref) {\n  var modalOpen = _ref.modalOpen,\n      setModal = _ref.setModal,\n      remove = _ref.remove;\n  return _react.default.createElement(_Dialog.default, {\n    open: modalOpen\n  }, _react.default.createElement(_DialogTitle.default, null, \"Remove this activity from the library:\"), _react.default.createElement(_DialogContent.default, null, _react.default.createElement(_DialogContentText.default, null, \"Are you sure you want to remove this activity from the library ?\")), _react.default.createElement(\"div\", {\n    style: {\n      height: '10px'\n    }\n  }), _react.default.createElement(_DialogActions.default, null, _react.default.createElement(_Button.default, {\n    onClick: function onClick() {\n      return setModal(false);\n    }\n  }, \"Cancel\"), _react.default.createElement(_Button.default, {\n    color: \"secondary\",\n    onClick: function onClick() {\n      setModal(false);\n      remove();\n    }\n  }, \"Delete\")));\n};\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/RemoteControllers/ModalDelete.jsx?");

/***/ }),

/***/ "./imports/ui/GraphEditor/RemoteControllers/ModalExport.jsx":
/*!******************************************************************!*\
  !*** ./imports/ui/GraphEditor/RemoteControllers/ModalExport.jsx ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _meteor = __webpack_require__(/*! meteor/meteor */ \"meteor/meteor\");\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _Dialog = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Dialog */ \"../node_modules/@material-ui/core/Dialog/index.js\"));\n\nvar _DialogActions = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/DialogActions */ \"../node_modules/@material-ui/core/DialogActions/index.js\"));\n\nvar _DialogContent = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/DialogContent */ \"../node_modules/@material-ui/core/DialogContent/index.js\"));\n\nvar _DialogTitle = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/DialogTitle */ \"../node_modules/@material-ui/core/DialogTitle/index.js\"));\n\nvar _Button = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Button */ \"../node_modules/@material-ui/core/Button/index.js\"));\n\nvar _TextField = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/TextField */ \"../node_modules/@material-ui/core/TextField/index.js\"));\n\nvar _Checkbox = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Checkbox */ \"../node_modules/@material-ui/core/Checkbox/index.js\"));\n\nvar _FormControlLabel = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/FormControlLabel */ \"../node_modules/@material-ui/core/FormControlLabel/index.js\"));\n\nvar _reactTagsinput = _interopRequireDefault(__webpack_require__(/*! react-tagsinput */ \"../node_modules/react-tagsinput/react-tagsinput.js\"));\n\n__webpack_require__(/*! react-tagsinput/react-tagsinput.css */ \"../node_modules/react-tagsinput/react-tagsinput.css\");\n\nvar _remoteActivities = __webpack_require__(/*! ../../../api/remoteActivities */ \"./imports/api/remoteActivities.js\");\n\nvar _remoteGraphs = __webpack_require__(/*! ../../../api/remoteGraphs */ \"./imports/api/remoteGraphs.js\");\n\nvar _graphs = __webpack_require__(/*! ../../../api/graphs */ \"./imports/api/graphs.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar ExportModal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ExportModal, _Component);\n\n  function ExportModal(props) {\n    var _this;\n\n    _classCallCheck(this, ExportModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ExportModal).call(this, props));\n    _this.state = {\n      title: '',\n      description: '',\n      tags: [],\n      public: false\n    };\n    return _this;\n  }\n\n  _createClass(ExportModal, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.metadatas) this.setState(_objectSpread({}, nextProps.metadatas, {\n        is_public: nextProps.metadatas.owner_id === _meteor.Meteor.user().username ? nextProps.metadatas.is_public : false\n      }));else {\n        var name = nextProps.activity ? nextProps.activity.title : _graphs.Graphs.findOne({\n          _id: nextProps.graphId\n        }).name;\n        this.setState({\n          title: name\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _react.default.createElement(_Dialog.default, {\n        open: this.props.modalOpen\n      }, _react.default.createElement(_DialogTitle.default, null, 'Export ' + this.props.exportType + ' to the Server:'), _react.default.createElement(_DialogContent.default, null, _react.default.createElement(\"h3\", null, \"Title\"), _react.default.createElement(_TextField.default, {\n        defaultValue: this.state.title,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            title: e.target.value\n          });\n        },\n        name: \"title\"\n      }), _react.default.createElement(\"h3\", null, \"Description\"), _react.default.createElement(_TextField.default, {\n        value: this.state.description,\n        multiline: true,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            description: e.target.value\n          });\n        },\n        id: \"exampleFormControlTextarea1\",\n        rows: \"3\"\n      }), _react.default.createElement(\"div\", {\n        style: {\n          height: '20px'\n        }\n      }), _react.default.createElement(_reactTagsinput.default, {\n        value: this.state.tags,\n        onChange: function onChange(t) {\n          return _this2.setState({\n            tags: t\n          });\n        }\n      }), _react.default.createElement(\"div\", {\n        style: {\n          height: '10px'\n        }\n      }), _react.default.createElement(_FormControlLabel.default, {\n        control: _react.default.createElement(_Checkbox.default, {\n          checked: this.state.public,\n          onChange: function onChange() {\n            return _this2.setState({\n              public: !_this2.state.public\n            });\n          },\n          color: \"default\"\n        }),\n        label: \"Make public\"\n      }), _react.default.createElement(\"div\", {\n        style: {\n          height: '10px'\n        }\n      })), _react.default.createElement(_DialogActions.default, null, _react.default.createElement(_Button.default, {\n        onClick: function onClick() {\n          return _this2.props.setModal(false);\n        }\n      }, \"Cancel\"), _react.default.createElement(_Button.default, {\n        color: \"primary\",\n        onClick: function onClick() {\n          if (_this2.props.exportType === 'activity') {\n            var id = (0, _frogUtils.uuid)();\n            (0, _remoteActivities.sendActivity)(_this2.state, _this2.props, id);\n\n            if (_this2.props.setMetadatas) {\n              _this2.props.setMetadatas(_objectSpread({}, _this2.state, {\n                uuid: id\n              }));\n\n              _this2.props.updateParent();\n            }\n\n            _this2.props.setModal(false);\n          } else if (_this2.props.exportType === 'graph') {\n            (0, _remoteGraphs.sendGraph)(_this2.state, _this2.props);\n\n            _this2.props.setModal(false);\n          }\n\n          if (_this2.props.madeChanges) _this2.props.madeChanges();\n\n          _this2.setState({\n            title: '',\n            description: '',\n            tags: [],\n            public: false\n          });\n        },\n        disabled: Boolean(!this.state.title)\n      }, \"Save as new\"), this.props.metadatas && this.props.metadatas.owner_id === _meteor.Meteor.user().username && (this.props.activity && this.props.activity.parentId || this.props.exportType === 'graph' && _graphs.Graphs.findOne(this.props.graphId).parentId) && _react.default.createElement(_Button.default, {\n        color: \"primary\",\n        onClick: function onClick() {\n          if (_this2.props.exportType === 'activity') {\n            (0, _remoteActivities.updateActivity)(_this2.props.activity.parentId, _objectSpread({}, _this2.props.activity, _this2.state), function () {\n              return _this2.props.setModal(false);\n            });\n          } else if (_this2.props.exportType === 'graph') (0, _remoteGraphs.updateGraph)(_graphs.Graphs.findOne(_this2.props.graphId).parentId, _this2.props.graphId, _objectSpread({}, _this2.state), function () {\n            return _this2.props.setModal(false);\n          });\n\n          if (_this2.props.madeChanges) _this2.props.madeChanges();\n\n          _this2.setState({\n            title: '',\n            description: '',\n            tags: []\n          });\n        },\n        disabled: Boolean(!this.state.title)\n      }, \"Overwrite parent\")));\n    }\n  }]);\n\n  return ExportModal;\n}(_react.Component);\n\nexports.default = ExportModal;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/RemoteControllers/ModalExport.jsx?");

/***/ }),

/***/ "./imports/ui/GraphEditor/RemoteControllers/RemoteLibrary.jsx":
/*!********************************************************************!*\
  !*** ./imports/ui/GraphEditor/RemoteControllers/RemoteLibrary.jsx ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _List = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/List */ \"../node_modules/@material-ui/core/List/index.js\"));\n\nvar _Search = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/Search */ \"../node_modules/@material-ui/icons/Search.js\"));\n\nvar _cache = __webpack_require__(/*! ../../../api/cache */ \"./imports/api/cache.js\");\n\nvar _remoteGraphs = __webpack_require__(/*! ../../../api/remoteGraphs */ \"./imports/api/remoteGraphs.js\");\n\nvar _remoteActivities = __webpack_require__(/*! ../../../api/remoteActivities */ \"./imports/api/remoteActivities.js\");\n\nvar _ListComponent = _interopRequireDefault(__webpack_require__(/*! ../SidePanel/ListComponent */ \"./imports/ui/GraphEditor/SidePanel/ListComponent.jsx\"));\n\nvar _activityTypes = __webpack_require__(/*! ../../../activityTypes */ \"./imports/activityTypes.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar filterWithStr = function filterWithStr(list, searchStr) {\n  return list && list.filter(function (x) {\n    return x.activity_type && x.activity_type.toLowerCase().includes(searchStr) || x.title.toLowerCase().includes(searchStr) || x.description.toLowerCase().includes(searchStr) || x.tags.find(function (y) {\n      return y.toLowerCase().includes(searchStr);\n    }) !== undefined || x.owner_id && x.owner_id.toLowerCase().includes(searchStr);\n  }).sort(function (x, y) {\n    return x.timestamp > y.timestamp ? -1 : 1;\n  });\n};\n\nvar Library =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Library, _Component);\n\n  function Library(props) {\n    var _this;\n\n    _classCallCheck(this, Library);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Library).call(this, props));\n    _this.state = {\n      searchStr: ''\n    };\n    return _this;\n  }\n\n  _createClass(Library, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      if (this.props.libraryType === 'activity') (0, _remoteActivities.checkDateAct)(function () {\n        return _this2.forceUpdate();\n      });else if (this.props.libraryType === 'graph') (0, _remoteGraphs.checkDateGraph)(function () {\n        return _this2.forceUpdate();\n      });else if (this.props.locallyChanged) {\n        (0, _remoteActivities.collectActivities)(function () {\n          return (0, _remoteGraphs.collectGraphs)(function () {\n            return _this2.forceUpdate();\n          });\n        });\n        this.props.changesLoaded();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          setIdRemove = _this$props.setIdRemove,\n          setDelete = _this$props.setDelete,\n          activityId = _this$props.activityId,\n          libraryType = _this$props.libraryType,\n          searchStr = _this$props.searchStr,\n          store = _this$props.store;\n      var filtered = filterWithStr(libraryType === 'activity' ? _cache.LibraryStates.activityList : _cache.LibraryStates.graphList, searchStr || this.state.searchStr.toLowerCase());\n      return _react.default.createElement(\"div\", null, _react.default.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'row'\n        }\n      }, searchStr === undefined && _react.default.createElement(\"div\", {\n        style: {\n          position: 'relative',\n          borderRadius: '5px',\n          background: 'rgba(0,0,0,.05)'\n        }\n      }, _react.default.createElement(\"div\", {\n        style: {\n          width: '50px',\n          height: '100%',\n          display: 'flex',\n          position: 'absolute',\n          alignItems: 'center',\n          justifyContent: 'center'\n        }\n      }, _react.default.createElement(_Search.default, null)), _react.default.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.searchStr,\n        onChange: function onChange(e) {\n          return _this3.setState({\n            searchStr: e.target.value\n          });\n        },\n        style: {\n          border: '0',\n          width: '100%',\n          padding: '8px 8px 8px 50px',\n          background: 'none',\n          outline: 'none',\n          whiteSpace: 'normal',\n          verticalAlign: 'middle',\n          fontSize: '1rem'\n        },\n        \"aria-describedby\": \"basic-addon1\"\n      }))), _react.default.createElement(_List.default, {\n        style: this.props.libraryType === 'activity' ? {\n          overflowY: 'scroll'\n        } : {}\n      }, filtered && filtered.length === 0 ? _react.default.createElement(\"div\", {\n        style: {\n          marginTop: '20px',\n          marginLeft: '10px',\n          fontSize: '40px'\n        }\n      }, \"No result\") : filtered && filtered.map(function (x) {\n        var _activityTypesObj$x$a, _activityTypesObj$x$a2;\n\n        return _react.default.createElement(_ListComponent.default, _extends({\n          object: _objectSpread({\n            id: x.uuid,\n            meta: {\n              name: x.title,\n              shortDesc: x.description,\n              owner_id: x.owner_id,\n              activityTypeName: _activityTypes.activityTypesObj === null || _activityTypes.activityTypesObj === void 0 ? void 0 : (_activityTypesObj$x$a = _activityTypes.activityTypesObj[x.activity_type]) === null || _activityTypesObj$x$a === void 0 ? void 0 : (_activityTypesObj$x$a2 = _activityTypesObj$x$a.meta) === null || _activityTypesObj$x$a2 === void 0 ? void 0 : _activityTypesObj$x$a2.name\n            }\n          }, x),\n          onSelect: function onSelect() {\n            if (libraryType === 'activity') {\n              if (_this3.props.setActivityTypeId) _this3.props.setActivityTypeId(x.activity_type);\n              (0, _remoteActivities.importAct)(x.uuid, activityId, function () {\n                store.addHistory();\n                store.refreshValidate();\n              }, _this3.props.onSelect);\n            } else if (libraryType === 'graph') {\n              (0, _remoteGraphs.importGraph)(x.uuid, x.title);\n\n              _this3.props.setModal(false);\n            }\n          },\n          key: x.uuid,\n          onPreview: function onPreview() {\n            return store.ui.setShowPreview({\n              activityTypeId: x.activity_type,\n              config: x.config\n            });\n          },\n          eventKey: x.uuid,\n          searchS: searchStr || _this3.state.searchStr\n        }, {\n          setIdRemove: setIdRemove,\n          setDelete: setDelete\n        }, {\n          isLibrary: \"true\"\n        }));\n      })));\n    }\n  }]);\n\n  return Library;\n}(_react.Component);\n\nvar _default = Library;\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/RemoteControllers/RemoteLibrary.jsx?");

/***/ }),

/***/ "./imports/ui/GraphEditor/Rename.js":
/*!******************************************!*\
  !*** ./imports/ui/GraphEditor/Rename.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RenameField = exports.RenameBox = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _store = __webpack_require__(/*! ./store */ \"./imports/ui/GraphEditor/store/index.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar RenameBox = (0, _store.connect)(function (_ref) {\n  var _ref$store = _ref.store,\n      state = _ref$store.state,\n      endRename = _ref$store.ui.endRename;\n\n  if (state.mode !== 'rename') {\n    return null;\n  }\n\n  var renameOpen = state.currentActivity;\n  return React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      left: \"\".concat(renameOpen.screenX, \"px\"),\n      top: \"\".concat(renameOpen.y + 102, \"px\")\n    }\n  }, React.createElement(RenameField, {\n    activityId: renameOpen.id,\n    onSubmit: endRename\n  }));\n});\nexports.RenameBox = RenameBox;\nvar RenameField = (0, _store.connect)(function (_ref2) {\n  var all = _ref2.store.activityStore.all,\n      activityId = _ref2.activityId,\n      onSubmit = _ref2.onSubmit;\n  var renameOpen = all.find(function (act) {\n    return act.id === activityId;\n  });\n\n  if (renameOpen) {\n    return React.createElement(_frogUtils.TextInput, {\n      value: renameOpen.title,\n      onChange: renameOpen.rename,\n      onFocus: function onFocus(e) {\n        return e.target.select();\n      },\n      onCancel: onSubmit,\n      onSubmit: onSubmit\n    });\n  } else {\n    return null;\n  }\n});\nexports.RenameField = RenameField;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/Rename.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/ActivityPanel/ChooseActivity.js":
/*!**************************************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/ActivityPanel/ChooseActivity.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _activityTypes = __webpack_require__(/*! ../../../../activityTypes */ \"./imports/activityTypes.js\");\n\nvar _activities = __webpack_require__(/*! ../../../../api/activities */ \"./imports/api/activities.js\");\n\nvar _jsonSchemaDefaults = _interopRequireDefault(__webpack_require__(/*! json-schema-defaults */ \"../node_modules/json-schema-defaults/index.js\"));\n\nvar _Divider = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Divider */ \"../node_modules/@material-ui/core/Divider/index.js\"));\n\nvar _Grid = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Grid */ \"../node_modules/@material-ui/core/Grid/index.js\"));\n\nvar _Typography = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Typography */ \"../node_modules/@material-ui/core/Typography/index.js\"));\n\nvar _Button = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Button */ \"../node_modules/@material-ui/core/Button/index.js\"));\n\nvar _List = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/List */ \"../node_modules/@material-ui/core/List/index.js\"));\n\nvar _styles = __webpack_require__(/*! @material-ui/core/styles */ \"../node_modules/@material-ui/core/styles/index.js\");\n\nvar _Search = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/Search */ \"../node_modules/@material-ui/icons/Search.js\"));\n\nvar _Cloud = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/Cloud */ \"../node_modules/@material-ui/icons/Cloud.js\"));\n\nvar _store = __webpack_require__(/*! ../../store */ \"./imports/ui/GraphEditor/store/index.js\");\n\nvar _RemoteLibrary = _interopRequireDefault(__webpack_require__(/*! ../../RemoteControllers/RemoteLibrary */ \"./imports/ui/GraphEditor/RemoteControllers/RemoteLibrary.jsx\"));\n\nvar _ListComponent = _interopRequireDefault(__webpack_require__(/*! ../ListComponent */ \"./imports/ui/GraphEditor/SidePanel/ListComponent.jsx\"));\n\nvar _Preview = _interopRequireDefault(__webpack_require__(/*! ../../../Preview */ \"./imports/ui/Preview/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar styles = {\n  topPanel: {\n    padding: '10px'\n  },\n  activityList: {\n    height: 'calc(100vh - 112px - 100px)',\n    overflowY: 'auto'\n  },\n  searchContainer: {\n    position: 'relative',\n    borderRadius: '5px',\n    background: 'rgba(0,0,0,.05)'\n  },\n  searchIcon: {\n    width: '50px',\n    height: '100%',\n    display: 'flex',\n    position: 'absolute',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  searchInput: {\n    border: '0',\n    width: '100%',\n    padding: '8px 8px 8px 50px',\n    background: 'none',\n    outline: 'none',\n    whiteSpace: 'normal',\n    verticalAlign: 'middle',\n    fontSize: '1rem'\n  },\n  centerButton: {\n    textAlign: 'center'\n  },\n  cloudIcon: {\n    marginRight: '8px',\n    fontSize: 20\n  },\n  resultContainer: {\n    height: '100%'\n  }\n};\n\nvar NoResult = function NoResult(_ref) {\n  var classes = _ref.classes;\n  return _react.default.createElement(_Grid.default, {\n    container: true,\n    justify: \"center\",\n    alignItems: \"center\",\n    className: classes.resultContainer\n  }, _react.default.createElement(_Grid.default, {\n    item: true\n  }, _react.default.createElement(_Typography.default, {\n    variant: \"body2\"\n  }, \"No results found\")));\n};\n\nvar StyledNoResult = (0, _styles.withStyles)(styles)(NoResult);\nvar ChooseActivityTopPanel = (0, _store.connect)(function (_ref2) {\n  var classes = _ref2.classes,\n      onSearch = _ref2.onSearch,\n      onToggle = _ref2.onToggle,\n      store = _ref2.store,\n      hideLibrary = _ref2.hideLibrary;\n  return _react.default.createElement(_Grid.default, {\n    container: true,\n    className: classes.topPanel,\n    alignItems: \"center\",\n    spacing: 8\n  }, _react.default.createElement(_Grid.default, {\n    item: true,\n    xs: 12\n  }, _react.default.createElement(_Typography.default, {\n    variant: \"title\"\n  }, \"Select activity type\")), _react.default.createElement(_Grid.default, {\n    item: true,\n    xs: 12\n  }, _react.default.createElement(_Grid.default, {\n    container: true,\n    justify: \"center\"\n  }, _react.default.createElement(_Grid.default, {\n    item: true,\n    xs: 8\n  }, _react.default.createElement(\"div\", {\n    className: classes.searchContainer\n  }, _react.default.createElement(\"div\", {\n    className: classes.searchIcon\n  }, _react.default.createElement(_Search.default, null)), _react.default.createElement(\"input\", {\n    type: \"text\",\n    onChange: onSearch,\n    className: classes.searchInput,\n    \"aria-describedby\": \"basic-addon1\"\n  }))), !hideLibrary && _react.default.createElement(_Grid.default, {\n    item: true,\n    xs: 4,\n    className: classes.centerButton\n  }, _react.default.createElement(_Button.default, {\n    color: \"primary\",\n    size: \"small\",\n    variant: store.ui.libraryOpen ? 'raised' : null,\n    onClick: onToggle\n  }, _react.default.createElement(_Cloud.default, {\n    className: classes.cloudIcon\n  }), \" Library\")))), _react.default.createElement(_Grid.default, {\n    item: true,\n    xs: 12\n  }, _react.default.createElement(_Divider.default, null)));\n});\nvar StyledChooseActivityTopPanel = (0, _styles.withStyles)(styles)(ChooseActivityTopPanel);\n\nvar ChooseActivityTypeController =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ChooseActivityTypeController, _Component);\n\n  function ChooseActivityTypeController(props) {\n    var _this;\n\n    _classCallCheck(this, ChooseActivityTypeController);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChooseActivityTypeController).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleToggle\", function () {\n      if (_this.props.store) {\n        _this.props.store.ui.setLibraryOpen(!_this.props.store.ui.libraryOpen);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSearch\", function (e) {\n      _this.setState({\n        expanded: null,\n        searchStr: e.target.value.toLowerCase()\n      });\n    });\n\n    _this.state = {\n      expanded: null,\n      searchStr: '',\n      showInfo: null\n    };\n    _this.inputRef = null;\n    return _this;\n  }\n\n  _createClass(ChooseActivityTypeController, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var whiteList = this.props.whiteList;\n      var types = whiteList ? _activityTypes.activityTypes.filter(function (x) {\n        return whiteList.includes(x.id);\n      }) : _activityTypes.activityTypes;\n      var activityTypesFiltered = this.props.onlyHasPreview ? types.filter(function (x) {\n        return x.meta.exampleData !== undefined;\n      }) : types;\n      var select = this.props.onSelect ? this.props.onSelect : function (aT) {\n        var defaultConf = (0, _jsonSchemaDefaults.default)(aT.config);\n        (0, _activities.addActivity)(aT.id, defaultConf, _this2.props.activity._id);\n        var _this2$props = _this2.props,\n            store = _this2$props.store,\n            activity = _this2$props.activity;\n\n        if (store) {\n          if (activity.title && activity.title === 'Unnamed') {\n            var graphActivity = store.activityStore.all.find(function (act) {\n              return act.id === activity._id;\n            });\n            var newName = aT.meta.shortName || aT.meta.name;\n            graphActivity.rename(newName);\n          }\n\n          store.addHistory();\n        }\n      };\n      var filteredList = activityTypesFiltered.filter(function (x) {\n        return x.meta.name.toLowerCase().includes(_this2.state.searchStr) || x.meta.shortDesc.toLowerCase().includes(_this2.state.searchStr) || x.meta.description.toLowerCase().includes(_this2.state.searchStr);\n      }).sort(function (x, y) {\n        return x.meta.name < y.meta.name ? -1 : 1;\n      });\n\n      var closeLibrary = function closeLibrary() {\n        return _this2.props.store && _this2.props.store.ui.setLibraryOpen(false);\n      };\n\n      var classes = this.props.classes;\n      return _react.default.createElement(_Grid.default, {\n        container: true\n      }, _react.default.createElement(_Grid.default, {\n        item: true,\n        xs: 12\n      }, _react.default.createElement(StyledChooseActivityTopPanel, _extends({\n        hideLibrary: this.props.hideLibrary,\n        onSearch: this.handleSearch,\n        onToggle: this.handleToggle\n      }, this.props))), this.props.store && (this.props.store.ui.libraryOpen ? _react.default.createElement(_Grid.default, {\n        item: true,\n        xs: 12,\n        className: classes.activityList\n      }, _react.default.createElement(_RemoteLibrary.default, _extends({}, closeLibrary, {\n        libraryType: \"activity\",\n        setDelete: this.props.setDelete,\n        setIdRemove: this.props.setIdRemove,\n        activityId: this.props.activity._id,\n        setActivityTypeId: this.props.setActivityTypeId,\n        store: this.props.store,\n        locallyChanged: this.props.locallyChanged,\n        changesLoaded: this.props.changesLoaded,\n        onSelect: this.props.onSelect,\n        searchStr: this.state.searchStr\n      }))) : _react.default.createElement(_Grid.default, {\n        item: true,\n        xs: 12,\n        className: classes.activityList\n      }, filteredList.length === 0 ? _react.default.createElement(StyledNoResult, null) : _react.default.createElement(_List.default, null, filteredList.map(function (x) {\n        return _react.default.createElement(_ListComponent.default, {\n          hasPreview: !_this2.props.hidePreview && x.meta.exampleData !== undefined,\n          onSelect: function onSelect() {\n            return select(x);\n          },\n          showExpanded: _this2.state.expanded === x.id,\n          expand: function expand() {\n            return _this2.setState({\n              expanded: x.id\n            });\n          },\n          key: x.id,\n          onPreview: function onPreview() {\n            if (_this2.props.onPreview) {\n              _this2.props.onPreview(x.id);\n            } else if (_this2.props.store) {\n              _this2.props.store.ui.setShowPreview({\n                activityTypeId: x.id\n              });\n            }\n          },\n          object: x,\n          searchS: _this2.state.searchStr,\n          eventKey: x.id\n        });\n      })))), this.state.showInfo !== null && _react.default.createElement(_Preview.default, {\n        modal: true,\n        activityTypeId: this.state.showInfo,\n        dismiss: function dismiss() {\n          return _this2.setState({\n            showInfo: null\n          });\n        }\n      }));\n    }\n  }]);\n\n  return ChooseActivityTypeController;\n}(_react.Component);\n\nvar ChooseActivityConnected = (0, _store.connect)(ChooseActivityTypeController);\n\nvar _default = (0, _styles.withStyles)(styles)(ChooseActivityConnected);\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/ActivityPanel/ChooseActivity.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/ActivityPanel/EditActivity.js":
/*!************************************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/ActivityPanel/EditActivity.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _reactFlexview = _interopRequireDefault(__webpack_require__(/*! react-flexview */ \"../node_modules/react-flexview/lib/index.js\"));\n\nvar _reactTooltip = _interopRequireDefault(__webpack_require__(/*! react-tooltip */ \"../node_modules/react-tooltip/dist/index.js\"));\n\nvar _reactBootstrap = __webpack_require__(/*! react-bootstrap */ \"../node_modules/react-bootstrap/es/index.js\");\n\nvar _colors = __webpack_require__(/*! @material-ui/core/colors */ \"../node_modules/@material-ui/core/colors/index.js\");\n\nvar _copyToClipboard = _interopRequireDefault(__webpack_require__(/*! copy-to-clipboard */ \"../node_modules/copy-to-clipboard/index.js\"));\n\nvar _recompose = __webpack_require__(/*! recompose */ \"../node_modules/recompose/dist/Recompose.esm.js\");\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _activityTypes = __webpack_require__(/*! ../../../../activityTypes */ \"./imports/activityTypes.js\");\n\nvar _activities = __webpack_require__(/*! ../../../../api/activities */ \"./imports/api/activities.js\");\n\nvar _store = __webpack_require__(/*! ../../store */ \"./imports/ui/GraphEditor/store/index.js\");\n\nvar _Validator = __webpack_require__(/*! ../../Validator */ \"./imports/ui/GraphEditor/Validator.js\");\n\nvar _Rename = __webpack_require__(/*! ../../Rename */ \"./imports/ui/GraphEditor/Rename.js\");\n\nvar _fileUploader = _interopRequireDefault(__webpack_require__(/*! ../fileUploader */ \"./imports/ui/GraphEditor/SidePanel/fileUploader.jsx\"));\n\nvar _ExportButton = _interopRequireDefault(__webpack_require__(/*! ./ExportButton */ \"./imports/ui/GraphEditor/SidePanel/ActivityPanel/ExportButton.jsx\"));\n\nvar _FormUtils = __webpack_require__(/*! ../FormUtils */ \"./imports/ui/GraphEditor/SidePanel/FormUtils/index.js\");\n\nvar _index = __webpack_require__(/*! ../index */ \"./imports/ui/GraphEditor/SidePanel/index.js\");\n\nvar _ConfigForm = _interopRequireDefault(__webpack_require__(/*! ../ConfigForm */ \"./imports/ui/GraphEditor/SidePanel/ConfigForm.jsx\"));\n\nvar _DeleteButton = _interopRequireDefault(__webpack_require__(/*! ../DeleteButton */ \"./imports/ui/GraphEditor/SidePanel/DeleteButton.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar StreamSelect = function StreamSelect(_ref) {\n  var activity = _ref.activity,\n      targets = _ref.targets,\n      _onChange = _ref.onChange;\n  return React.createElement(_reactBootstrap.FormGroup, {\n    controlId: \"selectGrouping\"\n  }, React.createElement(_reactBootstrap.FormControl, {\n    onChange: function onChange(e) {\n      return _onChange(e.target.value);\n    },\n    componentClass: \"select\",\n    value: activity.streamTarget || 'undefined'\n  }, [{\n    id: 'undefined',\n    title: 'Choose a target'\n  }].concat(_toConsumableArray(targets)).map(function (x) {\n    return React.createElement(\"option\", {\n      value: x.id,\n      key: x.id\n    }, x.title);\n  })));\n};\n\nvar SelectParticipationMode = function SelectParticipationMode(_ref2) {\n  var activity = _ref2.activity,\n      _onChange2 = _ref2.onChange;\n  return React.createElement(_reactBootstrap.FormGroup, {\n    controlId: \"participationGrouping\"\n  }, React.createElement(_reactBootstrap.FormControl, {\n    onChange: function onChange(e) {\n      return _onChange2(e.target.value);\n    },\n    componentClass: \"select\",\n    value: activity.participationMode || 'everyone'\n  }, React.createElement(\"option\", {\n    value: \"everyone\"\n  }, \"Everyone participate equally\"), React.createElement(\"option\", {\n    value: \"readonly\"\n  }, \"Only teacher edits, students have read-only views\"), React.createElement(\"option\", {\n    value: \"projector\"\n  }, \"Only displayed in teacher's projector mode\")));\n};\n\nvar copyURL = function copyURL(activity) {\n  var configStr = activity.data ? \"config=\".concat(encodeURIComponent(JSON.stringify(activity.data)), \"&\") : '';\n  var url = \"\".concat(window.location.protocol, \"//\").concat(window.location.hostname).concat(window.location.port ? ':' + window.location.port : '', \"/api/activityType/\").concat(activity.activityType, \"?\").concat(configStr, \"instance_id=1\");\n  (0, _copyToClipboard.default)(url); // eslint-disable-next-line no-alert\n\n  window.alert('Pre-configured URL for headless FROG has been copied to your clipboard');\n};\n\nvar RawEditActivity = function RawEditActivity(_ref3) {\n  var advancedOpen = _ref3.advancedOpen,\n      setAdvancedOpen = _ref3.setAdvancedOpen,\n      reload = _ref3.reload,\n      setReload = _ref3.setReload,\n      modalOpen = _ref3.modalOpen,\n      setModal = _ref3.setModal,\n      activity = _ref3.activity,\n      refreshActDate = _ref3.refreshActDate,\n      setImportActivityList = _ref3.setImportActivityList,\n      madeChanges = _ref3.madeChanges,\n      props = _objectWithoutProperties(_ref3, [\"advancedOpen\", \"setAdvancedOpen\", \"reload\", \"setReload\", \"modalOpen\", \"setModal\", \"activity\", \"refreshActDate\", \"setImportActivityList\", \"madeChanges\"]);\n\n  var graphActivity = props.store.activityStore.all.find(function (act) {\n    return act.id === activity._id;\n  });\n  var outgoingConnections = props.store.connectionStore.all.filter(function (conn) {\n    return conn.source.id === activity._id;\n  });\n  var incomingConnections = props.store.connectionStore.all.filter(function (conn) {\n    return conn.target.id === activity._id;\n  });\n  var connectedTargetActivities = (0, _lodash.compact)(outgoingConnections.map(function (x) {\n    return props.store.activityStore.all.find(function (act) {\n      return act.id === x.target.id;\n    });\n  }));\n  var connectedSourceActivities = (0, _lodash.compact)(incomingConnections.map(function (x) {\n    return props.store.activityStore.all.find(function (act) {\n      return act.id === x.source.id;\n    });\n  })); // if no grouping key, and incoming social role, automatically assign first one\n\n  if ((!activity.groupingKey || activity.groupingKey === '') && props.store.valid.social[activity._id] && props.store.valid.social[activity._id].length > 0 && activity.plane === 2) {\n    (0, _activities.addActivity)(activity.activityType, null, activity._id, null, props.store.valid.social[activity._id][0]);\n  }\n\n  var errorColor;\n  var errors = props.store.graphErrors.filter(function (x) {\n    return x.id === activity._id;\n  });\n  var error = errors.filter(function (x) {\n    return x.severity === 'error';\n  });\n  var warning = errors.filter(function (x) {\n    return x.severity === 'warning';\n  });\n\n  if (error.length > 0) {\n    errorColor = _colors.red[500];\n  } else if (warning.length > 0) {\n    errorColor = _colors.yellow[500];\n  } else {\n    errorColor = _colors.lightGreen[500];\n  }\n\n  var activityType = _activityTypes.activityTypesObj[activity.activityType];\n  var otherActivityIds = props.store.activityStore.all.filter(function (a) {\n    return a.id !== activity._id;\n  });\n  return React.createElement(\"div\", {\n    className: \"bootstrap\",\n    style: {\n      height: '100%',\n      overflowY: 'scroll'\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      backgroundColor: '#eee',\n      minHeight: '110px',\n      padding: '0 10px'\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      left: -40\n    }\n  }, React.createElement(_Validator.ErrorList, {\n    activityId: activity._id\n  })), React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row'\n    }\n  }, React.createElement(_reactFlexview.default, {\n    style: {\n      flexDirection: 'column'\n    }\n  }, React.createElement(\"h3\", null, React.createElement(_frogUtils.ChangeableText, {\n    EditComponent: _Rename.RenameField,\n    activityId: activity._id,\n    value: graphActivity.title\n  })), React.createElement(\"font\", {\n    size: -3\n  }, React.createElement(\"i\", null, \"Type: \".concat(activityType.meta.name, \"\\n                         (\").concat(activity.activityType, \")\"), React.createElement(\"br\", null), \"Starting after \".concat(graphActivity.startTime, \" min., running for \").concat(graphActivity.length, \" min.\")))), React.createElement(_reactFlexview.default, {\n    marginLeft: \"auto\",\n    style: {\n      flexDirection: 'column',\n      position: 'absolute',\n      right: '2px'\n    }\n  }, React.createElement(_Validator.ValidButton, {\n    activityId: activity._id,\n    errorColor: errorColor\n  }), errorColor === _colors.lightGreen[500] && React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column'\n    }\n  }, React.createElement(_index.IconButton, {\n    icon: \"glyphicon glyphicon-eye-open\",\n    tooltip: \"Preview\",\n    onClick: function onClick() {\n      props.store.ui.setShowPreview({\n        activityTypeId: activity.activityType,\n        config: activity.data\n      });\n    }\n  }), React.createElement(_ExportButton.default, {\n    activity: activity,\n    madeChanges: madeChanges\n  })), React.createElement(_DeleteButton.default, {\n    tooltip: \"Reset activity\",\n    msg: \"Do you really want to remove the activity type, and loose all the configuration data?\",\n    onConfirmation: function onConfirmation() {\n      (0, _activities.removeActivityType)(activity._id);\n      props.store.refreshValidate();\n    }\n  }))), activity.plane === 2 && React.createElement(_FormUtils.SelectAttributeWidget, {\n    activity: activity,\n    onChange: function onChange(grp) {\n      (0, _activities.addActivity)(activity.activityType, null, activity._id, null, grp);\n      props.store.refreshValidate();\n    }\n  }), activity.plane === 3 && React.createElement(SelectParticipationMode, {\n    activity: activity,\n    onChange: function onChange(e) {\n      return (0, _activities.setParticipation)(activity._id, e);\n    }\n  })), React.createElement(_ConfigForm.default, {\n    key: 'conf' + activity._id,\n    node: activity,\n    nodeType: activityType,\n    valid: props.store.valid,\n    refreshValidate: props.store.refreshValidate,\n    connectedActivities: otherActivityIds,\n    connectedSourceActivities: connectedSourceActivities,\n    connectedTargetActivities: connectedTargetActivities,\n    reload: reload + (connectedSourceActivities || []).map(function (x) {\n      return x.id;\n    }).join('') + (connectedTargetActivities || []).map(function (x) {\n      return x.id;\n    }).join('')\n  }), activityType.ConfigComponent && React.createElement(activityType.ConfigComponent, {\n    key: activity._id,\n    formContext: {\n      connectedActivities: otherActivityIds,\n      connectedSourceActivities: connectedSourceActivities,\n      connectedTargetActivities: connectedTargetActivities\n    },\n    configData: _objectSpread({\n      component: {}\n    }, activity.data),\n    setConfigData: function setConfigData(d) {\n      (0, _activities.addActivity)(activity.activityType, _objectSpread({}, activity.data, {\n        component: d\n      }), activity._id, null);\n      props.store.refreshValidate();\n      setReload((0, _frogUtils.uuid)());\n    }\n  }), React.createElement(_frogUtils.A, {\n    onClick: function onClick() {\n      return setAdvancedOpen(!advancedOpen);\n    }\n  }, \"Advanced...\"), (advancedOpen || activity.streamTarget) && React.createElement(React.Fragment, null, React.createElement(\"div\", null, React.createElement(_frogUtils.A, {\n    onClick: function onClick() {\n      return copyURL(activity);\n    }\n  }, \"Copy link for headless FROG to clipboard\"), React.createElement(\"br\", null), \"Select streaming target\", React.createElement(StreamSelect, {\n    activity: activity,\n    targets: otherActivityIds,\n    onChange: function onChange(streamTarget) {\n      return (0, _activities.setStreamTarget)(activity._id, streamTarget);\n    }\n  })), React.createElement(_fileUploader.default, null)), React.createElement(_reactTooltip.default, null));\n};\n\nvar EditActivity = (0, _recompose.compose)((0, _recompose.withState)('advancedOpen', 'setAdvancedOpen', false), (0, _recompose.withState)('reload', 'setReload', (0, _frogUtils.uuid)()), (0, _recompose.withState)('modalOpen', 'setModal', false))(RawEditActivity);\n\nvar _default = (0, _store.connect)(EditActivity);\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/ActivityPanel/EditActivity.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/ActivityPanel/ExportButton.jsx":
/*!*************************************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/ActivityPanel/ExportButton.jsx ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _recompose = __webpack_require__(/*! recompose */ \"../node_modules/recompose/dist/Recompose.esm.js\");\n\nvar _cache = __webpack_require__(/*! ../../../../api/cache */ \"./imports/api/cache.js\");\n\nvar _remoteActivities = __webpack_require__(/*! ../../../../api/remoteActivities */ \"./imports/api/remoteActivities.js\");\n\nvar _ModalExport = _interopRequireDefault(__webpack_require__(/*! ../../RemoteControllers/ModalExport */ \"./imports/ui/GraphEditor/RemoteControllers/ModalExport.jsx\"));\n\nvar _index = __webpack_require__(/*! ../index */ \"./imports/ui/GraphEditor/SidePanel/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar StatelessExportButton = function StatelessExportButton(props) {\n  return React.createElement(\"div\", null, React.createElement(_ModalExport.default, _extends({\n    exportType: \"activity\"\n  }, props, {\n    metadatas: props.metadatas || _cache.LibraryStates.activityList.find(function (x) {\n      return x.uuid === props.activity.parentId;\n    })\n  })), React.createElement(_index.IconButton, {\n    tooltip: \"Send activity to activity library\",\n    icon: \"glyphicon glyphicon-share\",\n    onClick: function onClick() {\n      return props.activity.parentId ? (0, _remoteActivities.loadActivityMetaData)(props.activity.parentId, function () {\n        return props.setModal(true);\n      }) : props.setModal(true);\n    }\n  }));\n};\n\nvar _default = (0, _recompose.withState)('modalOpen', 'setModal', false)(StatelessExportButton);\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/ActivityPanel/ExportButton.jsx?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/ActivityPanel/index.js":
/*!*****************************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/ActivityPanel/index.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _reactMeteorData = __webpack_require__(/*! meteor/react-meteor-data */ \"meteor/react-meteor-data\");\n\nvar _activities = __webpack_require__(/*! ../../../../api/activities */ \"./imports/api/activities.js\");\n\nvar _ChooseActivity = _interopRequireDefault(__webpack_require__(/*! ./ChooseActivity */ \"./imports/ui/GraphEditor/SidePanel/ActivityPanel/ChooseActivity.js\"));\n\nvar _EditActivity = _interopRequireDefault(__webpack_require__(/*! ./EditActivity */ \"./imports/ui/GraphEditor/SidePanel/ActivityPanel/EditActivity.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar _default = (0, _reactMeteorData.withTracker)(function (_ref) {\n  var id = _ref.id;\n  return {\n    activity: _activities.Activities.findOne(id)\n  };\n})(function (_ref2) {\n  var activity = _ref2.activity,\n      madeChanges = _ref2.madeChanges,\n      rest = _objectWithoutProperties(_ref2, [\"activity\", \"madeChanges\"]);\n\n  if (!activity) return null;\n  if (activity.activityType) return React.createElement(_EditActivity.default, {\n    activity: activity,\n    madeChanges: madeChanges\n  });else return React.createElement(_ChooseActivity.default, _extends({\n    activity: activity\n  }, rest));\n});\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/ActivityPanel/index.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/ApiForm.js":
/*!*****************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/ApiForm.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.check = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _mobx = __webpack_require__(/*! mobx */ \"../node_modules/mobx/lib/mobx.module.js\");\n\nvar _mobxReact = __webpack_require__(/*! mobx-react */ \"../node_modules/mobx-react/index.module.js\");\n\nvar _jsonSchemaDefaults = _interopRequireDefault(__webpack_require__(/*! json-schema-defaults */ \"../node_modules/json-schema-defaults/index.js\"));\n\nvar _activityTypes = __webpack_require__(/*! ../../../activityTypes */ \"./imports/activityTypes.js\");\n\nvar _validateConfig = _interopRequireDefault(__webpack_require__(/*! ../../../api/validateConfig */ \"./imports/api/validateConfig.js\"));\n\nvar _remoteActivities = __webpack_require__(/*! ../../../api/remoteActivities */ \"./imports/api/remoteActivities.js\");\n\nvar _Validator = __webpack_require__(/*! ../Validator */ \"./imports/ui/GraphEditor/Validator.js\");\n\nvar _ConfigForm = _interopRequireDefault(__webpack_require__(/*! ./ConfigForm */ \"./imports/ui/GraphEditor/SidePanel/ConfigForm.jsx\"));\n\nvar _ChooseActivity = _interopRequireDefault(__webpack_require__(/*! ./ActivityPanel/ChooseActivity */ \"./imports/ui/GraphEditor/SidePanel/ActivityPanel/ChooseActivity.js\"));\n\nvar _ModalDelete = _interopRequireDefault(__webpack_require__(/*! ../RemoteControllers/ModalDelete */ \"./imports/ui/GraphEditor/RemoteControllers/ModalDelete.jsx\"));\n\nvar _store = _interopRequireDefault(__webpack_require__(/*! ../store/store */ \"./imports/ui/GraphEditor/store/store.js\"));\n\nvar _DeleteButton = _interopRequireDefault(__webpack_require__(/*! ./DeleteButton */ \"./imports/ui/GraphEditor/SidePanel/DeleteButton.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar store = new _store.default();\n\nvar ConfigComponent = function ConfigComponent(_ref) {\n  var activityTypeId = _ref.activityTypeId,\n      config = _ref.config,\n      setConfig = _ref.setConfig;\n  var aT = _activityTypes.activityTypesObj[activityTypeId];\n\n  if (!aT || !aT.ConfigComponent) {\n    return null;\n  }\n\n  return React.createElement(aT.ConfigComponent, {\n    configData: _objectSpread({\n      component: {},\n      invalid: false\n    }, config),\n    setConfigData: function setConfigData(d) {\n      return setConfig(_objectSpread({}, config, {\n        invalid: false,\n        component: d\n      }));\n    },\n    formContext: {}\n  });\n};\n\nvar check = function check(activityType, formData, setValid, onConfigChange) {\n  var aT = _activityTypes.activityTypesObj[activityType];\n  var valid = (0, _validateConfig.default)('activity', '1', (0, _frogUtils.hideConditional)(formData, aT.config, aT.configUI), aT.config, aT.validateConfig, aT.configUI);\n\n  if (setValid) {\n    setValid(valid);\n  }\n\n  if (onConfigChange) {\n    onConfigChange({\n      activityType: activityType,\n      config: _objectSpread({}, formData, {\n        invalid: valid.length > 0\n      }),\n      errors: valid,\n      invalid: valid.length > 0\n    });\n  } else {\n    window.parent.postMessage({\n      type: 'frog-config',\n      activityType: activityType,\n      config: _objectSpread({}, formData),\n      errors: valid,\n      valid: valid.length === 0\n    }, '*');\n  }\n};\n\nexports.check = check;\n\nvar Config =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Config, _React$Component);\n\n  function Config(props) {\n    var _this;\n\n    _classCallCheck(this, Config);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Config).call(this, props));\n    _this.state = {\n      formData: _this.props.config,\n      valid: []\n    };\n    _this.aT = _activityTypes.activityTypesObj[_typeof(props.activity.activityType) === 'object' ? props.activity.activityType.activity_type : props.activity.activityType];\n    return _this;\n  }\n\n  _createClass(Config, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      check(this.aT.id, this.state.formData, this.props.setValid, this.props.onConfigChange);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column'\n        }\n      }, React.createElement(\"div\", null, React.createElement(_ConfigForm.default, {\n        node: this.props.activity,\n        data: this.props.config,\n        reload: this.props.reload,\n        onChange: function onChange(e) {\n          _this2.setState({\n            formData: _objectSpread({}, e.formData, {\n              component: _this2.state.formData.component\n            })\n          }, function () {\n            return check(_this2.aT.id, _this2.state.formData, _this2.props.setValid, _this2.props.onConfigChange);\n          });\n        },\n        nodeType: this.aT,\n        valid: {\n          social: []\n        },\n        refreshValidate: function refreshValidate() {}\n      })), React.createElement(ConfigComponent, {\n        activityTypeId: this.aT.id,\n        config: this.props.config,\n        setConfig: function setConfig(e) {\n          _this2.setState({\n            formData: _objectSpread({}, _this2.state.formData, e)\n          }, function () {\n            return check(_this2.aT.id, _this2.state.formData, _this2.props.setValid, _this2.props.onConfigChange);\n          });\n        }\n      }));\n    }\n  }]);\n\n  return Config;\n}(React.Component);\n\nvar State = function State() {\n  var _this3 = this;\n\n  _classCallCheck(this, State);\n\n  (0, _mobx.extendObservable)(this, {\n    showErrors: false,\n    valid: [],\n    setShow: (0, _mobx.action)(function (e) {\n      _this3.showErrors = e;\n    }),\n    setValid: (0, _mobx.action)(function (e) {\n      return _this3.valid = e;\n    })\n  });\n};\n\nvar state = new State();\nvar ApiForm = (0, _mobxReact.observer)(\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(A, _React$Component2);\n\n  function A(props) {\n    var _this4;\n\n    _classCallCheck(this, A);\n\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(A).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this4)), \"activity\", {\n      _id: '1',\n      activityType: _this4.props.activityType,\n      data: _this4.props.config || {},\n      plane: 1,\n      startTime: 0,\n      length: 5\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this4)), \"componentWillReceiveProps\", function (nextprops) {\n      if (_this4.props.activityType !== nextprops.activityType || _this4.props.config !== nextprops.config) {\n        if (nextprops.activityType) {\n          check(nextprops.activityType, nextprops.config || {}, state.setValid);\n        }\n\n        _this4.setState({\n          activity: {\n            _id: '1',\n            activityType: nextprops.activityType,\n            data: nextprops.config || {},\n            plane: 1,\n            startTime: 0,\n            length: 5\n          }\n        });\n      }\n    });\n\n    _this4.state = {\n      activity: _this4.activity,\n      idRemove: {},\n      deleteOpen: false\n    };\n    return _this4;\n  }\n\n  _createClass(A, [{\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return React.createElement(React.Fragment, null, this.state.activity.activityType ? React.createElement(\"div\", null, React.createElement(\"div\", {\n        style: {\n          position: 'absolute',\n          right: '0px',\n          top: '0px'\n        }\n      }, !this.props.hideValidator && React.createElement(Valid, {\n        noOffset: this.props.noOffset\n      }), this.props.showDelete && React.createElement(_DeleteButton.default, {\n        tooltip: \"Reset activity\",\n        msg: \"Do you really want to remove the activity type, and loose all the configuration data?\",\n        onConfirmation: function onConfirmation() {\n          window.parent.postMessage({\n            type: 'frog-config',\n            activityType: undefined\n          }, '*');\n\n          _this5.setState({\n            activity: {\n              _id: '1',\n              data: {},\n              plane: 1,\n              startTime: 0,\n              length: 5\n            },\n            idRemove: {},\n            deleteOpen: false\n          });\n        }\n      })), React.createElement(\"div\", {\n        style: {\n          marginTop: '20px',\n          padding: '0 10px'\n        }\n      }, React.createElement(Config, {\n        onConfigChange: this.props.onConfigChange,\n        activity: this.state.activity,\n        setValid: state.setValid,\n        reload: this.props.reload,\n        config: this.props.config || this.state.activity.data || {}\n      }))) : React.createElement(React.Fragment, null, React.createElement(_ModalDelete.default, {\n        modalOpen: this.state.deleteOpen,\n        setModal: function setModal(x) {\n          return _this5.setState({\n            deleteOpen: x\n          });\n        },\n        remove: function remove() {\n          return (0, _remoteActivities.removeActivity)(_this5.state.idRemove.id, function () {\n            return _this5.forceUpdate();\n          });\n        }\n      }), React.createElement(_ChooseActivity.default, {\n        hideLibrary: this.props.hideLibrary,\n        setDelete: function setDelete(x) {\n          return _this5.setState({\n            deleteOpen: x\n          });\n        },\n        setIdRemove: function setIdRemove(x) {\n          return _this5.setState({\n            idRemove: x\n          });\n        },\n        whiteList: this.props.whiteList,\n        store: store,\n        setActivityTypeId: this.props.setActivityTypeId,\n        activity: this.state.activity,\n        hidePreview: this.props.hidePreview,\n        onPreview: this.props.onPreview,\n        onSelect: function onSelect(e) {\n          var obj = _typeof(e.id) === 'object' ? {\n            activityType: e.id.activity_type,\n            config: e.id.config\n          } : {\n            activityType: e.id,\n            config: (0, _jsonSchemaDefaults.default)(e.config)\n          };\n\n          if (_this5.props.onSelect) {\n            _this5.props.onSelect(e.id);\n          }\n\n          _this5.setState({\n            activity: {\n              _id: '1',\n              activityType: obj.activityType,\n              data: obj.config,\n              plane: 1,\n              startTime: 0,\n              length: 5\n            }\n          });\n        }\n      })));\n    }\n  }]);\n\n  return A;\n}(React.Component));\nApiForm.displayName = 'ApiForm';\nvar Valid = (0, _mobxReact.observer)(function (_ref2) {\n  var noOffset = _ref2.noOffset;\n  return React.createElement(_Validator.ValidButtonRaw, {\n    setShowErrors: state.setShow,\n    errorColor: state.valid.length > 0 ? 'red' : 'green',\n    noOffset: noOffset\n  });\n});\nValid.displayName = 'Valid';\nvar Errors = (0, _mobxReact.observer)(function (_ref3) {\n  var noOffset = _ref3.noOffset;\n  return React.createElement(React.Fragment, null, state.showErrors ? React.createElement(\"div\", {\n    style: noOffset ? {\n      position: 'absolute',\n      top: '0px',\n      left: '0px',\n      zIndex: 99\n    } : {\n      position: 'absolute',\n      left: '0px',\n      top: '120px',\n      zIndex: 99\n    }\n  }, React.createElement(_Validator.ShowErrorsRaw, {\n    errors: state.valid\n  })) : null);\n});\nErrors.displayName = 'Errors';\n\nvar Container = function Container(props) {\n  return React.createElement(\"div\", null, React.createElement(ApiForm, props), !props.hideValidator && React.createElement(Errors, {\n    noOffset: props.noOffset\n  }));\n};\n\nvar _default = Container;\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/ApiForm.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/ConfigForm.jsx":
/*!*********************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/ConfigForm.jsx ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _activities = __webpack_require__(/*! ../../../api/activities */ \"./imports/api/activities.js\");\n\nvar _operators = __webpack_require__(/*! ../../../api/operators */ \"./imports/api/operators.js\");\n\nvar _FormUtils = __webpack_require__(/*! ./FormUtils */ \"./imports/ui/GraphEditor/SidePanel/FormUtils/index.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar ConfigForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ConfigForm, _Component);\n\n  function ConfigForm(props) {\n    var _this;\n\n    _classCallCheck(this, ConfigForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ConfigForm).call(this, props));\n    _this.state = {\n      formData: _this.props.node.data\n    };\n    return _this;\n  }\n\n  _createClass(ConfigForm, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.reload !== nextProps.reload && this.props.data !== nextProps.data) {\n        this.setState({\n          formData: nextProps.data,\n          id: nextProps.reload\n        });\n        return;\n      }\n\n      if ((this.props.node._id !== nextProps.node._id || this.props.reload !== nextProps.reload) && !nextProps.data) {\n        var coll = this.props.node.operatorType ? _operators.Operators : _activities.Activities;\n        this.setState({\n          formData: coll.findOne(nextProps.node._id).data\n        });\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      if (this.props.data !== nextProps.data && this.props.reload !== nextProps.reload) {\n        return true;\n      }\n\n      if (this.props.node._id === nextProps.node._id && this.props.reload === nextProps.reload && (0, _lodash.isEqual)(this.props.connectedActivities, nextProps.connectedActivities)) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          node = _this$props.node,\n          nodeType = _this$props.nodeType,\n          valid = _this$props.valid,\n          connectedActivities = _this$props.connectedActivities,\n          connectedSourceActivities = _this$props.connectedSourceActivities,\n          connectedTargetActivities = _this$props.connectedTargetActivities,\n          refreshValidate = _this$props.refreshValidate;\n\n      var props = _objectSpread({\n        formData: this.state.formData\n      }, (0, _FormUtils.addSocialFormSchema)(nodeType.config, nodeType.configUI), {\n        widgets: _objectSpread({}, this.props.widgets, {\n          socialAttributeWidget: _FormUtils.SelectFormWidget,\n          anyActivityWidget: _FormUtils.SelectAnyActivityWidget,\n          targetActivityWidget: _FormUtils.SelectTargetActivityWidget,\n          sourceActivityWidget: _FormUtils.SelectSourceActivityWidget,\n          learningItemTypeWidget: _FormUtils.SelectLITypeWidget,\n          learningItemTypeEditorWidget: _FormUtils.SelectLITypeEditorWidget\n        }),\n        reload: this.props.reload,\n        id: node._id,\n        formContext: {\n          options: valid.social[node._id] || [],\n          connectedActivities: connectedActivities,\n          connectedSourceActivities: connectedSourceActivities,\n          connectedTargetActivities: connectedTargetActivities,\n          groupingKey: node.groupingKey\n        },\n        onChange: this.props.onChange || function (data) {\n          if (node.operatorType) {\n            (0, _operators.addOperator)(node.operatorType, _objectSpread({\n              component: _this2.props.data && _this2.props.data.component\n            }, data.formData), node._id);\n          } else {\n            (0, _activities.addActivity)(node.activityType, _objectSpread({\n              component: _this2.props.data && _this2.props.data.component\n            }, data.formData), node._id, null);\n          }\n\n          refreshValidate();\n        }\n      });\n\n      var nodeConfig = this.props.nodeType.config;\n      return nodeConfig && ![{}, undefined].includes(nodeConfig.properties) ? _react.default.createElement(\"div\", {\n        className: \"bootstrap\",\n        style: {\n          padding: '0 10px'\n        }\n      }, _react.default.createElement(_frogUtils.EnhancedForm, _extends({\n        showErrorList: false,\n        noHtml5Validate: true\n      }, props, {\n        id: this.state.id\n      }), _react.default.createElement(\"div\", null))) : null;\n    }\n  }]);\n\n  return ConfigForm;\n}(_react.Component);\n\nexports.default = ConfigForm;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/ConfigForm.jsx?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/DeleteButton.js":
/*!**********************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/DeleteButton.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _Dialog = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Dialog */ \"../node_modules/@material-ui/core/Dialog/index.js\"));\n\nvar _DialogActions = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/DialogActions */ \"../node_modules/@material-ui/core/DialogActions/index.js\"));\n\nvar _DialogContent = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/DialogContent */ \"../node_modules/@material-ui/core/DialogContent/index.js\"));\n\nvar _DialogContentText = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/DialogContentText */ \"../node_modules/@material-ui/core/DialogContentText/index.js\"));\n\nvar _DialogTitle = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/DialogTitle */ \"../node_modules/@material-ui/core/DialogTitle/index.js\"));\n\nvar _Button = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Button */ \"../node_modules/@material-ui/core/Button/index.js\"));\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _index = __webpack_require__(/*! ./index */ \"./imports/ui/GraphEditor/SidePanel/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar _default = (0, _frogUtils.withVisibility)(function (_ref) {\n  var msg = _ref.msg,\n      onConfirmation = _ref.onConfirmation,\n      visible = _ref.visible,\n      setVisibility = _ref.setVisibility,\n      tooltip = _ref.tooltip;\n  return React.createElement(React.Fragment, null, React.createElement(_index.IconButton, {\n    onClick: function onClick() {\n      return setVisibility(true);\n    },\n    icon: \"glyphicon glyphicon-trash\",\n    tooltip: tooltip\n  }), React.createElement(_Dialog.default, {\n    open: visible\n  }, React.createElement(_DialogTitle.default, null, \"Confirmation\"), React.createElement(_DialogContent.default, null, React.createElement(_DialogContentText.default, null, msg)), React.createElement(\"div\", {\n    style: {\n      height: '10px'\n    }\n  }), React.createElement(_DialogActions.default, null, React.createElement(_Button.default, {\n    onClick: function onClick() {\n      return setVisibility(false);\n    }\n  }, \"Cancel\"), React.createElement(_Button.default, {\n    color: \"secondary\",\n    onClick: function onClick() {\n      setVisibility(false);\n      onConfirmation();\n    }\n  }, \"Delete\"))));\n});\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/DeleteButton.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/FormUtils/SelectActivity.jsx":
/*!***********************************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/FormUtils/SelectActivity.jsx ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SelectTargetActivityWidget = exports.SelectSourceActivityWidget = exports.SelectAnyActivityWidget = void 0;\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _reactBootstrap = __webpack_require__(/*! react-bootstrap */ \"../node_modules/react-bootstrap/es/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar SelectActivityWidget = function SelectActivityWidget(_ref) {\n  var choices = _ref.choices,\n      _onChange = _ref.onChange,\n      _ref$value = _ref.value,\n      value = _ref$value === void 0 ? '' : _ref$value,\n      emptyErr = _ref.emptyErr;\n  return _react.default.createElement(\"span\", null, choices && choices.length > 0 ? _react.default.createElement(_reactBootstrap.FormControl, {\n    onChange: function onChange(e) {\n      return _onChange(e.target.value);\n    },\n    componentClass: \"select\",\n    value: value\n  }, [''].concat(_toConsumableArray(choices)).map(function (x) {\n    return _react.default.createElement(\"option\", {\n      value: x.id || '',\n      key: x.id || 'choose'\n    }, x === '' ? 'Choose an activity' : x.title);\n  })) : _react.default.createElement(\"span\", {\n    style: {\n      color: 'red'\n    }\n  }, emptyErr));\n};\n\nvar SelectAnyActivityWidget = function SelectAnyActivityWidget(_ref2) {\n  var formContext = _ref2.formContext,\n      rest = _objectWithoutProperties(_ref2, [\"formContext\"]);\n\n  return _react.default.createElement(SelectActivityWidget, _extends({\n    choices: formContext.connectedActivities,\n    emptyErr: \"No other activities in the graph, please add an activity\"\n  }, rest));\n};\n\nexports.SelectAnyActivityWidget = SelectAnyActivityWidget;\n\nvar SelectSourceActivityWidget = function SelectSourceActivityWidget(_ref3) {\n  var formContext = _ref3.formContext,\n      rest = _objectWithoutProperties(_ref3, [\"formContext\"]);\n\n  return _react.default.createElement(SelectActivityWidget, _extends({\n    choices: formContext.connectedSourceActivities,\n    emptyErr: \"No activities connected, please connect an activity\"\n  }, rest));\n};\n\nexports.SelectSourceActivityWidget = SelectSourceActivityWidget;\n\nvar SelectTargetActivityWidget = function SelectTargetActivityWidget(_ref4) {\n  var formContext = _ref4.formContext,\n      rest = _objectWithoutProperties(_ref4, [\"formContext\"]);\n\n  return _react.default.createElement(SelectActivityWidget, _extends({\n    choices: formContext.connectedTargetActivities,\n    emptyErr: \"Not connected to any activities, please connect to an activity\"\n  }, rest));\n};\n\nexports.SelectTargetActivityWidget = SelectTargetActivityWidget;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/FormUtils/SelectActivity.jsx?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/FormUtils/SelectAttribute.jsx":
/*!************************************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/FormUtils/SelectAttribute.jsx ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _reactFlexview = _interopRequireDefault(__webpack_require__(/*! react-flexview */ \"../node_modules/react-flexview/lib/index.js\"));\n\nvar _reactBootstrap = __webpack_require__(/*! react-bootstrap */ \"../node_modules/react-bootstrap/es/index.js\");\n\nvar _store = __webpack_require__(/*! ../../store */ \"./imports/ui/GraphEditor/store/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar _default = (0, _store.connect)(function (_ref) {\n  var activity = _ref.activity,\n      _onChange = _ref.onChange,\n      valid = _ref.store.valid;\n  return _react.default.createElement(_reactBootstrap.FormGroup, {\n    controlId: \"selectGrouping\"\n  }, _react.default.createElement(_reactFlexview.default, null, _react.default.createElement(_reactFlexview.default, {\n    vAlignContent: \"center\",\n    marginRight: \"10px\"\n  }, _react.default.createElement(_reactBootstrap.ControlLabel, null, \"Group by attribute\")), _react.default.createElement(_reactFlexview.default, {\n    vAlignContent: \"center\"\n  }, valid.social[activity._id] ? _react.default.createElement(_reactBootstrap.FormControl, {\n    onChange: function onChange(e) {\n      return _onChange(e.target.value);\n    },\n    componentClass: \"select\",\n    value: activity.groupingKey\n  }, [''].concat(_toConsumableArray(valid.social[activity._id])).map(function (x) {\n    return _react.default.createElement(\"option\", {\n      value: x,\n      key: x\n    }, x === '' ? 'Choose an attribute' : x);\n  })) : _react.default.createElement(\"span\", {\n    style: {\n      color: 'red'\n    }\n  }, \"No attributes provided, add social operator\"), typeof activity.groupingKey === 'string' && activity.groupingKey.length > 0 && valid.social[activity._id] && !valid.social[activity._id].includes(activity.groupingKey) ? _react.default.createElement(\"p\", {\n    style: {\n      color: 'red'\n    }\n  }, \"You previously selected the \", _react.default.createElement(\"b\", null, activity.groupingKey), \" attribute, but no social operator is currently providing that attribute, please reconfigure the incoming social operators, or select another attribute\") : null)));\n});\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/FormUtils/SelectAttribute.jsx?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/FormUtils/SelectForm.jsx":
/*!*******************************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/FormUtils/SelectForm.jsx ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _reactFlexview = _interopRequireDefault(__webpack_require__(/*! react-flexview */ \"../node_modules/react-flexview/lib/index.js\"));\n\nvar _reactBootstrap = __webpack_require__(/*! react-bootstrap */ \"../node_modules/react-bootstrap/es/index.js\");\n\nvar _store = __webpack_require__(/*! ../../store */ \"./imports/ui/GraphEditor/store/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar _default = (0, _store.connect)(function (_ref) {\n  var formContext = _ref.formContext,\n      _onChange = _ref.onChange,\n      _ref$value = _ref.value,\n      value = _ref$value === void 0 ? '' : _ref$value;\n  var options = formContext.options.filter(function (x) {\n    return x !== formContext.groupingKey;\n  });\n  return _react.default.createElement(_reactBootstrap.FormGroup, {\n    controlId: \"selectGrouping\"\n  }, _react.default.createElement(_reactFlexview.default, null, _react.default.createElement(_reactFlexview.default, {\n    vAlignContent: \"center\"\n  }, options.length > 0 ? _react.default.createElement(_reactBootstrap.FormControl, {\n    onChange: function onChange(e) {\n      return _onChange(e.target.value);\n    },\n    componentClass: \"select\",\n    value: value\n  }, [''].concat(_toConsumableArray(options)).map(function (x) {\n    return _react.default.createElement(\"option\", {\n      value: x,\n      key: x\n    }, x === '' ? 'Choose an attribute' : x);\n  })) : _react.default.createElement(\"span\", {\n    style: {\n      color: 'red'\n    }\n  }, \"No attributes provided, add social operator\"), value.length > 0 && options.length > 0 && !options.includes(value) ? _react.default.createElement(\"p\", {\n    style: {\n      color: 'red'\n    }\n  }, \"You previously selected the \", _react.default.createElement(\"b\", null, value), \" attribute, but no social operator is currently providing that attribute, please reconfigure the incoming social operators, or select another attribute\") : null)));\n});\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/FormUtils/SelectForm.jsx?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/FormUtils/SelectLIType.js":
/*!********************************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/FormUtils/SelectLIType.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SelectLITypeEditorWidget = exports.SelectLITypeWidget = void 0;\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _reactBootstrap = __webpack_require__(/*! react-bootstrap */ \"../node_modules/react-bootstrap/es/index.js\");\n\nvar _activityTypes = __webpack_require__(/*! ../../../../activityTypes */ \"./imports/activityTypes.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar SelectLITypeWidget = function SelectLITypeWidget(_ref) {\n  var _onChange = _ref.onChange,\n      _ref$value = _ref.value,\n      value = _ref$value === void 0 ? '' : _ref$value,\n      editor = _ref.editor;\n  return _react.default.createElement(\"span\", null, _react.default.createElement(_reactBootstrap.FormControl, {\n    onChange: function onChange(e) {\n      return _onChange(e.target.value);\n    },\n    componentClass: \"select\",\n    value: value\n  }, _react.default.createElement(\"option\", {\n    value: \"\",\n    key: \"Choose\"\n  }, \"Choose a Learning Item Type\"), (0, _lodash.values)(_activityTypes.learningItemTypesObj).filter(function (x) {\n    return (x.Creator || x.Editor) && (!editor || x.dataStructure);\n  }).map(function (x) {\n    return _react.default.createElement(\"option\", {\n      value: x.id || '',\n      key: x.id || 'choose'\n    }, x === '' ? 'Choose a Learning Item Type' : x.name);\n  })));\n};\n\nexports.SelectLITypeWidget = SelectLITypeWidget;\n\nvar SelectLITypeEditorWidget = function SelectLITypeEditorWidget(props) {\n  return _react.default.createElement(SelectLITypeWidget, _extends({}, props, {\n    editor: true\n  }));\n};\n\nexports.SelectLITypeEditorWidget = SelectLITypeEditorWidget;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/FormUtils/SelectLIType.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/FormUtils/addSocialSchema.js":
/*!***********************************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/FormUtils/addSocialSchema.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _traverse = _interopRequireDefault(__webpack_require__(/*! traverse */ \"../node_modules/traverse/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar _default = function _default(schema, uiSchema) {\n  if (!schema || (0, _lodash.isEmpty)(schema) || (0, _lodash.isEmpty)(schema.properties)) {\n    return {\n      schema: {},\n      uiSchema: {}\n    };\n  }\n\n  var newSchema = (0, _lodash.cloneDeep)(schema);\n\n  var paths = _traverse.default.paths(newSchema).filter(function (x) {\n    return x.pop() === 'type';\n  });\n\n  var anyActivityPaths = paths.filter(function (x) {\n    return (0, _lodash.get)(schema, _toConsumableArray(x).concat(['type'])) === 'anyActivity';\n  });\n  var targetActivityPaths = paths.filter(function (x) {\n    return (0, _lodash.get)(schema, _toConsumableArray(x).concat(['type'])) === 'targetActivity';\n  });\n  var sourceActivityPaths = paths.filter(function (x) {\n    return (0, _lodash.get)(schema, _toConsumableArray(x).concat(['type'])) === 'sourceActivity';\n  });\n  var socialPaths = paths.filter(function (x) {\n    return (0, _lodash.get)(schema, _toConsumableArray(x).concat(['type'])) === 'socialAttribute';\n  });\n  var LITypePaths = paths.filter(function (x) {\n    return (0, _lodash.get)(schema, _toConsumableArray(x).concat(['type'])) === 'learningItemType';\n  });\n  var LITypeEditorPaths = paths.filter(function (x) {\n    return (0, _lodash.get)(schema, _toConsumableArray(x).concat(['type'])) === 'learningItemTypeEditor';\n  });\n  var rtePaths = paths.filter(function (x) {\n    return (0, _lodash.get)(schema, _toConsumableArray(x).concat(['type'])) === 'rte';\n  });\n\n  _toConsumableArray(anyActivityPaths).concat(_toConsumableArray(targetActivityPaths), _toConsumableArray(sourceActivityPaths), _toConsumableArray(socialPaths), _toConsumableArray(rtePaths), _toConsumableArray(LITypePaths), _toConsumableArray(LITypeEditorPaths)).forEach(function (x) {\n    return (0, _lodash.set)(newSchema, _toConsumableArray(x).concat(['type']), 'string');\n  });\n\n  delete newSchema.properties.component;\n  var socialMerges = socialPaths.map(function (x) {\n    return (0, _lodash.set)({}, x.filter(function (y) {\n      return y !== 'properties';\n    }), {\n      'ui:widget': 'socialAttributeWidget'\n    });\n  });\n  var LIMerges = LITypePaths.map(function (x) {\n    return (0, _lodash.set)({}, x.filter(function (y) {\n      return y !== 'properties';\n    }), {\n      'ui:widget': 'learningItemTypeWidget'\n    });\n  });\n  var LIEditorMerges = LITypeEditorPaths.map(function (x) {\n    return (0, _lodash.set)({}, x.filter(function (y) {\n      return y !== 'properties';\n    }), {\n      'ui:widget': 'learningItemTypeEditorWidget'\n    });\n  });\n  var anyActivityMerges = anyActivityPaths.map(function (x) {\n    return (0, _lodash.set)({}, x.filter(function (y) {\n      return y !== 'properties';\n    }), {\n      'ui:widget': 'anyActivityWidget'\n    });\n  });\n  var sourceActivityMerges = sourceActivityPaths.map(function (x) {\n    return (0, _lodash.set)({}, x.filter(function (y) {\n      return y !== 'properties';\n    }), {\n      'ui:widget': 'sourceActivityWidget'\n    });\n  });\n  var targetActivityMerges = targetActivityPaths.map(function (x) {\n    return (0, _lodash.set)({}, x.filter(function (y) {\n      return y !== 'properties';\n    }), {\n      'ui:widget': 'targetActivityWidget'\n    });\n  });\n  var rteMerges = rtePaths.map(function (x) {\n    return (0, _lodash.set)({}, x.filter(function (y) {\n      return y !== 'properties';\n    }), {\n      'ui:field': 'rteField',\n      rte: {\n        toolbarConfig: {\n          display: ['INLINE_STYLE_BUTTONS', 'LINK_BUTTONS', 'BLOCK_TYPE_BUTTONS', 'IMAGE_BUTTON'],\n          INLINE_STYLE_BUTTONS: [{\n            label: 'Bold',\n            style: 'BOLD',\n            className: 'custom-css-class'\n          }, {\n            label: 'Italic',\n            style: 'ITALIC'\n          }, {\n            label: 'Underline',\n            style: 'UNDERLINE'\n          }],\n          BLOCK_TYPE_BUTTONS: [{\n            label: 'UL',\n            style: 'unordered-list-item'\n          }, {\n            label: 'OL',\n            style: 'ordered-list-item'\n          }]\n        }\n      }\n    });\n  });\n\n  var newUiSchema = _lodash.merge.apply(void 0, [uiSchema].concat(_toConsumableArray(socialMerges), _toConsumableArray(anyActivityMerges), _toConsumableArray(sourceActivityMerges), _toConsumableArray(targetActivityMerges), _toConsumableArray(rteMerges), _toConsumableArray(LIMerges), _toConsumableArray(LIEditorMerges)));\n\n  return {\n    uiSchema: newUiSchema,\n    schema: newSchema\n  };\n};\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/FormUtils/addSocialSchema.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/FormUtils/index.js":
/*!*************************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/FormUtils/index.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"SelectAnyActivityWidget\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectActivity.SelectAnyActivityWidget;\n  }\n});\nObject.defineProperty(exports, \"SelectTargetActivityWidget\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectActivity.SelectTargetActivityWidget;\n  }\n});\nObject.defineProperty(exports, \"SelectSourceActivityWidget\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectActivity.SelectSourceActivityWidget;\n  }\n});\nObject.defineProperty(exports, \"SelectAttributeWidget\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectAttribute.default;\n  }\n});\nObject.defineProperty(exports, \"SelectFormWidget\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectForm.default;\n  }\n});\nObject.defineProperty(exports, \"addSocialFormSchema\", {\n  enumerable: true,\n  get: function get() {\n    return _addSocialSchema.default;\n  }\n});\nObject.defineProperty(exports, \"SelectLITypeWidget\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectLIType.SelectLITypeWidget;\n  }\n});\nObject.defineProperty(exports, \"SelectLITypeEditorWidget\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectLIType.SelectLITypeEditorWidget;\n  }\n});\n\nvar _SelectActivity = __webpack_require__(/*! ./SelectActivity */ \"./imports/ui/GraphEditor/SidePanel/FormUtils/SelectActivity.jsx\");\n\nvar _SelectAttribute = _interopRequireDefault(__webpack_require__(/*! ./SelectAttribute */ \"./imports/ui/GraphEditor/SidePanel/FormUtils/SelectAttribute.jsx\"));\n\nvar _SelectForm = _interopRequireDefault(__webpack_require__(/*! ./SelectForm */ \"./imports/ui/GraphEditor/SidePanel/FormUtils/SelectForm.jsx\"));\n\nvar _addSocialSchema = _interopRequireDefault(__webpack_require__(/*! ./addSocialSchema */ \"./imports/ui/GraphEditor/SidePanel/FormUtils/addSocialSchema.js\"));\n\nvar _SelectLIType = __webpack_require__(/*! ./SelectLIType */ \"./imports/ui/GraphEditor/SidePanel/FormUtils/SelectLIType.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/FormUtils/index.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/ListComponent.jsx":
/*!************************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/ListComponent.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _meteor = __webpack_require__(/*! meteor/meteor */ \"meteor/meteor\");\n\nvar _Grid = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Grid */ \"../node_modules/@material-ui/core/Grid/index.js\"));\n\nvar _IconButton = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/IconButton */ \"../node_modules/@material-ui/core/IconButton/index.js\"));\n\nvar _styles = __webpack_require__(/*! @material-ui/core/styles */ \"../node_modules/@material-ui/core/styles/index.js\");\n\nvar _ListItem = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/ListItem */ \"../node_modules/@material-ui/core/ListItem/index.js\"));\n\nvar _ListItemSecondaryAction = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/ListItemSecondaryAction */ \"../node_modules/@material-ui/core/ListItemSecondaryAction/index.js\"));\n\nvar _RemoveRedEye = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/RemoveRedEye */ \"../node_modules/@material-ui/icons/RemoveRedEye.js\"));\n\nvar _ExpandMore = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/ExpandMore */ \"../node_modules/@material-ui/icons/ExpandMore.js\"));\n\nvar _Delete = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/Delete */ \"../node_modules/@material-ui/icons/Delete.js\"));\n\nvar _Typography = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Typography */ \"../node_modules/@material-ui/core/Typography/index.js\"));\n\nvar _Chip = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Chip */ \"../node_modules/@material-ui/core/Chip/index.js\"));\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar styles = {\n  iconButtonRoot: {\n    height: '25px',\n    width: '25px'\n  },\n  iconRoot: {\n    width: '0.8em',\n    height: '0.8em'\n  },\n  iconRootDelete: {\n    width: '0.8em',\n    height: '0.8em',\n    color: '#FF6666'\n  },\n  secondaryText: {\n    color: 'rgba(0, 0, 0, 0.54)'\n  }\n};\n\nvar ListItems = function ListItems(_ref) {\n  var classes = _ref.classes,\n      object = _ref.object,\n      showExpanded = _ref.showExpanded,\n      onSelect = _ref.onSelect,\n      expand = _ref.expand,\n      hasPreview = _ref.hasPreview,\n      onPreview = _ref.onPreview,\n      isLibrary = _ref.isLibrary,\n      setDelete = _ref.setDelete,\n      setIdRemove = _ref.setIdRemove,\n      searchS = _ref.searchS;\n  return _react.default.createElement(_ListItem.default, {\n    button: true,\n    value: object.id,\n    onClick: onSelect\n  }, _react.default.createElement(_Grid.default, {\n    container: true\n  }, _react.default.createElement(_Grid.default, {\n    item: true,\n    xs: 12\n  }, _react.default.createElement(_Typography.default, {\n    className: \"listitem\",\n    variant: \"subheading\",\n    gutterBottom: true\n  }, _react.default.createElement(_frogUtils.Highlight, {\n    text: object.meta.name,\n    searchStr: searchS\n  }))), _react.default.createElement(_Grid.default, {\n    item: true,\n    xs: 12\n  }, _react.default.createElement(_Typography.default, {\n    gutterBottom: true,\n    className: classes.secondaryText\n  }, _react.default.createElement(_frogUtils.Highlight, {\n    text: (object.meta.activityTypeName ? object.meta.activityTypeName + ': ' : '') + object.meta.shortDesc,\n    searchStr: searchS\n  }))), isLibrary ? _react.default.createElement(\"div\", null, _react.default.createElement(_Grid.default, {\n    item: true,\n    xs: 12\n  }, _react.default.createElement(_Typography.default, {\n    gutterBottom: true,\n    className: classes.secondaryText\n  }, _react.default.createElement(_frogUtils.Highlight, {\n    text: 'Owner: ' + (object.meta.owner_id || 'undefined'),\n    searchStr: searchS\n  }))), object.tags.map(function (x) {\n    return _react.default.createElement(_Chip.default, {\n      key: x,\n      label: x\n    });\n  })) : showExpanded && _react.default.createElement(_Grid.default, {\n    item: true,\n    xs: 12\n  }, _react.default.createElement(_Typography.default, {\n    variant: \"caption\",\n    gutterBottom: true,\n    className: classes.secondaryText\n  }, _react.default.createElement(\"i\", null, _react.default.createElement(_frogUtils.Highlight, {\n    text: object.meta.description,\n    searchStr: searchS\n  }))))), _react.default.createElement(_ListItemSecondaryAction.default, null, _react.default.createElement(_Grid.default, {\n    container: true,\n    direction: \"column\",\n    justify: \"center\"\n  }, _react.default.createElement(_Grid.default, {\n    item: true,\n    xs: 6\n  }, hasPreview && _react.default.createElement(_IconButton.default, {\n    value: object.id,\n    \"aria-label\": \"Preview\",\n    onClick: onPreview,\n    classes: {\n      root: classes.iconButtonRoot\n    }\n  }, _react.default.createElement(_RemoveRedEye.default, {\n    classes: {\n      root: classes.iconRoot\n    }\n  }))), _react.default.createElement(_Grid.default, {\n    item: true,\n    xs: 6\n  }, isLibrary ? setDelete && _react.default.createElement(_IconButton.default, {\n    variant: \"fab\",\n    \"aria-label\": \"Delete\",\n    color: \"secondary\",\n    disabled: _meteor.Meteor.user().username !== object.owner_id,\n    onClick: function onClick() {\n      setIdRemove({\n        type: 'activity',\n        id: object.id\n      });\n      setDelete(true);\n    },\n    classes: {\n      root: classes.iconButtonRoot\n    }\n  }, _react.default.createElement(_Delete.default, null)) : !showExpanded && _react.default.createElement(_IconButton.default, {\n    value: object.id,\n    \"aria-label\": \"Preview\",\n    onClick: expand,\n    classes: {\n      root: classes.iconButtonRoot\n    }\n  }, _react.default.createElement(_ExpandMore.default, {\n    classes: {\n      root: classes.iconRoot\n    }\n  }))))));\n};\n\nvar _default = (0, _styles.withStyles)(styles)(ListItems);\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/ListComponent.jsx?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/OperatorPanel/ChooseOperator.jsx":
/*!***************************************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/OperatorPanel/ChooseOperator.jsx ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _Divider = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Divider */ \"../node_modules/@material-ui/core/Divider/index.js\"));\n\nvar _Grid = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Grid */ \"../node_modules/@material-ui/core/Grid/index.js\"));\n\nvar _Typography = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Typography */ \"../node_modules/@material-ui/core/Typography/index.js\"));\n\nvar _List = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/List */ \"../node_modules/@material-ui/core/List/index.js\"));\n\nvar _styles = __webpack_require__(/*! @material-ui/core/styles */ \"../node_modules/@material-ui/core/styles/index.js\");\n\nvar _Search = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/Search */ \"../node_modules/@material-ui/icons/Search.js\"));\n\nvar _operators = __webpack_require__(/*! ../../../../api/operators */ \"./imports/api/operators.js\");\n\nvar _operatorTypes = __webpack_require__(/*! ../../../../operatorTypes */ \"./imports/operatorTypes.js\");\n\nvar _ListComponent = _interopRequireDefault(__webpack_require__(/*! ../ListComponent */ \"./imports/ui/GraphEditor/SidePanel/ListComponent.jsx\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar styles = {\n  topPanel: {\n    padding: '10px'\n  },\n  operatorList: {\n    height: 'calc(100vh - 112px - 100px)',\n    overflowY: 'auto'\n  },\n  searchContainer: {\n    position: 'relative',\n    borderRadius: '5px',\n    background: 'rgba(0,0,0,.05)'\n  },\n  searchIcon: {\n    width: '50px',\n    height: '100%',\n    display: 'flex',\n    position: 'absolute',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  searchInput: {\n    border: '0',\n    width: '100%',\n    padding: '8px 8px 8px 50px',\n    background: 'none',\n    outline: 'none',\n    whiteSpace: 'normal',\n    verticalAlign: 'middle',\n    fontSize: '1rem'\n  },\n  resultContainer: {\n    height: '100%'\n  }\n};\n\nvar NoResult = function NoResult(_ref) {\n  var classes = _ref.classes;\n  return _react.default.createElement(_Grid.default, {\n    container: true,\n    justify: \"center\",\n    alignItems: \"center\",\n    className: classes.resultContainer\n  }, _react.default.createElement(_Grid.default, {\n    item: true\n  }, _react.default.createElement(_Typography.default, {\n    variant: \"body2\"\n  }, \"No results found\")));\n};\n\nvar StyledNoResult = (0, _styles.withStyles)(styles)(NoResult);\n\nvar ChooseOperatorTopPanel = function ChooseOperatorTopPanel(_ref2) {\n  var classes = _ref2.classes,\n      onSearch = _ref2.onSearch;\n  return _react.default.createElement(_Grid.default, {\n    container: true,\n    className: classes.topPanel,\n    alignItems: \"center\",\n    spacing: 8\n  }, _react.default.createElement(_Grid.default, {\n    item: true,\n    xs: 12\n  }, _react.default.createElement(_Typography.default, {\n    variant: \"title\"\n  }, \"Select Operator type\")), _react.default.createElement(_Grid.default, {\n    item: true,\n    xs: 12\n  }, _react.default.createElement(\"div\", {\n    className: classes.searchContainer\n  }, _react.default.createElement(\"div\", {\n    className: classes.searchIcon\n  }, _react.default.createElement(_Search.default, null)), _react.default.createElement(\"input\", {\n    type: \"text\",\n    onChange: onSearch,\n    className: classes.searchInput,\n    \"aria-describedby\": \"search-operator\"\n  }))), _react.default.createElement(_Grid.default, {\n    item: true,\n    xs: 12\n  }, _react.default.createElement(_Divider.default, null)));\n};\n\nvar StyledChooseOperatorTopPanel = (0, _styles.withStyles)(styles)(ChooseOperatorTopPanel);\n\nvar ChooseOperatorTypeComp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ChooseOperatorTypeComp, _Component);\n\n  function ChooseOperatorTypeComp(props) {\n    var _this;\n\n    _classCallCheck(this, ChooseOperatorTypeComp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChooseOperatorTypeComp).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSelect\", function (operatorType) {\n      return function () {\n        var graphOperator = _this.props.store.operatorStore.all.find(function (op) {\n          return op.id === _this.props.operator._id;\n        });\n\n        var newName = _operatorTypes.operatorTypesObj[operatorType.id].meta.shortName || _operatorTypes.operatorTypesObj[operatorType.id].meta.name;\n\n        _operators.Operators.update(_this.props.operator._id, {\n          $set: {\n            operatorType: operatorType.id\n          }\n        });\n\n        if (graphOperator) {\n          graphOperator.rename(newName);\n        }\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSearch\", function (e) {\n      _this.setState({\n        expanded: null,\n        searchStr: e.target.value.toLowerCase()\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleExpand\", function (x) {\n      return function () {\n        _this.setState({\n          expanded: x.id\n        });\n      };\n    });\n\n    _this.state = {\n      expanded: null,\n      searchStr: ''\n    };\n    return _this;\n  }\n\n  _createClass(ChooseOperatorTypeComp, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var filteredList = _operatorTypes.operatorTypes.filter(function (x) {\n        return x.type === _this2.props.operator.type;\n      }).filter(function (x) {\n        return x.meta.name.toLowerCase().includes(_this2.state.searchStr) || x.meta.shortDesc.toLowerCase().includes(_this2.state.searchStr) || x.meta.description.toLowerCase().includes(_this2.state.searchStr);\n      }).sort(function (x, y) {\n        return x.meta.name < y.meta.name ? -1 : 1;\n      });\n\n      var classes = this.props.classes;\n      return _react.default.createElement(_Grid.default, {\n        container: true\n      }, _react.default.createElement(_Grid.default, {\n        item: true,\n        xs: 12\n      }, _react.default.createElement(StyledChooseOperatorTopPanel, {\n        onSearch: this.handleSearch\n      })), _react.default.createElement(_Grid.default, {\n        item: true,\n        xs: 12,\n        className: classes.operatorList\n      }, filteredList.length === 0 ? _react.default.createElement(StyledNoResult, null) : _react.default.createElement(_List.default, null, filteredList.map(function (x) {\n        return _react.default.createElement(_ListComponent.default, {\n          onSelect: _this2.handleSelect(x),\n          showExpanded: _this2.state.expanded === x.id,\n          expand: _this2.handleExpand(x),\n          key: x.id,\n          onPreview: function onPreview() {},\n          object: x,\n          searchS: _this2.state.searchStr,\n          eventKey: x.id\n        });\n      }))));\n    }\n  }]);\n\n  return ChooseOperatorTypeComp;\n}(_react.Component);\n\nvar _default = (0, _styles.withStyles)(styles)(ChooseOperatorTypeComp);\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/OperatorPanel/ChooseOperator.jsx?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/OperatorPanel/EditOperator.jsx":
/*!*************************************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/OperatorPanel/EditOperator.jsx ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _reactFlexview = _interopRequireDefault(__webpack_require__(/*! react-flexview */ \"../node_modules/react-flexview/lib/index.js\"));\n\nvar _colors = __webpack_require__(/*! @material-ui/core/colors */ \"../node_modules/@material-ui/core/colors/index.js\");\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _operators = __webpack_require__(/*! ../../../../api/operators */ \"./imports/api/operators.js\");\n\nvar _operatorTypes = __webpack_require__(/*! ../../../../operatorTypes */ \"./imports/operatorTypes.js\");\n\nvar _Validator = __webpack_require__(/*! ../../Validator */ \"./imports/ui/GraphEditor/Validator.js\");\n\nvar _index = __webpack_require__(/*! ../index */ \"./imports/ui/GraphEditor/SidePanel/index.js\");\n\nvar _ConfigForm = _interopRequireDefault(__webpack_require__(/*! ../ConfigForm */ \"./imports/ui/GraphEditor/SidePanel/ConfigForm.jsx\"));\n\nvar _DeleteButton = _interopRequireDefault(__webpack_require__(/*! ../DeleteButton */ \"./imports/ui/GraphEditor/SidePanel/DeleteButton.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TopPanel = function TopPanel(_ref) {\n  var refreshValidate = _ref.refreshValidate,\n      operator = _ref.operator,\n      graphOperator = _ref.graphOperator,\n      errorColor = _ref.errorColor,\n      operatorType = _ref.operatorType,\n      ui = _ref.ui,\n      canPreview = _ref.canPreview;\n  return _react.default.createElement(\"div\", {\n    style: {\n      backgroundColor: '#eee'\n    }\n  }, _react.default.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      left: -40\n    }\n  }, _react.default.createElement(_Validator.ErrorList, {\n    activityId: operator._id\n  })), _react.default.createElement(_reactFlexview.default, null, _react.default.createElement(\"div\", null, _react.default.createElement(\"h3\", null, _react.default.createElement(_frogUtils.ChangeableText, {\n    value: graphOperator.title || '',\n    operatorId: operator._id,\n    onChange: graphOperator.rename\n  }))), _react.default.createElement(_reactFlexview.default, {\n    marginLeft: \"auto\",\n    style: {\n      flexDirection: 'column',\n      position: 'absolute',\n      right: '2px'\n    }\n  }, _react.default.createElement(_Validator.ValidButton, {\n    activityId: operator._id,\n    errorColor: errorColor\n  }), operatorType.meta.preview && canPreview && _react.default.createElement(_index.IconButton, {\n    icon: \"glyphicon glyphicon-eye-open\",\n    tooltip: \"Preview\",\n    onClick: function onClick() {\n      ui.setShowPreview({\n        operatorTypeId: operatorType.id,\n        config: operator.data\n      });\n    }\n  }), _react.default.createElement(_DeleteButton.default, {\n    tooltip: \"Reset operator\",\n    msg: \"Do you really want to remove the operator type, and loose all the configuration data?\",\n    onConfirmation: function onConfirmation() {\n      (0, _operators.removeOperatorType)(operator._id);\n      refreshValidate();\n    }\n  }))), _react.default.createElement(\"font\", {\n    size: -3\n  }, _react.default.createElement(\"i\", null, \"Type: \".concat(operatorType.meta.name, \"\\n                 (\").concat(operator.operatorType, \")\"))), _react.default.createElement(\"hr\", null));\n};\n\nvar _default = function _default(_ref2) {\n  var _ref2$store = _ref2.store,\n      ui = _ref2$store.ui,\n      graphErrors = _ref2$store.graphErrors,\n      refreshValidate = _ref2$store.refreshValidate,\n      valid = _ref2$store.valid,\n      all = _ref2$store.operatorStore.all,\n      connections = _ref2$store.connectionStore.all,\n      activities = _ref2$store.activityStore.all,\n      operator = _ref2.operator;\n  var graphOperator = all.find(function (act) {\n    return act.id === operator._id;\n  });\n  var operatorType = _operatorTypes.operatorTypesObj[operator.operatorType];\n  if (!graphOperator || !operatorType) return;\n  var errorColor;\n  var errors = graphErrors.filter(function (x) {\n    return x.id === operator._id;\n  });\n  var error = errors.filter(function (x) {\n    return x.severity === 'error';\n  });\n  var warning = errors.filter(function (x) {\n    return x.severity === 'warning';\n  });\n\n  if (error.length > 0) {\n    errorColor = _colors.red[500];\n  } else if (warning.length > 0) {\n    errorColor = _colors.yellow[500];\n  } else {\n    errorColor = _colors.lightGreen[500];\n  }\n\n  var outgoingConnections = connections.filter(function (conn) {\n    return conn.source.id === operator._id;\n  });\n  var incomingConnections = connections.filter(function (conn) {\n    return conn.target.id === operator._id;\n  });\n  var connectedTargetActivities = (0, _lodash.compact)(outgoingConnections.map(function (x) {\n    return activities.find(function (act) {\n      return act.id === x.target.id;\n    });\n  }));\n  var connectedSourceActivities = (0, _lodash.compact)(incomingConnections.map(function (x) {\n    return activities.find(function (act) {\n      return act.id === x.source.id;\n    });\n  }));\n  return _react.default.createElement(\"div\", {\n    style: {\n      height: '100%',\n      overflowY: 'scroll',\n      position: 'relative'\n    }\n  }, _react.default.createElement(TopPanel, {\n    refreshValidate: refreshValidate,\n    operator: operator,\n    graphOperator: graphOperator,\n    errorColor: errorColor,\n    canPreview: error.length === 0,\n    operatorType: operatorType,\n    ui: ui\n  }), _react.default.createElement(_ConfigForm.default, {\n    key: operator._id,\n    node: operator,\n    nodeType: operatorType,\n    valid: valid,\n    connectedActivities: activities,\n    connectedSourceActivities: connectedSourceActivities,\n    connectedTargetActivities: connectedTargetActivities,\n    refreshValidate: refreshValidate,\n    reload: (connectedSourceActivities || []).map(function (x) {\n      return x.id;\n    }).join('') + (connectedTargetActivities || []).map(function (x) {\n      return x.id;\n    }).join('')\n  }));\n};\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/OperatorPanel/EditOperator.jsx?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/OperatorPanel/index.js":
/*!*****************************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/OperatorPanel/index.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _reactMeteorData = __webpack_require__(/*! meteor/react-meteor-data */ \"meteor/react-meteor-data\");\n\nvar _operators = __webpack_require__(/*! ../../../../api/operators */ \"./imports/api/operators.js\");\n\nvar _store = __webpack_require__(/*! ../../store */ \"./imports/ui/GraphEditor/store/index.js\");\n\nvar _EditOperator = _interopRequireDefault(__webpack_require__(/*! ./EditOperator */ \"./imports/ui/GraphEditor/SidePanel/OperatorPanel/EditOperator.jsx\"));\n\nvar _ChooseOperator = _interopRequireDefault(__webpack_require__(/*! ./ChooseOperator */ \"./imports/ui/GraphEditor/SidePanel/OperatorPanel/ChooseOperator.jsx\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar EditOperator = (0, _store.connect)(_EditOperator.default);\nvar ChooseOperatorType = (0, _store.connect)(_ChooseOperator.default);\n\nvar _default = (0, _reactMeteorData.withTracker)(function (_ref) {\n  var id = _ref.id;\n  return {\n    operator: _operators.Operators.findOne(id)\n  };\n})(function (_ref2) {\n  var operator = _ref2.operator;\n\n  if (!operator) {\n    return null;\n  }\n\n  if (operator.operatorType) {\n    return React.createElement(EditOperator, {\n      operator: operator\n    });\n  } else {\n    return React.createElement(ChooseOperatorType, {\n      operator: operator\n    });\n  }\n});\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/OperatorPanel/index.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/fileUploader.jsx":
/*!***********************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/fileUploader.jsx ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _reactCopyToClipboard = _interopRequireDefault(__webpack_require__(/*! react-copy-to-clipboard */ \"../node_modules/react-copy-to-clipboard/lib/index.js\"));\n\nvar _reactBootstrap = __webpack_require__(/*! react-bootstrap */ \"../node_modules/react-bootstrap/es/index.js\");\n\nvar _reactDropzone = _interopRequireDefault(__webpack_require__(/*! react-dropzone */ \"../node_modules/react-dropzone/dist/es/index.js\"));\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _openUploads = __webpack_require__(/*! ../../../api/openUploads */ \"./imports/api/openUploads.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar Header = function Header(_ref) {\n  var display = _ref.display,\n      setState = _ref.setState;\n  return _react.default.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row'\n    }\n  }, _react.default.createElement(\"span\", {\n    className: 'glyphicon glyphicon-' + (display ? 'menu-up' : 'menu-down'),\n    \"aria-hidden\": \"true\",\n    style: {\n      fontSize: '200%',\n      marginLeft: '10px',\n      marginTop: '5px'\n    },\n    onClick: function onClick() {\n      return setState({\n        display: !display\n      });\n    }\n  }), _react.default.createElement(\"h4\", {\n    style: {\n      textDecoration: 'underline',\n      margin: '10px'\n    }\n  }, \"Upload File:\"));\n};\n\nvar FileBox = function FileBox(_ref2) {\n  var urls = _ref2.urls,\n      setState = _ref2.setState;\n\n  var onDropRecursive = function onDropRecursive(files, i, newUrls) {\n    if (i >= files.length) {\n      setState({\n        urls: _toConsumableArray(urls).concat(_toConsumableArray(newUrls))\n      });\n    } else {\n      var fileId = (0, _frogUtils.uuid)();\n      (0, _openUploads.uploadFile)(files[i], fileId).then(function (newUrl) {\n        onDropRecursive(files, i + 1, _toConsumableArray(newUrls).concat([newUrl]));\n      });\n    }\n  };\n\n  var onDrop = function onDrop(files) {\n    return onDropRecursive(files, 0, []);\n  };\n\n  return _react.default.createElement(_reactDropzone.default, {\n    onDrop: onDrop,\n    style: {\n      width: '100%',\n      height: '100px',\n      borderWidth: '2px',\n      borderColor: 'rgb(102, 102, 102)',\n      borderStyle: 'dashed',\n      borderRadius: '5px',\n      textAlign: 'center'\n    }\n  }, _react.default.createElement(\"h3\", {\n    style: {\n      position: 'relative',\n      top: '50%',\n      transform: 'translateY(-50%)',\n      margin: '0 auto'\n    }\n  }, \"Drop files here\"));\n};\n\nvar FileList = function FileList(_ref3) {\n  var urls = _ref3.urls;\n  return urls && urls.length > 0 ? _react.default.createElement(\"div\", null, _react.default.createElement(\"h4\", null, \"URL of submitted files\"), urls.map(function (url) {\n    return _react.default.createElement(\"div\", {\n      key: url,\n      style: {\n        display: 'flex',\n        flexDirection: 'row'\n      }\n    }, _react.default.createElement(_reactCopyToClipboard.default, {\n      text: url,\n      style: {\n        height: '39px'\n      }\n    }, _react.default.createElement(\"button\", null, \"Copy\")), _react.default.createElement(\"pre\", {\n      style: {\n        width: '100%'\n      }\n    }, url));\n  })) : _react.default.createElement(\"h4\", null, \"No uploaded file\");\n};\n\nvar fileUploader =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(fileUploader, _Component);\n\n  function fileUploader(props) {\n    var _this;\n\n    _classCallCheck(this, fileUploader);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(fileUploader).call(this, props));\n    _this.state = {\n      urls: [],\n      display: false\n    };\n    return _this;\n  }\n\n  _createClass(fileUploader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mounted = true;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _react.default.createElement(\"div\", null, _react.default.createElement(\"div\", {\n        style: {\n          width: '100%',\n          height: '2px',\n          background: 'black'\n        }\n      }), _react.default.createElement(Header, {\n        display: this.state.display,\n        setState: function setState(state) {\n          return _this2.mounted && _this2.setState(state);\n        }\n      }), _react.default.createElement(_reactBootstrap.Collapse, {\n        in: this.state.display\n      }, _react.default.createElement(\"div\", null, _react.default.createElement(FileBox, {\n        urls: this.state.urls,\n        setState: function setState(state) {\n          return _this2.mounted && _this2.setState(state);\n        }\n      }), _react.default.createElement(FileList, {\n        urls: this.state.urls\n      }))));\n    }\n  }]);\n\n  return fileUploader;\n}(_react.Component);\n\nvar _default = fileUploader;\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/fileUploader.jsx?");

/***/ }),

/***/ "./imports/ui/GraphEditor/SidePanel/index.js":
/*!***************************************************!*\
  !*** ./imports/ui/GraphEditor/SidePanel/index.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.IconButton = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _styles = __webpack_require__(/*! @material-ui/core/styles */ \"../node_modules/@material-ui/core/styles/index.js\");\n\nvar _Grid = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Grid */ \"../node_modules/@material-ui/core/Grid/index.js\"));\n\nvar _Typography = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Typography */ \"../node_modules/@material-ui/core/Typography/index.js\"));\n\nvar _reactBootstrap = __webpack_require__(/*! react-bootstrap */ \"../node_modules/react-bootstrap/es/index.js\");\n\nvar _store = __webpack_require__(/*! ../store */ \"./imports/ui/GraphEditor/store/index.js\");\n\nvar _ActivityPanel = _interopRequireDefault(__webpack_require__(/*! ./ActivityPanel */ \"./imports/ui/GraphEditor/SidePanel/ActivityPanel/index.js\"));\n\nvar _OperatorPanel = _interopRequireDefault(__webpack_require__(/*! ./OperatorPanel */ \"./imports/ui/GraphEditor/SidePanel/OperatorPanel/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar styles = {\n  root: {\n    height: 'calc(100vh - 64px - 48px)',\n    backgroundColor: '#ffffff',\n    boxShadow: '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\n    width: '500px'\n  },\n  helperContainer: {\n    height: '100%'\n  }\n};\n\nvar SideBarHelperText = function SideBarHelperText(_ref) {\n  var classes = _ref.classes;\n  return React.createElement(_Grid.default, {\n    container: true,\n    justify: \"center\",\n    alignItems: \"center\",\n    className: classes.helperContainer\n  }, React.createElement(\"div\", null, React.createElement(_Typography.default, {\n    variant: \"title\",\n    align: \"center\",\n    gutterBottom: true\n  }, \"Select an activity or an operator to configure it.\"), React.createElement(_Typography.default, {\n    variant: \"subheading\",\n    align: \"center\"\n  }, \"Press the \", React.createElement(\"kbd\", null, \"w\"), \" key to toggle the sidebar.\")));\n};\n\nvar IconButton = function IconButton(_ref2) {\n  var icon = _ref2.icon,\n      onClick = _ref2.onClick,\n      tooltip = _ref2.tooltip;\n  return React.createElement(\"div\", {\n    className: \"bootstrap\"\n  }, React.createElement(_reactBootstrap.Button, {\n    style: {\n      width: '35px',\n      height: '25px'\n    },\n    \"data-tip\": tooltip,\n    onClick: onClick\n  }, React.createElement(\"span\", {\n    className: icon,\n    style: {\n      verticalAlign: 'top'\n    }\n  })));\n};\n\nexports.IconButton = IconButton;\nvar StyledSideBarHelperText = (0, _styles.withStyles)(styles)(SideBarHelperText);\nvar SidebarContainer = (0, _store.connect)(function (_ref3) {\n  var children = _ref3.children,\n      classes = _ref3.classes;\n  return React.createElement(_Grid.default, {\n    item: true,\n    className: classes.root\n  }, children);\n});\nvar StyledSideBarContainer = (0, _styles.withStyles)(styles)(SidebarContainer);\n\nvar _default = (0, _store.connect)(function (_ref4) {\n  var _ref4$store$ui = _ref4.store.ui,\n      selected = _ref4$store$ui.selected,\n      sidepanelOpen = _ref4$store$ui.sidepanelOpen,\n      rest = _objectWithoutProperties(_ref4, [\"store\"]);\n\n  if (!sidepanelOpen) {\n    return null;\n  }\n\n  if (selected && selected.klass === 'activity') {\n    return React.createElement(StyledSideBarContainer, null, React.createElement(_ActivityPanel.default, _extends({}, rest, {\n      id: selected.id\n    })));\n  } else if (selected && selected.klass === 'operator') {\n    return React.createElement(StyledSideBarContainer, null, React.createElement(_OperatorPanel.default, {\n      id: selected.id\n    }));\n  } else {\n    return React.createElement(StyledSideBarContainer, null, React.createElement(StyledSideBarHelperText, null));\n  }\n});\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/SidePanel/index.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/Validator.js":
/*!*********************************************!*\
  !*** ./imports/ui/GraphEditor/Validator.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ValidButton = exports.ValidButtonRaw = exports.ShowErrorsRaw = exports.ErrorList = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _colors = __webpack_require__(/*! @material-ui/core/colors */ \"../node_modules/@material-ui/core/colors/index.js\");\n\nvar _store = __webpack_require__(/*! ./store */ \"./imports/ui/GraphEditor/store/index.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ListError = function ListError(_ref) {\n  var errors = _ref.errors,\n      maxLength = _ref.maxLength;\n  var lines = 0;\n  return React.createElement(\"g\", null, errors.map(function (x) {\n    var textlines = (0, _frogUtils.wordWrap)(x.err, maxLength);\n    var k = lines;\n    lines += textlines.length;\n    return [React.createElement(\"text\", {\n      x: \"90\",\n      y: 40 + 20 * k,\n      key: k + 'dot',\n      fill: x.severity === 'error' ? 'red' : 'orange'\n    }, \"\\u2022\"), React.createElement(\"g\", {\n      key: k + 'g'\n    }, textlines.map(function (line, y) {\n      return React.createElement(\"text\", {\n        x: \"100\",\n        y: 40 + 20 * (k + y),\n        key: k + line,\n        fill: x.severity === 'error' ? 'red' : 'orange'\n      }, line);\n    }))];\n  }));\n};\n\nvar ErrorList = (0, _store.connect)(function (_ref2) {\n  var _ref2$store = _ref2.store,\n      graphErrors = _ref2$store.graphErrors,\n      showErrors = _ref2$store.ui.showErrors,\n      activities = _ref2$store.activityStore.all,\n      operators = _ref2$store.operatorStore.all,\n      activityId = _ref2.activityId;\n\n  // component not open\n  if (showErrors !== true && showErrors !== activityId) {\n    return null;\n  } // being called from the wrong place\n\n\n  if (activityId && showErrors === true) {\n    return null;\n  }\n\n  var errors;\n\n  if (showErrors === true) {\n    errors = graphErrors.map(function (x) {\n      var nodeName = x.nodeType === 'activity' ? activities.find(function (y) {\n        return y.id === x.id;\n      }).title : operators.find(function (y) {\n        return y.id === x.id;\n      }).title;\n      return _objectSpread({}, x, {\n        err: \"\".concat(x.nodeType, \" \").concat(nodeName || 'unnamed', \": \").concat(x.err)\n      });\n    });\n  } else {\n    errors = graphErrors.filter(function (x) {\n      return x.id === activityId;\n    });\n  }\n\n  return React.createElement(ShowErrorsRaw, {\n    errors: errors,\n    global: showErrors === true\n  });\n});\nexports.ErrorList = ErrorList;\nErrorList.displayName = 'ErrorList';\n\nvar ShowErrorsRaw = function ShowErrorsRaw(_ref3) {\n  var errors = _ref3.errors,\n      global = _ref3.global;\n\n  if (errors.length === 0) {\n    return null;\n  }\n\n  var maxLength = global ? 130 : 60;\n  var textLength = errors.map(function (x) {\n    return (0, _frogUtils.wordWrap)(x.err, maxLength);\n  }).reduce(function (acc, x) {\n    return acc + x.length;\n  }, 0);\n  return React.createElement(\"svg\", {\n    style: {\n      overflow: 'visible'\n    }\n  }, React.createElement(\"g\", null, React.createElement(\"rect\", {\n    x: \"80\",\n    y: \"20\",\n    rx: \"20\",\n    ry: 5 + 5 * textLength,\n    width: 6.5 * maxLength,\n    height: 5 + 22 * textLength,\n    fill: \"#FFFFFF\",\n    stroke: \"#CA1A1A\"\n  }), React.createElement(ListError, {\n    errors: errors,\n    maxLength: maxLength\n  })));\n};\n\nexports.ShowErrorsRaw = ShowErrorsRaw;\n\nvar ValidButtonRaw = function ValidButtonRaw(_ref4) {\n  var graphErrorColor = _ref4.graphErrorColor,\n      setShowErrors = _ref4.setShowErrors,\n      errorColor = _ref4.errorColor,\n      activityId = _ref4.activityId,\n      noOffset = _ref4.noOffset;\n  return React.createElement(\"svg\", {\n    width: \"34px\",\n    height: \"34px\",\n    style: noOffset ? {} : {\n      overflow: 'visible',\n      position: 'fixed',\n      top: 60,\n      left: 250\n    }\n  }, React.createElement(\"circle\", {\n    cx: \"17\",\n    cy: \"17\",\n    r: \"12\",\n    stroke: \"transparent\",\n    fill: errorColor || graphErrorColor,\n    onMouseOver: function onMouseOver() {\n      return setShowErrors(activityId || true);\n    },\n    onMouseOut: function onMouseOut() {\n      return setShowErrors(false);\n    }\n  }));\n};\n\nexports.ValidButtonRaw = ValidButtonRaw;\nvar ValidButton = (0, _store.connect)(function (_ref5) {\n  var _ref5$store$ui = _ref5.store.ui,\n      graphErrorColor = _ref5$store$ui.graphErrorColor,\n      setShowErrors = _ref5$store$ui.setShowErrors,\n      errorColor = _ref5.errorColor,\n      activityId = _ref5.activityId;\n  return React.createElement(\"svg\", {\n    width: \"34px\",\n    height: \"34px\",\n    style: {\n      overflow: 'visible'\n    }\n  }, React.createElement(\"circle\", {\n    cx: \"17\",\n    cy: \"17\",\n    r: \"15\",\n    stroke: _colors.blue[500],\n    strokeWidth: \"3\",\n    fill: errorColor || graphErrorColor,\n    onMouseOver: function onMouseOver() {\n      return setShowErrors(activityId || true);\n    },\n    onMouseOut: function onMouseOut() {\n      return setShowErrors(false);\n    }\n  }), React.createElement(\"circle\", {\n    cx: \"17\",\n    cy: \"17\",\n    r: \"14\",\n    stroke: \"white\",\n    fill: \"none\",\n    strokeWidth: \"2\"\n  })) // <ValidButtonRaw\n  //   graphErrorColor={graphErrorColor}\n  //   setShowErrors={setShowErrors}\n  //   errorColor={errorColor}\n  //   activityId={activityId}\n  // />\n  ;\n});\nexports.ValidButton = ValidButton;\nValidButton.displayName = 'ValidButton';\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/Validator.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/store/activity.js":
/*!**************************************************!*\
  !*** ./imports/ui/GraphEditor/store/activity.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mobx = __webpack_require__(/*! mobx */ \"../node_modules/mobx/lib/mobx.module.js\");\n\nvar _cuid = _interopRequireDefault(__webpack_require__(/*! cuid */ \"../node_modules/cuid/index.js\"));\n\nvar _index = __webpack_require__(/*! ./index */ \"./imports/ui/GraphEditor/store/index.js\");\n\nvar _elemClass = _interopRequireDefault(__webpack_require__(/*! ./elemClass */ \"./imports/ui/GraphEditor/store/elemClass.js\"));\n\nvar _utils = __webpack_require__(/*! ../utils */ \"./imports/ui/GraphEditor/utils/index.js\");\n\nvar _activityStore = __webpack_require__(/*! ./activityStore */ \"./imports/ui/GraphEditor/store/activityStore.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar Activity =\n/*#__PURE__*/\nfunction (_Elem) {\n  _inherits(Activity, _Elem);\n\n  function Activity(plane, startTime, title, length, data, activityType, id, state) {\n    var _this;\n\n    _classCallCheck(this, Activity);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Activity).call(this));\n    (0, _mobx.extendObservable)(_assertThisInitialized(_assertThisInitialized(_this)), {\n      id: id || (0, _cuid.default)(),\n      over: false,\n      // is mouse over this activity\n      plane: plane,\n      rawTitle: title || '',\n      length: length,\n      startTime: startTime,\n      klass: 'activity',\n      state: state,\n      data: data || {},\n      activityType: activityType,\n      wasMoved: false,\n      update: (0, _mobx.action)(function (newact) {\n        _this.length = newact.length;\n        _this.startTime = newact.startTime;\n        _this.rawTitle = newact.title;\n        _this.state = newact.state;\n        _this.data = newact.data;\n        _this.plane = newact.plane;\n        _this.activityType = newact.activityType;\n      }),\n      rename: (0, _mobx.action)(function (newname) {\n        _this.rawTitle = newname;\n\n        _index.store.addHistory();\n      }),\n      move: (0, _mobx.action)(function (shiftkey) {\n        if (_index.store.state.mode === 'readOnly') {\n          return;\n        }\n\n        if (_index.store.state.mode !== 'moving') {\n          _index.store.state = {\n            mode: 'moving',\n            currentActivity: _assertThisInitialized(_assertThisInitialized(_this)),\n            initialStartTime: _this.startTime,\n            mouseOffset: _index.store.ui.socialCoordsTime[0] - _this.startTime\n          };\n          _this.wasMoved = true;\n        }\n\n        var activitiesToPush = shiftkey ? _index.store.activityStore.all.filter(function (x) {\n          return x.startTime >= _this.startTime && x.id !== _this.id;\n        }) : [];\n        var operatorsToPush = shiftkey ? _index.store.operatorStore.all.filter(function (x) {\n          return x.time >= _this.startTime;\n        }) : [];\n        var oldTime = _this.startTime;\n        var newTime = Math.round(_index.store.ui.socialCoordsTime[0] - _index.store.state.mouseOffset);\n\n        if (_index.store.overlapAllowed) {\n          _this.startTime = (0, _utils.between)(0, _index.store.graphDuration - _this.length, newTime);\n          var diff = newTime - oldTime;\n\n          if (diff !== 0) {\n            activitiesToPush.forEach(function (x) {\n              return x.push(diff);\n            });\n            operatorsToPush.forEach(function (x) {\n              return x.push(diff);\n            });\n          }\n        } else {\n          _this.startTime = (0, _utils.between)(_this.bounds.leftBoundTime, _this.bounds.rightBoundTime - _this.length, newTime);\n\n          if (_index.store.state.mode !== 'moving') {\n            return;\n          }\n\n          var overdrag = _index.store.ui.socialCoordsTime[0] - _index.store.state.mouseOffset - _this.startTime;\n\n          if (overdrag < -2 && _this.bounds.leftBoundActivity) {\n            _index.store.activityStore.swapActivities(_this.bounds.leftBoundActivity, _assertThisInitialized(_assertThisInitialized(_this)));\n\n            _index.store.state = {\n              mode: 'waitingDrag'\n            };\n          }\n\n          if (overdrag > 2 && _this.bounds.rightBoundActivity) {\n            _index.store.activityStore.swapActivities(_assertThisInitialized(_assertThisInitialized(_this)), _this.bounds.rightBoundActivity);\n\n            _index.store.state = {\n              mode: 'waitingDrag'\n            };\n          }\n        }\n      }),\n      push: (0, _mobx.action)(function (diff) {\n        _this.startTime = (0, _utils.between)(0, _index.store.graphDuration - _this.length, _this.startTime + diff);\n      }),\n      setStart: (0, _mobx.action)(function (x) {\n        _this.startTime = x;\n      }),\n      setLength: (0, _mobx.action)(function (x) {\n        _this.length = x;\n      }),\n      resize: (0, _mobx.action)(function (shiftkey) {\n        if (_index.store.state.mode === 'resizing') {\n          var bounds = _index.store.state.bounds;\n          var activitiesToPush = shiftkey ? _index.store.activityStore.all.filter(function (x) {\n            return x.startTime > _this.startTime && x.id !== _this.id;\n          }) : [];\n          var operatorsToPush = shiftkey ? _index.store.operatorStore.all.filter(function (x) {\n            return x.time >= _this.startTime;\n          }) : [];\n          var newTime = Math.round(_index.store.ui.socialCoordsTime[0]);\n          var max = _index.store.overlapAllowed ? _index.store.graphDuration : bounds.rightBoundTime;\n          var oldLength = _this.length;\n          _this.length = (0, _utils.between)(1, max - _this.startTime, newTime - _this.startTime);\n          var diff = _this.length - oldLength;\n\n          if (diff !== 0) {\n            activitiesToPush.forEach(function (x) {\n              return x.push(diff);\n            });\n            operatorsToPush.forEach(function (x) {\n              return x.push(diff);\n            });\n          }\n        }\n\n        _index.store.activityStore.emptySizes();\n      }),\n      onLeave: (0, _mobx.action)(function () {\n        _this.over = false;\n      }),\n      onOver: (0, _mobx.action)(function () {\n        var _state = _index.store.state;\n\n        if (_state.mode !== 'waitingDrag') {\n          _this.over = true;\n        }\n      }),\n      setRename: (0, _mobx.action)(function () {\n        _index.store.state = {\n          mode: 'rename',\n          currentActivity: _assertThisInitialized(_assertThisInitialized(_this)),\n          val: _this.title\n        };\n      }),\n\n      get title() {\n        if (_index.store.ui.isSvg) {\n          return \"\".concat(_index.store.activityStore.activitySequence[this.id], \": \").concat(this.rawTitle);\n        } else {\n          return this.rawTitle;\n        }\n      },\n\n      get xScaled() {\n        return (0, _utils.timeToPx)(this.startTime, _index.store.ui.scale);\n      },\n\n      get x() {\n        return (0, _utils.timeToPx)(this.startTime, 4);\n      },\n\n      get screenX() {\n        return (0, _utils.timeToPxScreen)(this.startTime);\n      },\n\n      get widthScaled() {\n        return (0, _utils.timeToPx)(this.length, _index.store.ui.scale);\n      },\n\n      get width() {\n        return (0, _utils.timeToPx)(this.length, 4);\n      },\n\n      get y() {\n        var offset = _index.store.activityStore.activityOffsets[this.id];\n        return (5 - this.plane) * 100 + 50 - offset * 30;\n      },\n\n      get endTime() {\n        return this.startTime + this.length;\n      },\n\n      get object() {\n        return {\n          _id: this.id,\n          title: this.title,\n          startTime: this.startTime,\n          length: this.length,\n          plane: this.plane\n        };\n      },\n\n      get dragPointFromScaled() {\n        // + 15 on Y because the activity box is 30px high\n        // - 10 on X to be on top of the activity connection dot\n        return {\n          X: this.xScaled + this.widthScaled - 10,\n          Y: this.y + 15,\n          dX: 50,\n          dY: 0\n        };\n      },\n\n      get dragPointToScaled() {\n        return {\n          X: this.xScaled + 15,\n          Y: this.y + 15,\n          dX: -50,\n          dY: 0\n        };\n      },\n\n      get dragPointFrom() {\n        return {\n          X: this.x + this.width - 15,\n          Y: this.y + 15,\n          dX: 50,\n          dY: 0\n        };\n      },\n\n      get dragPointTo() {\n        return {\n          X: this.x + 15,\n          Y: this.y + 15,\n          dX: -50,\n          dY: 0\n        };\n      },\n\n      get bounds() {\n        return (0, _activityStore.calculateBounds)(this, _index.store.activityStore.all);\n      }\n\n    });\n    return _this;\n  }\n\n  return Activity;\n}(_elemClass.default);\n\nexports.default = Activity;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/store/activity.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/store/activityStore.js":
/*!*******************************************************!*\
  !*** ./imports/ui/GraphEditor/store/activityStore.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.calculateBounds = void 0;\n\nvar _mobx = __webpack_require__(/*! mobx */ \"../node_modules/mobx/lib/mobx.module.js\");\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _activity = _interopRequireDefault(__webpack_require__(/*! ./activity */ \"./imports/ui/GraphEditor/store/activity.js\"));\n\nvar _activities = __webpack_require__(/*! ../../../api/activities */ \"./imports/api/activities.js\");\n\nvar _index = __webpack_require__(/*! ./index */ \"./imports/ui/GraphEditor/store/index.js\");\n\nvar _getOffsets = _interopRequireDefault(__webpack_require__(/*! ../utils/getOffsets */ \"./imports/ui/GraphEditor/utils/getOffsets.js\"));\n\nvar _utils = __webpack_require__(/*! ../utils */ \"./imports/ui/GraphEditor/utils/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// find activities immediately to the left and to the right of the current activity\n// to draw boundary markers and control movement by dragging and resizing\nvar calculateBounds = function calculateBounds(act, activities) {\n  var activity = _objectSpread({}, act, {\n    endTime: act.startTime + act.length\n  });\n\n  var endBefore = activities.filter(function (ac) {\n    return ac.endTime <= activity.startTime;\n  });\n  var startAfter = activities.filter(function (ac) {\n    return ac.startTime >= activity.endTime;\n  });\n  var leftBoundActivity = endBefore.length ? endBefore.reduce(function (pre, cur) {\n    return pre.endTime < cur.endTime ? cur : pre;\n  }) : undefined;\n  var rightBoundActivity = startAfter.length ? startAfter.reduce(function (pre, cur) {\n    return pre.startTime > cur.startTime ? cur : pre;\n  }) : undefined;\n  var leftBoundTime = leftBoundActivity ? leftBoundActivity.endTime : 0;\n  var rightBoundTime = rightBoundActivity ? rightBoundActivity.startTime : _index.store.graphDuration;\n  return {\n    leftBoundActivity: leftBoundActivity,\n    leftBoundTime: leftBoundTime,\n    rightBoundActivity: rightBoundActivity,\n    rightBoundTime: rightBoundTime\n  };\n};\n\nexports.calculateBounds = calculateBounds;\n\nvar ActivityStore = function ActivityStore() {\n  var _this = this;\n\n  _classCallCheck(this, ActivityStore);\n\n  (0, _mobx.extendObservable)(this, {\n    all: [],\n    sizes: {},\n    positions: {},\n    organizeNextState: 'compress',\n    activitySequence: undefined,\n    setActivitySequence: (0, _mobx.action)(function (act) {\n      _this.activitySequence = act;\n    }),\n    duplicateActivity: (0, _mobx.action)(function () {\n      if (_index.store.ui.selected instanceof _activity.default) {\n        var _x = (0, _activities.duplicateActivity)(_index.store.ui.selected.id);\n\n        _this.mongoAdd(_x);\n      }\n    }),\n    setOrganizeNextState: (0, _mobx.action)(function (toSet) {\n      _this.organizeNextState = toSet;\n    }),\n    emptySizes: (0, _mobx.action)(function () {\n      _this.sizes = {};\n    }),\n    organize: (0, _mobx.action)(function () {\n      if (_this.organizeNextState === 'restore') {\n        Object.keys(_this.positions).forEach(function (key) {\n          var act = _this.all.find(function (x) {\n            return x.id === key;\n          });\n\n          if (act) {\n            act.setStart(_this.positions[key]);\n          }\n        });\n        _this.organizeNextState = 'compress';\n      } else {\n        var expand = 0;\n        var last = [-1, {}];\n\n        if (_this.organizeNextState === 'compress') {\n          _this.organizeNextState = 'expand';\n        } else {\n          _this.organizeNextState = 'restore';\n          expand = 5;\n        }\n\n        var index = 0;\n\n        _this.all.sort(function (x, y) {\n          return x.startTime - y.startTime;\n        }).forEach(function (act) {\n          if (_this.organizeNextState === 'expand') {\n            _this.positions[act.id] = act.startTime;\n          }\n\n          if (act.startTime === last[0] && last[1]) {\n            act.setStart(last[1].startTime);\n\n            if (last[1].length < act.length) {\n              index += act.length - last[1].length;\n            }\n          } else {\n            last[0] = act.startTime;\n            last[1] = act;\n            act.setStart(index);\n            index += act.length + expand;\n          }\n        });\n      }\n    }),\n    resize: (0, _mobx.action)(function () {\n      if ((0, _lodash.isEmpty)(_this.sizes)) {\n        _this.all.forEach(function (act) {\n          _this.sizes[act.id] = act.length;\n          act.setLength(5);\n        });\n      } else {\n        Object.keys(_this.sizes).forEach(function (key) {\n          var act = _this.all.find(function (x) {\n            return x.id === key;\n          });\n\n          if (act) {\n            act.setLength(_this.sizes[key]);\n          }\n        });\n        _this.sizes = {};\n      }\n    }),\n    addActivity: (0, _mobx.action)(function (plane, rawX, shiftKey) {\n      if (_index.store.state.mode === 'readOnly') {\n        return;\n      }\n\n      var _store$ui$rawMouseToT = _index.store.ui.rawMouseToTime(rawX, 0),\n          _store$ui$rawMouseToT2 = _slicedToArray(_store$ui$rawMouseToT, 2),\n          rawTime = _store$ui$rawMouseToT2[0],\n          _ = _store$ui$rawMouseToT2[1];\n\n      var time = Math.round(rawTime);\n      var length;\n\n      if (!_index.store.overlapAllowed) {\n        var _calculateBounds = calculateBounds({\n          startTime: time,\n          length: 0,\n          id: '0'\n        }, _this.all),\n            rightBoundTime = _calculateBounds.rightBoundTime;\n\n        var maxLength = rightBoundTime - time;\n        length = Math.min(maxLength, 10);\n      } else {\n        length = 10;\n      }\n\n      if (length >= 1) {\n        var newActivity = new _activity.default(plane, time, 'Unnamed', length);\n\n        if (shiftKey) {\n          _this.all.filter(function (x) {\n            return x.startTime >= newActivity.startTime;\n          }).forEach(function (x) {\n            return x.push(newActivity.length);\n          });\n        }\n\n        _this.all.push(newActivity);\n\n        _index.store.addHistory();\n\n        return newActivity.id;\n      }\n    }),\n    newActivityAbove: (0, _mobx.action)(function (plane) {\n      if (_index.store.ui.selected instanceof _activity.default) {\n        var toCopy = _index.store.ui.selected;\n\n        _index.store.activityStore.all.push(new _activity.default(plane || toCopy.plane, toCopy.startTime, 'Unnamed', toCopy.length));\n\n        _index.store.addHistory();\n      }\n    }),\n    swapActivities: (0, _mobx.action)(function (left, right) {\n      right.startTime = left.startTime;\n      left.startTime = right.startTime + right.length;\n\n      _index.store.addHistory();\n    }),\n    moveDelete: (0, _mobx.action)(function (activity) {\n      _this.all.filter(function (x) {\n        return x.startTime >= activity.startTime + activity.length;\n      }).forEach(function (act) {\n        return act.push(-activity.length);\n      });\n    }),\n    startResizing: (0, _mobx.action)(function (activity) {\n      if (_index.store.state.mode === 'rename') {\n        _index.store.state.currentActivity.rename(_index.store.state.val);\n      }\n\n      var bounds = calculateBounds(activity, _this.all);\n      _index.store.state = {\n        mode: 'resizing',\n        currentActivity: activity,\n        bounds: bounds\n      };\n    }),\n    movePlane: (0, _mobx.action)(function (increment) {\n      var selected = _index.store.ui.selected;\n\n      if (selected && selected instanceof _activity.default) {\n        var oldplane = selected.plane;\n        selected.plane = (0, _utils.between)(1, 4, oldplane + increment);\n\n        if (oldplane !== selected.plane) {\n          _index.store.addHistory();\n        }\n      }\n    }),\n    stopMoving: (0, _mobx.action)(function () {\n      if (_index.store.state.mode === 'moving' && _index.store.state.currentActivity.wasMoved) {\n        if (_index.store.state.currentActivity.startTime !== _index.store.state.initialStartTime) {\n          _index.store.state = {\n            mode: 'normal'\n          };\n\n          _index.store.ui.cancelScroll();\n\n          _index.store.addHistory();\n        } else {\n          _index.store.state.currentActivity.select();\n\n          _index.store.ui.cancelScroll();\n\n          _index.store.state = {\n            mode: 'normal'\n          };\n        }\n      }\n    }),\n    stopResizing: (0, _mobx.action)(function () {\n      _index.store.state = {\n        mode: 'normal'\n      };\n\n      _index.store.ui.cancelScroll();\n\n      _index.store.addHistory();\n    }),\n    mongoAdd: (0, _mobx.action)(function (x) {\n      if (!_index.store.findId({\n        type: 'activity',\n        id: x._id\n      })) {\n        _this.all.push(new _activity.default(x.plane, x.startTime, x.title, x.length, x.data, x.activityType, x._id, x.state));\n\n        _index.store.refreshValidate();\n      }\n    }),\n    mongoChange: (0, _mobx.action)(function (newact, oldact) {\n      var toUpdate = _index.store.findId({\n        type: 'activity',\n        id: oldact._id\n      });\n\n      if (!toUpdate) {\n        throw 'Could not find activity to update in Mongo';\n      }\n\n      toUpdate.update(newact);\n\n      _index.store.refreshValidate();\n    }),\n    mongoRemove: (0, _mobx.action)(function (remact) {\n      _this.all = _this.all.filter(function (x) {\n        return x.id !== remact._id;\n      });\n\n      _index.store.refreshValidate();\n    }),\n\n    get history() {\n      return this.all.map(function (x) {\n        return {\n          title: x.title,\n          plane: x.plane,\n          startTime: x.startTime,\n          length: x.length,\n          id: x.id,\n          data: x.data,\n          activityType: x.activityType\n        };\n      });\n    },\n\n    get furthestActivity() {\n      var max = (0, _lodash.maxBy)(this.all, function (x) {\n        return x.startTime + x.length;\n      });\n      return max && Math.ceil(max.startTime + max.length);\n    },\n\n    get activityOffsets() {\n      var _this2 = this;\n\n      return [1, 2, 3, 4].reduce(function (acc, plane) {\n        return _objectSpread({}, acc, (0, _getOffsets.default)(plane, _this2.all));\n      }, {});\n    }\n\n  });\n};\n\nexports.default = ActivityStore;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/store/activityStore.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/store/connection.js":
/*!****************************************************!*\
  !*** ./imports/ui/GraphEditor/store/connection.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _cuid = _interopRequireDefault(__webpack_require__(/*! cuid */ \"../node_modules/cuid/index.js\"));\n\nvar _mobx = __webpack_require__(/*! mobx */ \"../node_modules/mobx/lib/mobx.module.js\");\n\nvar _path = __webpack_require__(/*! ../utils/path */ \"./imports/ui/GraphEditor/utils/path.js\");\n\nvar _elemClass = _interopRequireDefault(__webpack_require__(/*! ./elemClass */ \"./imports/ui/GraphEditor/store/elemClass.js\"));\n\nvar _activity = _interopRequireDefault(__webpack_require__(/*! ./activity */ \"./imports/ui/GraphEditor/store/activity.js\"));\n\nvar _operator = _interopRequireDefault(__webpack_require__(/*! ./operator */ \"./imports/ui/GraphEditor/store/operator.js\"));\n\nvar _index = __webpack_require__(/*! ./index */ \"./imports/ui/GraphEditor/store/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar getType = function getType(item) {\n  if (item instanceof _activity.default) {\n    return 'activity';\n  } else if (item instanceof _operator.default) {\n    return 'operator';\n  } else if (item instanceof Connection) {\n    return 'connection';\n  }\n\n  throw 'Wrong object type in Connection';\n};\n\nvar Connection =\n/*#__PURE__*/\nfunction (_Elem) {\n  _inherits(Connection, _Elem);\n\n  function Connection(sourceObj, targetObj, id) {\n    var _this;\n\n    _classCallCheck(this, Connection);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Connection).call(this));\n    (0, _mobx.extendObservable)(_assertThisInitialized(_assertThisInitialized(_this)), {\n      sourceObj: sourceObj,\n      targetObj: targetObj,\n      id: id || (0, _cuid.default)(),\n      klass: 'connection',\n\n      get source() {\n        var _this2 = this;\n\n        if (this.sourceObj.type === 'activity') {\n          return _index.store.activityStore.all.find(function (x) {\n            return x.id === _this2.sourceObj.id;\n          });\n        }\n\n        if (this.sourceObj.type === 'operator') {\n          return _index.store.operatorStore.all.find(function (x) {\n            return x.id === _this2.sourceObj.id;\n          });\n        }\n\n        return undefined;\n      },\n\n      get target() {\n        var _this3 = this;\n\n        if (this.targetObj.type === 'activity') {\n          return _index.store.activityStore.all.find(function (x) {\n            return x.id === _this3.targetObj.id;\n          });\n        }\n\n        if (this.targetObj.type === 'operator') {\n          return _index.store.operatorStore.all.find(function (x) {\n            return x.id === _this3.targetObj.id;\n          });\n        }\n\n        return undefined;\n      },\n\n      get path() {\n        var _this$source, _this$target;\n\n        return this.source && this.target && (0, _path.drawPath)({\n          dragging: false,\n          source: (_this$source = this.source) === null || _this$source === void 0 ? void 0 : _this$source.dragPointFrom,\n          target: (_this$target = this.target) === null || _this$target === void 0 ? void 0 : _this$target.dragPointTo\n        });\n      },\n\n      get pathScaled() {\n        return this.source && this.target && (0, _path.drawPath)({\n          dragging: false,\n          source: this.source.dragPointFromScaled,\n          target: this.target.dragPointToScaled\n        });\n      },\n\n      get object() {\n        var _this$source2, _this$target2;\n\n        if (((_this$source2 = this.source) === null || _this$source2 === void 0 ? void 0 : _this$source2.id) && ((_this$target2 = this.target) === null || _this$target2 === void 0 ? void 0 : _this$target2.id)) {\n          return {\n            source: {\n              type: getType(this.source),\n              id: this.source.id\n            },\n            target: {\n              type: getType(this.target),\n              id: this.target.id\n            },\n            _id: this.id\n          };\n        } else {\n          return undefined;\n        }\n      }\n\n    });\n    return _this;\n  }\n\n  return Connection;\n}(_elemClass.default);\n\nexports.default = Connection;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/store/connection.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/store/connectionStore.js":
/*!*********************************************************!*\
  !*** ./imports/ui/GraphEditor/store/connectionStore.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mobx = __webpack_require__(/*! mobx */ \"../node_modules/mobx/lib/mobx.module.js\");\n\nvar _index = __webpack_require__(/*! ./index */ \"./imports/ui/GraphEditor/store/index.js\");\n\nvar _activity = _interopRequireDefault(__webpack_require__(/*! ./activity */ \"./imports/ui/GraphEditor/store/activity.js\"));\n\nvar _operator = _interopRequireDefault(__webpack_require__(/*! ./operator */ \"./imports/ui/GraphEditor/store/operator.js\"));\n\nvar _connection = _interopRequireDefault(__webpack_require__(/*! ./connection */ \"./imports/ui/GraphEditor/store/connection.js\"));\n\nvar _path = __webpack_require__(/*! ../utils/path */ \"./imports/ui/GraphEditor/utils/path.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ConnectionStore = function ConnectionStore() {\n  var _this = this;\n\n  _classCallCheck(this, ConnectionStore);\n\n  (0, _mobx.extendObservable)(this, {\n    all: [],\n    startDragging: (0, _mobx.action)(function (elem) {\n      _index.store.state = {\n        mode: 'dragging',\n        draggingFrom: elem\n      };\n    }),\n    cleanDangling: (0, _mobx.action)(function () {\n      var elems = _index.store.activityStore.all.concat(_index.store.operatorStore.all);\n\n      _this.all = _this.all.filter(function (x) {\n        return elems.includes(x.source) && elems.includes(x.target);\n      });\n    }),\n    stopDragging: (0, _mobx.action)(function () {\n      var state = _index.store.state;\n\n      if (state.mode !== 'dragging') {\n        return;\n      }\n\n      var target = _index.store.activityStore.all.concat(_index.store.operatorStore.all).find(function (x) {\n        return x.over;\n      });\n\n      if (target && state.draggingFrom.id !== target.id) {\n        _this.all.push(new _connection.default({\n          type: state.draggingFrom.klass,\n          id: state.draggingFrom.id\n        }, {\n          type: target.klass,\n          id: target.id\n        }));\n\n        target.wasMoved = true;\n\n        _index.store.addHistory();\n      }\n\n      _index.store.state = {\n        mode: 'normal'\n      };\n\n      _index.store.ui.cancelScroll();\n    }),\n    mongoAdd: (0, _mobx.action)(function (x) {\n      if (!_index.store.findId({\n        type: 'connection',\n        id: x._id\n      })) {\n        _this.all.push(new _connection.default(x.source, x.target, x._id));\n\n        _index.store.refreshValidate();\n      }\n    }),\n    mongoRemove: (0, _mobx.action)(function (remact) {\n      _this.all = _this.all.filter(function (x) {\n        return x.id !== remact._id;\n      });\n\n      _index.store.refreshValidate();\n    }),\n\n    // user begins dragging a line to make a connection\n    get dragPath() {\n      if (_index.store.state.mode !== 'dragging') {\n        return null;\n      }\n\n      return (0, _path.drawPath)({\n        dragging: true,\n        source: _index.store.state.draggingFrom.dragPointFromScaled,\n        target: {\n          X: _index.store.ui.socialCoordsScaled[0],\n          Y: _index.store.ui.socialCoordsScaled[1],\n          dX: 0,\n          dY: 0\n        }\n      });\n    },\n\n    get history() {\n      return this.all.map(function (x) {\n        return {\n          id: x.id,\n          source: {\n            type: x.source.klass,\n            id: x.source.id\n          },\n          target: {\n            type: x.target.klass,\n            id: x.target.id\n          }\n        };\n      });\n    }\n\n  });\n};\n\nexports.default = ConnectionStore;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/store/connectionStore.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/store/elemClass.js":
/*!***************************************************!*\
  !*** ./imports/ui/GraphEditor/store/elemClass.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mobx = __webpack_require__(/*! mobx */ \"../node_modules/mobx/lib/mobx.module.js\");\n\nvar _index = __webpack_require__(/*! ./index */ \"./imports/ui/GraphEditor/store/index.js\");\n\nvar _activity = _interopRequireDefault(__webpack_require__(/*! ./activity */ \"./imports/ui/GraphEditor/store/activity.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Elem = function Elem() {\n  var _this = this;\n\n  _classCallCheck(this, Elem);\n\n  (0, _mobx.extendObservable)(this, {\n    select: (0, _mobx.action)(function () {\n      _index.store.ui.setLibraryOpen(false);\n\n      if (_index.store.state.mode === 'readOnly') {\n        if (_this.klass !== 'connection') {\n          _index.store.ui.setShowInfo(_this.klass, _this.id);\n        }\n      } else if (_this.wasMoved) {\n        _this.wasMoved = false;\n      } else {\n        _index.store.ui.selected = _this;\n      }\n    }),\n    remove: (0, _mobx.action)(function (shift) {\n      var activityStore = _index.store.activityStore,\n          operatorStore = _index.store.operatorStore,\n          connectionStore = _index.store.connectionStore;\n\n      var filter = function filter(x) {\n        return x !== _this;\n      };\n\n      if (_this.klass === 'activity') {\n        activityStore.all = activityStore.all.filter(filter);\n      } else if (_this.klass === 'operator') {\n        operatorStore.all = operatorStore.all.filter(filter);\n      } else {\n        connectionStore.all = connectionStore.all.filter(filter);\n      }\n\n      if (shift && _this instanceof _activity.default) {\n        activityStore.moveDelete(_this);\n      }\n\n      _index.store.connectionStore.cleanDangling();\n\n      _index.store.addHistory();\n    }),\n\n    get selected() {\n      return _index.store.ui.selected === this;\n    },\n\n    get color() {\n      if (_index.store.ui.isSvg) {\n        return 'white';\n      }\n\n      if (this.highlighted) {\n        return 'yellow';\n      }\n\n      switch (this.state) {\n        case 'computing':\n          return '#ffff00';\n\n        case 'computed':\n          return '#72FF70';\n\n        case 'error':\n          return '#ff0000';\n\n        default:\n          return 'white';\n      }\n    },\n\n    get highlighted() {\n      return this.over && _index.store.state.draggingFrom !== this && _index.store.state.mode === 'dragging';\n    },\n\n    get strokeColor() {\n      var _this2 = this;\n\n      var errors = _index.store.graphErrors.filter(function (x) {\n        return x.id === _this2.id;\n      });\n\n      if (errors.length === 0) {\n        return 'grey';\n      }\n\n      if (errors.find(function (x) {\n        return x.type === 'missingType';\n      })) {\n        return '#e6e8fc';\n      }\n\n      return '#C72616';\n    }\n\n  });\n};\n\nexports.default = Elem;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/store/elemClass.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/store/index.js":
/*!***********************************************!*\
  !*** ./imports/ui/GraphEditor/store/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connect = connect;\nexports.default = exports.store = void 0;\n\nvar _meteor = __webpack_require__(/*! meteor/meteor */ \"meteor/meteor\");\n\nvar _mobx = __webpack_require__(/*! mobx */ \"../node_modules/mobx/lib/mobx.module.js\");\n\nvar _mobxReact = __webpack_require__(/*! mobx-react */ \"../node_modules/mobx-react/index.module.js\");\n\nvar _store = _interopRequireDefault(__webpack_require__(/*! ./store */ \"./imports/ui/GraphEditor/store/store.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _mobx.configure)({\n  enforceActions: true\n});\nvar store = new _store.default();\nexports.store = store;\nvar _default = _store.default;\nexports.default = _default;\n\nif (_meteor.Meteor.isClient) {\n  window.store = store;\n}\n\nfunction connect(component) {\n  return (0, _mobxReact.inject)('store')((0, _mobxReact.observer)(component));\n}\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/store/index.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/store/operator.js":
/*!**************************************************!*\
  !*** ./imports/ui/GraphEditor/store/operator.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _cuid = _interopRequireDefault(__webpack_require__(/*! cuid */ \"../node_modules/cuid/index.js\"));\n\nvar _mobx = __webpack_require__(/*! mobx */ \"../node_modules/mobx/lib/mobx.module.js\");\n\nvar _index = __webpack_require__(/*! ./index */ \"./imports/ui/GraphEditor/store/index.js\");\n\nvar _elemClass = _interopRequireDefault(__webpack_require__(/*! ./elemClass */ \"./imports/ui/GraphEditor/store/elemClass.js\"));\n\nvar _utils = __webpack_require__(/*! ../utils */ \"./imports/ui/GraphEditor/utils/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar Operator =\n/*#__PURE__*/\nfunction (_Elem) {\n  _inherits(Operator, _Elem);\n\n  function Operator(time, y, type, data, operatorType, id, title, state) {\n    var _this;\n\n    _classCallCheck(this, Operator);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Operator).call(this));\n    (0, _mobx.extendObservable)(_assertThisInitialized(_assertThisInitialized(_this)), {\n      time: time,\n      y: y,\n      id: id || (0, _cuid.default)(),\n      type: type,\n      klass: 'operator',\n      title: title,\n      state: state,\n      data: data || {},\n      operatorType: operatorType,\n      over: false,\n      rename: (0, _mobx.action)(function (newname) {\n        _this.title = newname;\n\n        _index.store.addHistory();\n      }),\n      onOver: (0, _mobx.action)(function () {\n        _this.over = true;\n      }),\n      onLeave: (0, _mobx.action)(function () {\n        _this.over = false;\n      }),\n      startDragging: (0, _mobx.action)(function (e) {\n        if (!e.shiftKey) {\n          _index.store.connectionStore.startDragging(_assertThisInitialized(_assertThisInitialized(_this)));\n        } else {\n          _index.store.state = {\n            mode: 'movingOperator',\n            currentOperator: _assertThisInitialized(_assertThisInitialized(_this))\n          };\n        }\n      }),\n      onDrag: (0, _mobx.action)(function (e, _ref) {\n        var deltaX = _ref.deltaX,\n            deltaY = _ref.deltaY;\n\n        if (_index.store.state.mode === 'movingOperator') {\n          _this.time += (0, _utils.pxToTime)(deltaX, _index.store.ui.scale);\n          _this.y += deltaY;\n          _this.wasMoved = true;\n        }\n      }),\n      moveX: (0, _mobx.action)(function (deltaX) {\n        _this.time += (0, _utils.pxToTime)(deltaX, _index.store.ui.scale);\n        _this.wasMoved = true;\n      }),\n      push: (0, _mobx.action)(function (diff) {\n        _this.time += diff;\n      }),\n      stopDragging: (0, _mobx.action)(function () {\n        if (_index.store.state.mode === 'movingOperator') {\n          _index.store.state = {\n            mode: 'normal'\n          };\n\n          _index.store.addHistory();\n        } else {\n          _index.store.connectionStore.stopDragging();\n        }\n\n        _index.store.ui.cancelScroll();\n      }),\n      update: (0, _mobx.action)(function (newopt) {\n        _this.time = newopt.time;\n        _this.y = newopt.y;\n        _this.title = newopt.title;\n        _this.data = newopt.data;\n        _this.operatorType = newopt.operatorType;\n      }),\n\n      get x() {\n        return (0, _utils.timeToPx)(this.time, 4);\n      },\n\n      get xScaled() {\n        return (0, _utils.timeToPx)(this.time, _index.store.ui.scale);\n      },\n\n      get coordsScaled() {\n        return [this.xScaled, this.y];\n      },\n\n      get coords() {\n        return [this.x, this.y];\n      },\n\n      get object() {\n        return {\n          _id: this.id,\n          time: this.time,\n          y: this.y,\n          type: this.type,\n          title: this.title\n        };\n      },\n\n      get dragPointTo() {\n        return {\n          X: this.x,\n          Y: this.y,\n          dX: -150,\n          dY: 0\n        };\n      },\n\n      get dragPointToScaled() {\n        return {\n          X: this.xScaled,\n          Y: this.y,\n          dX: -150,\n          dY: 0\n        };\n      },\n\n      get dragPointFrom() {\n        return {\n          X: this.x,\n          Y: this.y,\n          dX: 150,\n          dY: 0\n        };\n      },\n\n      get dragPointFromScaled() {\n        return {\n          X: this.xScaled,\n          Y: this.y,\n          dX: 150,\n          dY: 0\n        };\n      }\n\n    });\n    return _this;\n  }\n\n  return Operator;\n}(_elemClass.default);\n\nexports.default = Operator;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/store/operator.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/store/operatorStore.js":
/*!*******************************************************!*\
  !*** ./imports/ui/GraphEditor/store/operatorStore.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mobx = __webpack_require__(/*! mobx */ \"../node_modules/mobx/lib/mobx.module.js\");\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _index = __webpack_require__(/*! ./index */ \"./imports/ui/GraphEditor/store/index.js\");\n\nvar _operator = _interopRequireDefault(__webpack_require__(/*! ./operator */ \"./imports/ui/GraphEditor/store/operator.js\"));\n\nvar _connection = _interopRequireDefault(__webpack_require__(/*! ./connection */ \"./imports/ui/GraphEditor/store/connection.js\"));\n\nvar _activity = _interopRequireDefault(__webpack_require__(/*! ./activity */ \"./imports/ui/GraphEditor/store/activity.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar OperatorStore = function OperatorStore() {\n  var _this = this;\n\n  _classCallCheck(this, OperatorStore);\n\n  (0, _mobx.extendObservable)(this, {\n    all: [],\n    mongoAdd: (0, _mobx.action)(function (x) {\n      if (!_index.store.findId({\n        type: 'operator',\n        id: x._id\n      })) {\n        _this.all.push(new _operator.default(x.time, x.y, x.type, x.data, x.operatorType, x._id, x.title, x.state));\n\n        _index.store.refreshValidate();\n      }\n    }),\n    mongoChange: (0, _mobx.action)(function (newx, oldx) {\n      _index.store.findId({\n        type: 'operator',\n        id: oldx._id\n      }).update(newx);\n\n      _index.store.refreshValidate();\n    }),\n    mongoRemove: (0, _mobx.action)(function (remx) {\n      _this.all = _this.all.filter(function (x) {\n        return x.id !== remx._id;\n      });\n\n      _index.store.refreshValidate();\n    }),\n    place: (0, _mobx.action)(function (type) {\n      var selected = _index.store.ui.selected;\n\n      if (selected && selected instanceof _connection.default) {\n        var source = selected.source;\n        var target = selected.target;\n        var y = (source.dragPointFrom.Y + target.dragPointTo.Y) / 2;\n        var sourceTime = source instanceof _activity.default ? source.startTime + source.length : source.time;\n        var targetTime = target instanceof _activity.default ? target.startTime : target.time;\n        var time = (sourceTime + targetTime) / 2;\n        var newOp = new _operator.default(time, y, type);\n\n        _this.all.push(newOp);\n\n        selected.remove(false);\n\n        _index.store.connectionStore.all.push(new _connection.default({\n          type: source.klass,\n          id: source.id\n        }, {\n          type: 'operator',\n          id: newOp.id\n        }));\n\n        _index.store.connectionStore.all.push(new _connection.default({\n          type: 'operator',\n          id: newOp.id\n        }, {\n          type: target.klass,\n          id: target.id\n        }));\n      } else if (_index.store.state.mode === 'normal') {\n        _index.store.state = {\n          mode: 'placingOperator',\n          operatorType: type\n        };\n      }\n    }),\n    addOperator: (0, _mobx.action)(function () {\n      if (_index.store.state.mode === 'placingOperator') {\n        _this.all.push(_construct(_operator.default, _toConsumableArray(_index.store.ui.socialCoordsTime).concat([_index.store.state.operatorType])));\n\n        _index.store.state = {\n          mode: 'normal'\n        };\n\n        _index.store.addHistory();\n      }\n    }),\n\n    get history() {\n      return this.all.map(function (x) {\n        return {\n          time: x.time,\n          y: x.y,\n          type: x.type,\n          id: x.id,\n          title: x.id,\n          data: x.data,\n          operatorType: x.operatorType\n        };\n      });\n    },\n\n    get furthestOperator() {\n      var op = (0, _lodash.maxBy)(this.all, function (x) {\n        return x.time;\n      });\n      return op && op.time + 1;\n    }\n\n  });\n};\n\nexports.default = OperatorStore;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/store/operatorStore.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/store/session.js":
/*!*************************************************!*\
  !*** ./imports/ui/GraphEditor/store/session.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mobx = __webpack_require__(/*! mobx */ \"../node_modules/mobx/lib/mobx.module.js\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Session = function Session(session) {\n  var _this = this;\n\n  _classCallCheck(this, Session);\n\n  _defineProperty(this, \"close\", function () {\n    clearInterval(_this.interval);\n  });\n\n  (0, _mobx.extendObservable)(this, {\n    id: '',\n    timeInClass: 0,\n    timeInGraph: 0,\n    startedAt: 0,\n    interval: null,\n    setTimes: (0, _mobx.action)(function (_session) {\n      _this.updateTimeInGraph(_session.timeInGraph);\n\n      _this.startedAt = _session.startedAt;\n\n      _this.updateTimeInClass((Date.now() - _this.startedAt) / 6e4);\n    }),\n    updateTimeInGraph: (0, _mobx.action)(function (newTime) {\n      _this.timeInGraph = newTime;\n    }),\n    updateTimeInClass: (0, _mobx.action)(function (newTime) {\n      if (newTime && newTime > -1) {\n        _this.timeInClass = newTime;\n      } else if (_this.startedAt > -1) {\n        _this.timeInClass = (Date.now() - _this.startedAt) / 6e4;\n      } else {\n        _this.timeInClass = 0;\n      }\n    })\n  });\n\n  if (session) {\n    this.id = session._id;\n    this.setTimes(session);\n    this.interval = setInterval(this.updateTimeInClass, 6000);\n  }\n};\n\nexports.default = Session;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/store/session.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/store/store.js":
/*!***********************************************!*\
  !*** ./imports/ui/GraphEditor/store/store.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _mobx = __webpack_require__(/*! mobx */ \"../node_modules/mobx/lib/mobx.module.js\");\n\nvar _jsonStableStringify = _interopRequireDefault(__webpack_require__(/*! json-stable-stringify */ \"../node_modules/json-stable-stringify/index.js\"));\n\nvar _validGraphFn = _interopRequireDefault(__webpack_require__(/*! ../../../api/validGraphFn */ \"./imports/api/validGraphFn.js\"));\n\nvar _graphs = __webpack_require__(/*! ../../../api/graphs */ \"./imports/api/graphs.js\");\n\nvar _activities = __webpack_require__(/*! ../../../api/activities */ \"./imports/api/activities.js\");\n\nvar _operators = __webpack_require__(/*! ../../../api/operators */ \"./imports/api/operators.js\");\n\nvar _cache = __webpack_require__(/*! ../../../api/cache */ \"./imports/api/cache.js\");\n\nvar _remoteGraphs = __webpack_require__(/*! ../../../api/remoteGraphs */ \"./imports/api/remoteGraphs.js\");\n\nvar _settings = __webpack_require__(/*! ../../../api/settings */ \"./imports/api/settings.js\");\n\nvar _activityStore = _interopRequireDefault(__webpack_require__(/*! ./activityStore */ \"./imports/ui/GraphEditor/store/activityStore.js\"));\n\nvar _operatorStore = _interopRequireDefault(__webpack_require__(/*! ./operatorStore */ \"./imports/ui/GraphEditor/store/operatorStore.js\"));\n\nvar _connectionStore = _interopRequireDefault(__webpack_require__(/*! ./connectionStore */ \"./imports/ui/GraphEditor/store/connectionStore.js\"));\n\nvar _operator = _interopRequireDefault(__webpack_require__(/*! ./operator */ \"./imports/ui/GraphEditor/store/operator.js\"));\n\nvar _activity = _interopRequireDefault(__webpack_require__(/*! ./activity */ \"./imports/ui/GraphEditor/store/activity.js\"));\n\nvar _connection = _interopRequireDefault(__webpack_require__(/*! ./connection */ \"./imports/ui/GraphEditor/store/connection.js\"));\n\nvar _session = _interopRequireDefault(__webpack_require__(/*! ./session */ \"./imports/ui/GraphEditor/store/session.js\"));\n\nvar _uiStore = _interopRequireDefault(__webpack_require__(/*! ./uiStore */ \"./imports/ui/GraphEditor/store/uiStore.js\"));\n\nvar _utils = __webpack_require__(/*! ../utils */ \"./imports/ui/GraphEditor/utils/index.js\");\n\nvar _index = __webpack_require__(/*! ./index */ \"./imports/ui/GraphEditor/store/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar getOne = function getOne(coll, crit) {\n  var found = coll.filter(crit);\n\n  if (found.length === 0) {\n    return undefined;\n  }\n\n  return found[0];\n};\n\nvar getOneId = function getOneId(coll, id) {\n  return getOne(coll, function (x) {\n    return x.id === id;\n  });\n};\n\nvar Store = function Store() {\n  var _this = this;\n\n  _classCallCheck(this, Store);\n\n  _defineProperty(this, \"findId\", function (_ref) {\n    var type = _ref.type,\n        id = _ref.id;\n\n    if (type === 'activity') {\n      return getOneId(_this.activityStore.all, id);\n    } else if (type === 'operator') {\n      return getOneId(_this.operatorStore.all, id);\n    }\n\n    return getOneId(_this.connectionStore.all, id);\n  });\n\n  _defineProperty(this, \"validate\", function () {\n    return (0, _validGraphFn.default)(_activities.Activities.find({\n      graphId: _this.graphId\n    }).fetch(), _operators.Operators.find({\n      graphId: _this.graphId\n    }).fetch(), _activities.Connections.find({\n      graphId: _this.graphId\n    }).fetch());\n  });\n\n  (0, _mobx.extendObservable)(this, {\n    _state: null,\n    connectionStore: new _connectionStore.default(),\n    activityStore: new _activityStore.default(),\n    operatorStore: new _operatorStore.default(),\n    session: new _session.default(),\n    ui: new _uiStore.default(),\n    graphId: '',\n    graphErrors: [],\n    valid: undefined,\n    _graphDuration: 60,\n    readOnly: false,\n\n    get graphDuration() {\n      return this.ui.isSvg ? this.ui.furthestObject : this._graphDuration;\n    },\n\n    get state() {\n      if (this.readOnly) {\n        return {\n          mode: 'readOnly'\n        };\n      }\n\n      return this._state || {\n        mode: 'normal'\n      };\n    },\n\n    set state(newState) {\n      this._state = newState;\n    },\n\n    setBrowserHistory: (0, _mobx.action)(function (history) {\n      var url = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '/teacher/graph';\n      _this.browserHistory = history;\n      _this.url = url;\n    }),\n    changeDuration: (0, _mobx.action)(function (duration, dbIsCorrect) {\n      if (duration && duration >= 30 && duration <= 1200) {\n        var oldPanTime = _this.ui.panTime; // changes the scale on duration change\n\n        _this.ui.setScaleValue(_this.ui.scale * duration / _this._graphDuration);\n\n        _this._graphDuration = duration;\n        var needPanDelta = (0, _utils.timeToPx)(oldPanTime - _this.ui.panTime, 1);\n\n        _this.ui.panDelta(needPanDelta);\n\n        if (!dbIsCorrect) {\n          _graphs.Graphs.update(_this.graphId, {\n            $set: {\n              duration: _this._graphDuration\n            }\n          });\n        }\n      }\n    }),\n    overlapAllowed: true,\n    toggleOverlapAllowed: (0, _mobx.action)(function () {\n      _this.overlapAllowed = !_this.overlapAllowed;\n    }),\n    deleteSelected: (0, _mobx.action)(function (shift) {\n      if (_this.state.mode === 'normal') {\n        if (_this.ui.selected) {\n          _this.ui.selected.remove(shift);\n        }\n\n        _this.ui.selected = null;\n      }\n    }),\n    // should check for new global version of graph\n    setId: (0, _mobx.action)(function (id) {\n      var readOnly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var desiredUrl = \"\".concat(_this.url, \"/\").concat(id);\n\n      if (_this.browserHistory && _this.browserHistory.location.pathname !== desiredUrl) {\n        _this.browserHistory.push(desiredUrl + _settings.LocalSettings.UrlCoda);\n      }\n\n      (0, _graphs.setCurrentGraph)(id);\n\n      var parentId = _graphs.Graphs.findOne(id).parentId;\n\n      if (parentId && !_cache.LibraryStates.graphList.find(function (x) {\n        return x.uuid === parentId;\n      })) (0, _remoteGraphs.loadGraphMetaData)(parentId);\n      var graph = (0, _graphs.findOneGraphMongo)(id);\n      _this.readOnly = readOnly;\n      _this.graphId = id;\n\n      _this.changeDuration(graph ? graph.duration || 60 : 60, true);\n\n      _this.activityStore.all = (0, _activities.findActivitiesMongo)({\n        graphId: id\n      }, {\n        reactive: false\n      }).map(function (x) {\n        return new _activity.default(x.plane, x.startTime, x.title, x.length, x.data, x.activityType, x._id, x.state);\n      });\n      _this.operatorStore.all = (0, _operators.findOperatorsMongo)({\n        graphId: id\n      }, {\n        reactive: false\n      }).map(function (x) {\n        return new _operator.default(x.time, x.y, x.type, x.data, x.operatorType, x._id, x.title, x.state);\n      });\n      _this.connectionStore.all = _activities.Connections.find({\n        graphId: id\n      }, {\n        reactive: false\n      }).fetch().map(function (x) {\n        return new _connection.default(x.source, x.target, x._id);\n      });\n      _this.ui.selected = null;\n      _this.history = [];\n      window.setTimeout(function () {\n        return mongoWatch(id);\n      });\n      _this.state = {\n        mode: 'normal'\n      };\n\n      _this.ui.setSidepanelOpen(false);\n    }),\n    addHistory: (0, _mobx.action)(function () {\n      if (!_this.history || _this.readOnly || _this.state.mode === 'readOnly') {\n        return;\n      }\n\n      var newEntry = [_this.connectionStore.history, _this.activityStore.history, _this.operatorStore.history];\n      var lastEntry = _this.history.slice(-1).pop() || [];\n\n      if (!(0, _lodash.isEqual)((0, _jsonStableStringify.default)(lastEntry), (0, _jsonStableStringify.default)(newEntry))) {\n        _this.history.push(newEntry);\n\n        (0, _graphs.mergeGraph)(_this.objects);\n      }\n\n      _this.refreshValidate();\n\n      _this.activityStore.setOrganizeNextState('compress');\n    }),\n    refreshValidate: (0, _mobx.action)(function () {\n      var validData = _this.validate();\n\n      if (validData.errors) {\n        var change = 0;\n        validData.errors.filter(function (x) {\n          return x.type === 'needsGroupingKey';\n        }).forEach(function (x) {\n          if (validData && validData.social[x.id]) {\n            _activities.Activities.update(x.id, {\n              $set: {\n                groupingKey: validData.social[x.id][0]\n              }\n            });\n\n            change += 1;\n          }\n        });\n\n        if (change > 0) {\n          validData = _this.validate();\n        }\n      }\n\n      _this.graphErrors = (0, _lodash.sortBy)(validData.errors, 'severity');\n      _this.valid = validData;\n      var broken = _this.graphErrors.filter(function (x) {\n        return x.severity === 'error';\n      }).length > 0;\n\n      if (_graphs.Graphs.findOne(_this.graphId).broken !== broken) {\n        _graphs.Graphs.update(_this.graphId, {\n          $set: {\n            broken: broken\n          }\n        });\n      }\n    }),\n    undo: (0, _mobx.action)(function () {\n      var last = _this.history.slice(_this.history.length - 2);\n\n      if (_this.history.length > 1) {\n        _this.history.pop();\n      }\n\n      if ((0, _lodash.isEmpty)(last)) {\n        return;\n      }\n\n      var _last$ = _slicedToArray(last[0], 3),\n          connections = _last$[0],\n          activities = _last$[1],\n          operators = _last$[2];\n\n      _this.activityStore.all = activities.map(function (x) {\n        return new _activity.default(x.plane, x.startTime, x.title, x.length, x.data, x.activityType, x.id);\n      });\n      _this.operatorStore.all = operators.map(function (x) {\n        return new _operator.default(x.time, x.y, x.type, x.data, x.operatorType, x.id, x.title);\n      });\n      _this.connectionStore.all = connections.map(function (x) {\n        return new _connection.default(x.source, x.target, x._id);\n      }).filter(function (x) {\n        return !!x;\n      });\n      (0, _graphs.mergeGraph)(_this.objects);\n    }),\n    setSession: (0, _mobx.action)(function (session) {\n      if (_this.session.id !== session._id) {\n        _this.session.close();\n\n        _this.session = new _session.default(session);\n      }\n    }),\n\n    get objects() {\n      var _this2 = this;\n\n      return {\n        activities: this.activityStore.all.map(function (x) {\n          return _objectSpread({}, x.object, {\n            graphId: _this2.graphId\n          });\n        }),\n        operators: this.operatorStore.all.map(function (x) {\n          return _objectSpread({}, x.object, {\n            graphId: _this2.graphId\n          });\n        }),\n        connections: this.connectionStore.all.map(function (x) {\n          return _objectSpread({}, x.object, {\n            graphId: _this2.graphId\n          });\n        }),\n        graphId: this.graphId,\n        graphDuration: this._graphDuration\n      };\n    }\n\n  });\n};\n\nexports.default = Store;\n\nvar mongoWatch = function mongoWatch(graphId) {\n  _activities.Activities.find({\n    graphId: graphId\n  }).observe({\n    added: _index.store.activityStore.mongoAdd,\n    changed: _index.store.activityStore.mongoChange,\n    removed: _index.store.activityStore.mongoRemove\n  });\n\n  _activities.Connections.find({\n    graphId: graphId\n  }).observe({\n    added: _index.store.connectionStore.mongoAdd,\n    removed: _index.store.connectionStore.mongoRemove\n  });\n\n  _operators.Operators.find({\n    graphId: graphId\n  }).observe({\n    added: _index.store.operatorStore.mongoAdd,\n    changed: _index.store.operatorStore.mongoChange,\n    removed: _index.store.operatorStore.mongoRemove\n  });\n};\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/store/store.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/store/uiStore.js":
/*!*************************************************!*\
  !*** ./imports/ui/GraphEditor/store/uiStore.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _meteor = __webpack_require__(/*! meteor/meteor */ \"meteor/meteor\");\n\nvar _mobx = __webpack_require__(/*! mobx */ \"../node_modules/mobx/lib/mobx.module.js\");\n\nvar _graphSequence = __webpack_require__(/*! ../../../api/graphSequence */ \"./imports/api/graphSequence.js\");\n\nvar _changelog = _interopRequireDefault(__webpack_require__(/*! ../../../api/changelog */ \"./imports/api/changelog.js\"));\n\nvar _utils = __webpack_require__(/*! ../utils */ \"./imports/ui/GraphEditor/utils/index.js\");\n\nvar _index = __webpack_require__(/*! ./index */ \"./imports/ui/GraphEditor/store/index.js\");\n\nvar _elemClass = _interopRequireDefault(__webpack_require__(/*! ./elemClass */ \"./imports/ui/GraphEditor/store/elemClass.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar uiStore = function uiStore() {\n  var _this = this,\n      _user$profile;\n\n  _classCallCheck(this, uiStore);\n\n  _defineProperty(this, \"timeToRaw\", function (coords) {\n    return [(0, _utils.timeToPx)(coords[0] - _this.panTime, _this.scale), coords[1]];\n  });\n\n  _defineProperty(this, \"rawMouseToTime\", function (rawX, rawY) {\n    var x = (0, _utils.pxToTime)(rawX, _this.scale) + _this.panTime;\n\n    var y = rawY;\n    return [x, y];\n  });\n\n  var user = _meteor.Meteor.user();\n\n  (0, _mobx.extendObservable)(this, {\n    sidepanelOpen: false,\n    svgRef: null,\n    scale: 1,\n    windowWidth: 1000,\n    graphWidth: 1000,\n    socialCoordsTime: [0, 0],\n    showErrors: false,\n    isSvg: false,\n    panx: 0,\n    scrollIntervalID: '',\n    selected: undefined,\n    showPreview: false,\n    libraryOpen: false,\n    showInfo: false,\n    showChangelogModal: (user === null || user === void 0 ? void 0 : (_user$profile = user.profile) === null || _user$profile === void 0 ? void 0 : _user$profile.lastVersionChangelog) !== undefined && (user === null || user === void 0 ? void 0 : user.profile.lastVersionChangelog) < _changelog.default.length - 1,\n    showHelpModal: false,\n    setIsSvg: (0, _mobx.action)(function (isSvg) {\n      _this.isSvg = isSvg;\n\n      if (isSvg) {\n        _index.store.activityStore.setActivitySequence((0, _graphSequence.getActivitySequence)(_index.store.activityStore.all.map(function (x) {\n          var acObj = {\n            data: x.data,\n            startTime: x.startTime,\n            length: x.length,\n            activityType: x.activityType,\n            _id: x.id\n          };\n          return acObj;\n        })));\n      }\n    }),\n    panDelta: (0, _mobx.action)(function (deltaX) {\n      var oldpan = _this.panx;\n      var rightBoundary = _this.graphWidth - _this.panBoxSize;\n      var newPan = _this.panx + deltaX;\n      _this.panx = (0, _utils.between)(0, rightBoundary, newPan);\n      var moveDelta = (_this.panx - oldpan) * _this.scale;\n      var state = _index.store.state;\n\n      if (oldpan !== _this.panx) {\n        if (state.mode === 'resizing') {\n          var oldlength = state.currentActivity.length;\n          state.currentActivity.resize();\n\n          _this.socialPan(moveDelta);\n\n          if (oldlength === state.currentActivity.length) {\n            _this.panx = oldpan;\n          }\n        }\n\n        if (state.mode === 'movingOperator') {\n          state.currentOperator.moveX(moveDelta);\n\n          _this.socialPan(moveDelta);\n        }\n      }\n\n      if (state.mode === 'moving') {\n        state.currentActivity.move();\n\n        _this.socialPan(moveDelta);\n      }\n\n      if (state.mode === 'dragging') {\n        _this.socialPan(moveDelta);\n      }\n    }),\n\n    get graphErrorColor() {\n      var error = _index.store.graphErrors.filter(function (x) {\n        return x.severity === 'error';\n      });\n\n      var warning = _index.store.graphErrors.filter(function (x) {\n        return x.severity === 'warning';\n      });\n\n      if (error.length > 0) {\n        return 'red';\n      }\n\n      if (warning.length > 0) {\n        return 'yellow';\n      }\n\n      return 'green';\n    },\n\n    setShowErrors: (0, _mobx.action)(function (toSet) {\n      _this.showErrors = toSet;\n    }),\n    setShowInfo: (0, _mobx.action)(function (klass, id) {\n      _this.showInfo = {\n        klass: klass,\n        id: id\n      };\n    }),\n    setShowPreview: (0, _mobx.action)(function (x) {\n      _this.showPreview = x;\n    }),\n    setLibraryOpen: (0, _mobx.action)(function (x) {\n      _this.libraryOpen = x;\n    }),\n    cancelInfo: (0, _mobx.action)(function () {\n      _this.showInfo = null;\n    }),\n    setSidepanelOpen: (0, _mobx.action)(function (x) {\n      _this.sidepanelOpen = x;\n    }),\n    toggleSidepanelOpen: (0, _mobx.action)(function () {\n      _this.sidepanelOpen = !_this.sidepanelOpen;\n    }),\n\n    get panBoxSize() {\n      return this.graphWidth / this.scale;\n    },\n\n    setSvgRef: (0, _mobx.action)(function (ref) {\n      _this.svgRef = ref;\n    }),\n    setGraphWidth: (0, _mobx.action)(function (x) {\n      _this.graphWidth = x;\n    }),\n    updateGraphWidth: (0, _mobx.action)(function () {\n      var oldPan = _this.panTime;\n      var boxWidth = _this.sidepanelOpen ? 500 : 0;\n      _this.graphWidth = _this.windowWidth - boxWidth;\n      _this.panx = (0, _utils.timeToPx)(oldPan, _this.scale) / _this.scale;\n    }),\n    updateWindow: (0, _mobx.action)(function () {\n      _this.windowWidth = window.innerWidth;\n\n      _this.panDelta(0);\n    }),\n    unselect: (0, _mobx.action)(function () {\n      _this.selected = null;\n    }),\n    setShowChangelogModal: (0, _mobx.action)(function (set) {\n      _this.showChangelogModal = set;\n    }),\n    setShowHelpModal: (0, _mobx.action)(function (set) {\n      _this.showHelpModal = set;\n    }),\n    cancelAll: (0, _mobx.action)(function () {\n      _this.selected = undefined;\n      _index.store.state = {\n        mode: 'normal'\n      };\n\n      _index.store.addHistory();\n    }),\n\n    get panOffset() {\n      return this.panx * this.scale;\n    },\n\n    setScaleDelta: (0, _mobx.action)(function (x) {\n      _this.setScaleValue(_this.scale * (1 - 0.1 * Math.sign(x)));\n    }),\n    setScaleValue: (0, _mobx.action)(function (newScale) {\n      _this.scale = (0, _utils.between)(1, _index.store.graphDuration / 10, newScale);\n\n      _this.panDelta(0);\n    }),\n    canvasClick: (0, _mobx.action)(function () {\n      _index.store.state = {\n        mode: 'normal'\n      };\n      _index.store.ui.selected = null;\n    }),\n    endRename: (0, _mobx.action)(function () {\n      _index.store.state = {\n        mode: 'normal'\n      };\n    }),\n    storeInterval: (0, _mobx.action)(function (interval) {\n      _this.scrollIntervalID = interval;\n    }),\n    cancelScroll: (0, _mobx.action)(function () {\n      if (_this.scrollIntervalID) {\n        clearInterval(_this.scrollIntervalID);\n      }\n\n      _this.scrollIntervalID = undefined;\n    }),\n\n    get scrollEnabled() {\n      return !!['movingOperator', 'dragging', 'moving', 'resizing'].includes(_index.store.state.mode);\n    },\n\n    socialPan: (0, _mobx.action)(function (deltaX) {\n      var current = _this.timeToRaw(_this.socialCoordsTime);\n\n      var newCoords = [current[0] + deltaX, current[1]];\n\n      _this.socialMove.apply(_this, newCoords);\n    }),\n    socialMove: (0, _mobx.action)(function (rawX, rawY) {\n      _this.socialCoordsTime = _this.rawMouseToTime(rawX, rawY);\n    }),\n\n    get socialCoords() {\n      var _this$socialCoordsTim = _slicedToArray(this.socialCoordsTime, 2),\n          rawX = _this$socialCoordsTim[0],\n          y = _this$socialCoordsTim[1];\n\n      var x = (0, _utils.timeToPx)(rawX, 1);\n      return [x, y];\n    },\n\n    get socialCoordsScaled() {\n      var _this$socialCoordsTim2 = _slicedToArray(this.socialCoordsTime, 2),\n          rawX = _this$socialCoordsTim2[0],\n          y = _this$socialCoordsTim2[1];\n\n      var x = (0, _utils.timeToPx)(rawX, this.scale);\n      return [x, y];\n    },\n\n    get panTime() {\n      return (0, _utils.pxToTime)(this.panOffset, this.scale);\n    },\n\n    get rightEdgeTime() {\n      return (0, _utils.pxToTime)(this.panOffset + this.panBoxSize * this.scale, this.scale);\n    },\n\n    get furthestObject() {\n      return Math.ceil(Math.max(_index.store.operatorStore.furthestOperator || 0, _index.store.activityStore.furthestActivity || 0, 30));\n    }\n\n  });\n  (0, _mobx.reaction)(function () {\n    return [_this.sidepanelOpen, _this.windowWidth];\n  }, function () {\n    return _this.updateGraphWidth();\n  });\n};\n\nexports.default = uiStore;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/store/uiStore.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/utils/export.js":
/*!************************************************!*\
  !*** ./imports/ui/GraphEditor/utils/export.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.importGraph = exports.doImportGraph = exports.duplicateGraph = exports.exportGraph = exports.graphToString = void 0;\n\nvar _fileDialog = _interopRequireDefault(__webpack_require__(/*! file-dialog */ \"../node_modules/file-dialog/file-dialog.min.js\"));\n\nvar _jsonStringifyPrettyCompact = _interopRequireDefault(__webpack_require__(/*! json-stringify-pretty-compact */ \"../node_modules/json-stringify-pretty-compact/index.js\"));\n\nvar _fileSaver = _interopRequireDefault(__webpack_require__(/*! file-saver */ \"../node_modules/file-saver/FileSaver.js\"));\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _activities = __webpack_require__(/*! ../../../api/activities */ \"./imports/api/activities.js\");\n\nvar _operators = __webpack_require__(/*! ../../../api/operators */ \"./imports/api/operators.js\");\n\nvar _graphs = __webpack_require__(/*! ../../../api/graphs */ \"./imports/api/graphs.js\");\n\nvar _store = __webpack_require__(/*! ../store */ \"./imports/ui/GraphEditor/store/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar clean = function clean(obj) {\n  var graphId = obj.graphId,\n      state = obj.state,\n      hasMergedData = obj.hasMergedData,\n      ret = _objectWithoutProperties(obj, [\"graphId\", \"state\", \"hasMergedData\"]); // eslint-disable-line no-unused-vars\n\n\n  return ret;\n};\n\nvar graphToString = function graphToString(graphId) {\n  return (0, _jsonStringifyPrettyCompact.default)({\n    graph: (0, _lodash.omit)((0, _graphs.findOneGraphMongo)(graphId), 'sessionId'),\n    activities: (0, _activities.findActivitiesMongo)({\n      graphId: graphId\n    }).map(function (x) {\n      return clean(x);\n    }),\n    operators: (0, _operators.findOperatorsMongo)({\n      graphId: graphId\n    }).map(function (x) {\n      return clean(x);\n    }),\n    connections: _activities.Connections.find({\n      graphId: graphId\n    }).fetch().map(function (x) {\n      return clean(x);\n    })\n  });\n};\n\nexports.graphToString = graphToString;\n\nvar cleanFilename = function cleanFilename(s) {\n  return s.replace(/[^a-z0-9_-]/gi, '_').replace(/_{2,}/g, '_');\n};\n\nvar exportGraph = function exportGraph() {\n  var name = (0, _graphs.findOneGraphMongo)(_store.store.graphId).name;\n  var blob = new Blob([graphToString(_store.store.graphId)], {\n    type: 'text/plain;charset=utf-8'\n  });\n  var fname = cleanFilename(name);\n\n  _fileSaver.default.saveAs(blob, fname + '.frog', true);\n};\n\nexports.exportGraph = exportGraph;\n\nvar duplicateGraph = function duplicateGraph(graphId) {\n  return doImportGraph({\n    target: {\n      result: graphToString(graphId)\n    }\n  });\n};\n\nexports.duplicateGraph = duplicateGraph;\n\nvar doImportGraph = function doImportGraph(graphStr, title) {\n  try {\n    var graph = graphStr.target ? graphStr.target.result : graphStr;\n    var graphObj = JSON.parse(graph);\n\n    if (title) {\n      graphObj.graph.name = title;\n    }\n\n    var graphId = (0, _graphs.addGraph)(graphObj);\n\n    _store.store.setId(graphId);\n\n    return graphId;\n  } catch (e) {\n    console.warn(\"/Users/stian/src/frog/frog/imports/ui/GraphEditor/utils/export.js(52:4)\", \"e\", e); // eslint-disable-next-line no-alert\n\n    window.alert('File has error, unable to import graph');\n  }\n};\n\nexports.doImportGraph = doImportGraph;\n\nvar importGraph = function importGraph() {\n  (0, _fileDialog.default)({\n    accept: '.frog'\n  }).then(function (file) {\n    var fr = new FileReader();\n    fr.onloadend = doImportGraph;\n    fr.readAsText(file[0]);\n  });\n};\n\nexports.importGraph = importGraph;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/utils/export.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/utils/getOffsets.js":
/*!****************************************************!*\
  !*** ./imports/ui/GraphEditor/utils/getOffsets.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n// calculates offsets given a list of activities, and the plane in question\nvar _default = function _default(plane, activities) {\n  var ary = activities.filter(function (act) {\n    return act.plane === plane;\n  }).sort(function (a, b) {\n    return a.startTime - b.startTime;\n  });\n  var levels = ary.reduce(function (_ref, item) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        acc = _ref2[0],\n        res = _ref2[1];\n\n    var l = 0;\n\n    while (true) {\n      if ((acc[l] || 0) <= item.startTime) {\n        acc[l] = item.startTime + item.length;\n        res[item.id] = l;\n        break;\n      }\n\n      if (l > 5) {\n        break;\n      }\n\n      l += 1;\n    }\n\n    return [acc, res];\n  }, [[], {}]);\n  return levels[1];\n};\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/utils/getOffsets.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/utils/index.js":
/*!***********************************************!*\
  !*** ./imports/ui/GraphEditor/utils/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rangeExclusive = exports.getClickHandler = exports.between = exports.timeToPxScreen = exports.pxToTime = exports.timeToPx = void 0;\n\nvar _store = __webpack_require__(/*! ../store */ \"./imports/ui/GraphEditor/store/index.js\");\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar timeToPx = function timeToPx(time, scale) {\n  return time * _store.store.ui.graphWidth * scale / _store.store.graphDuration;\n};\n\nexports.timeToPx = timeToPx;\n\nvar pxToTime = function pxToTime(px, scale) {\n  return px / _store.store.ui.graphWidth / scale * _store.store.graphDuration;\n};\n\nexports.pxToTime = pxToTime;\n\nvar timeToPxScreen = function timeToPxScreen(time) {\n  return time * _store.store.ui.graphWidth * _store.store.ui.scale / _store.store.graphDuration - _store.store.ui.panx * _store.store.ui.scale;\n};\n\nexports.timeToPxScreen = timeToPxScreen;\n\nvar between = function between() {\n  var minval = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var maxval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 9999999;\n  var x = arguments.length > 2 ? arguments[2] : undefined;\n  return Math.min(Math.max(x, minval), maxval);\n}; // from https://github.com/facebook/react/issues/3185\n\n\nexports.between = between;\n\nvar getClickHandler = function getClickHandler(onClick, onDblClick) {\n  var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 250;\n  var timeoutID = null;\n  return function (event) {\n    event.preventDefault();\n\n    if (!timeoutID) {\n      timeoutID = window.setTimeout(function () {\n        onClick(event);\n        timeoutID = null;\n      }, delay);\n    } else {\n      timeoutID = window.clearTimeout(timeoutID);\n      onDblClick(event);\n    }\n  };\n}; // only allows positive ranges\n\n\nexports.getClickHandler = getClickHandler;\n\nvar rangeExclusive = function rangeExclusive(start, end) {\n  return _toConsumableArray(Array(end - start).keys()).map(function (x) {\n    return start + x;\n  });\n};\n\nexports.rangeExclusive = rangeExclusive;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/utils/index.js?");

/***/ }),

/***/ "./imports/ui/GraphEditor/utils/path.js":
/*!**********************************************!*\
  !*** ./imports/ui/GraphEditor/utils/path.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.drawPath = void 0;\n\nvar drawPath = function drawPath(_ref) {\n  var dragging = _ref.dragging,\n      source = _ref.source,\n      target = _ref.target;\n  // parameters for the curviness of the connections\n  var q = 50;\n\n  if (dragging) {\n    return ['M', source.X, source.Y, 'L', target.X, target.Y].join(' ');\n  }\n\n  return ['M', source.X, source.Y, 'C'].concat(Math.abs(source.Y - target.Y) < 5 ? [source.X - q, source.Y - q, target.X + q, target.Y - q] : [source.X + source.dX, source.Y + source.dY, target.X + target.dX, target.Y + target.dY]).concat([target.X, target.Y]).join(' ');\n};\n\nexports.drawPath = drawPath;\n\n//# sourceURL=webpack:///./imports/ui/GraphEditor/utils/path.js?");

/***/ }),

/***/ "./imports/ui/Preview/ConfigPanel.jsx":
/*!********************************************!*\
  !*** ./imports/ui/Preview/ConfigPanel.jsx ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _meteor = __webpack_require__(/*! meteor/meteor */ \"meteor/meteor\");\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _styles = __webpack_require__(/*! @material-ui/core/styles */ \"../node_modules/@material-ui/core/styles/index.js\");\n\nvar _Grid = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Grid */ \"../node_modules/@material-ui/core/Grid/index.js\"));\n\nvar _IconButton = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/IconButton */ \"../node_modules/@material-ui/core/IconButton/index.js\"));\n\nvar _ArrowBack = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/ArrowBack */ \"../node_modules/@material-ui/icons/ArrowBack.js\"));\n\nvar _Typography = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Typography */ \"../node_modules/@material-ui/core/Typography/index.js\"));\n\nvar _Divider = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Divider */ \"../node_modules/@material-ui/core/Divider/index.js\"));\n\nvar _TextField = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/TextField */ \"../node_modules/@material-ui/core/TextField/index.js\"));\n\nvar _Checkbox = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Checkbox */ \"../node_modules/@material-ui/core/Checkbox/index.js\"));\n\nvar _FormControlLabel = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/FormControlLabel */ \"../node_modules/@material-ui/core/FormControlLabel/index.js\"));\n\nvar _Button = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Button */ \"../node_modules/@material-ui/core/Button/index.js\"));\n\nvar _reactTagsinput = _interopRequireDefault(__webpack_require__(/*! react-tagsinput */ \"../node_modules/react-tagsinput/react-tagsinput.js\"));\n\n__webpack_require__(/*! react-tagsinput/react-tagsinput.css */ \"../node_modules/react-tagsinput/react-tagsinput.css\");\n\nvar _cache = __webpack_require__(/*! ../../api/cache */ \"./imports/api/cache.js\");\n\nvar _remoteActivities = __webpack_require__(/*! ../../api/remoteActivities */ \"./imports/api/remoteActivities.js\");\n\nvar _ApiForm = _interopRequireWildcard(__webpack_require__(/*! ../GraphEditor/SidePanel/ApiForm */ \"./imports/ui/GraphEditor/SidePanel/ApiForm.js\"));\n\nvar _Content = __webpack_require__(/*! ./Content */ \"./imports/ui/Preview/Content.jsx\");\n\nvar _activityTypes = __webpack_require__(/*! ../../activityTypes */ \"./imports/activityTypes.js\");\n\nvar _dashboardInPreviewAPI = __webpack_require__(/*! ./dashboardInPreviewAPI */ \"./imports/ui/Preview/dashboardInPreviewAPI.js\");\n\nvar _index = __webpack_require__(/*! ./index */ \"./imports/ui/Preview/index.js\");\n\nvar _ExportButton = _interopRequireDefault(__webpack_require__(/*! ../GraphEditor/SidePanel/ActivityPanel/ExportButton */ \"./imports/ui/GraphEditor/SidePanel/ActivityPanel/ExportButton.jsx\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar styles = function styles() {\n  return {\n    side: {\n      flex: '0 0 350px',\n      height: '100%',\n      overflow: 'hidden',\n      display: 'flex',\n      flexDirection: 'column',\n      backgroundColor: 'white'\n    },\n    metadataContainer: {\n      backgroundColor: '#dbdbdb',\n      display: 'flex',\n      flexDirection: 'column',\n      width: '100%',\n      padding: '10px'\n    },\n    formContainer: {\n      flex: '1 0 0px',\n      overflow: 'auto'\n    }\n  };\n};\n\nvar MetadataModal = (0, _styles.withStyles)(styles)(function (_ref) {\n  var classes = _ref.classes,\n      metadatas = _ref.metadatas,\n      setState = _ref.setState,\n      forceUpdate = _ref.forceUpdate,\n      setMetadatas = _ref.setMetadatas;\n  return React.createElement(\"div\", {\n    className: classes.metadataContainer\n  }, React.createElement(\"h3\", null, \"Cloud metadata:\"), React.createElement(_TextField.default, {\n    id: \"name\",\n    label: \"Title\",\n    value: metadatas.title,\n    onChange: function onChange(e) {\n      metadatas.title = e.target.value;\n      setMetadatas(metadatas);\n      setState({\n        displaySave: true\n      });\n      forceUpdate();\n    },\n    name: \"title\",\n    margin: \"normal\"\n  }), React.createElement(_TextField.default, {\n    label: \"Description\",\n    value: metadatas.description,\n    multiline: true,\n    onChange: function onChange(e) {\n      metadatas.description = e.target.value;\n      setMetadatas(metadatas);\n      setState({\n        displaySave: true\n      });\n      forceUpdate();\n    },\n    id: \"exampleFormControlTextarea1\",\n    rows: \"3\"\n  }), React.createElement(_reactTagsinput.default, {\n    value: metadatas.tags,\n    onChange: function onChange(e) {\n      metadatas.tags = e;\n      setMetadatas(metadatas);\n      setState({\n        displaySave: true\n      });\n      forceUpdate();\n    }\n  }), React.createElement(_FormControlLabel.default, {\n    control: React.createElement(_Checkbox.default, {\n      checked: !!metadatas.is_public,\n      onChange: function onChange() {\n        metadatas.is_public = !metadatas.is_public;\n        setMetadatas(metadatas);\n        setState({\n          displaySave: true\n        });\n        forceUpdate();\n      },\n      color: \"default\"\n    }),\n    label: \"Make public\"\n  }), React.createElement(\"div\", {\n    style: {\n      height: '10px'\n    }\n  }));\n});\n\nvar ConfigPanel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ConfigPanel, _React$Component);\n\n  function ConfigPanel(props) {\n    var _this;\n\n    _classCallCheck(this, ConfigPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ConfigPanel).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onConfigChange\", function (e) {\n      _this.props.setDelay(true);\n\n      if (_this.timeout) {\n        clearTimeout(_this.timeout);\n      }\n\n      _this.timeout = setTimeout(function () {\n        if (_this.props.metadatas.owner_id === _meteor.Meteor.user().username && JSON.stringify(e.config) !== JSON.stringify(_this.props.config)) {\n          _this.setState({\n            displaySave: true\n          });\n        }\n\n        if (e.errors && e.errors.length === 0) {\n          var aT = _activityTypes.activityTypesObj[e.activityType];\n\n          _this.props.setConfig(e.config);\n\n          (0, _Content.initActivityDocuments)(_this.props.instances, aT, _this.props.example, e.config, true);\n          (0, _dashboardInPreviewAPI.initDashboardDocuments)(aT, true);\n        } else {\n          _this.props.setConfig(_objectSpread({}, e.config, {\n            invalid: true\n          }));\n        }\n\n        _this.props.setActivityTypeId(e.activityType);\n\n        _this.forceUpdate();\n\n        _this.props.setDelay(false);\n      }, 50);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"shouldComponentUpdate\", function (nextProps) {\n      return _this.props.activityId !== nextProps.activityId || _this.props.metadatas !== nextProps.metadatas || !(0, _lodash.isEqual)(nextProps.config, _this.props.config);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"componentDidUpdate\", function () {\n      _this.setState({\n        displaySave: false\n      });\n\n      if (_this.props.activityTypeId && _this.props.config.invalid === undefined) {\n        (0, _ApiForm.check)(_this.props.activityTypeId, _this.props.config, function () {}, _this.onConfigChange);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"backToPreview\", function () {\n      var _this$props = _this.props,\n          setConfig = _this$props.setConfig,\n          setExample = _this$props.setExample,\n          setReloadAPIform = _this$props.setReloadAPIform,\n          setActivityTypeId = _this$props.setActivityTypeId;\n      setActivityTypeId(null);\n      setExample(0);\n      setConfig({});\n      setReloadAPIform((0, _frogUtils.uuid)());\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onSelectActivityType\", function (activityType) {\n      var _this$props2 = _this.props,\n          showDash = _this$props2.showDash,\n          setShowDash = _this$props2.setShowDash,\n          instances = _this$props2.instances,\n          setConfig = _this$props2.setConfig,\n          setReloadAPIform = _this$props2.setReloadAPIform,\n          setExample = _this$props2.setExample,\n          setShowDashExample = _this$props2.setShowDashExample,\n          setActivityTypeId = _this$props2.setActivityTypeId;\n      var exConf = activityType.title ? activityType.config : (0, _index.addDefaultExample)(_activityTypes.activityTypesObj[activityType])[0].config;\n      var actTypeId = activityType.title ? activityType.activity_type : activityType;\n      var aTObj = _activityTypes.activityTypesObj[actTypeId];\n      setConfig(exConf);\n      var newMetadatas = activityType.uuid ? _cache.LibraryStates.activityList.find(function (x) {\n        return x.uuid === activityType.uuid;\n      }) : {\n        uuid: '',\n        title: '',\n        description: '',\n        tags: []\n      };\n\n      _this.props.setMetadatas(newMetadatas);\n\n      if (showDash && !aTObj.dashboard) {\n        setShowDash(false);\n      }\n\n      setReloadAPIform((0, _frogUtils.uuid)());\n      (0, _Content.initActivityDocuments)(instances, aTObj, 0, exConf, true);\n      (0, _dashboardInPreviewAPI.initDashboardDocuments)(actTypeId, true);\n      setExample(0);\n      setShowDashExample(false);\n      setActivityTypeId(actTypeId);\n    });\n\n    _this.state = {\n      displaySave: false,\n      metadatas: {}\n    };\n\n    if (!props.metadatas) {\n      var metadatas = _cache.LibraryStates.activityList.find(function (x) {\n        return x.uuid === _this.state.metadatas.uuid;\n      });\n\n      props.setMetadatas(metadatas);\n    }\n\n    return _this;\n  }\n\n  _createClass(ConfigPanel, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          config = _this$props3.config,\n          reloadAPIform = _this$props3.reloadAPIform,\n          setConfig = _this$props3.setConfig,\n          activityTypeId = _this$props3.activityTypeId,\n          metadatas = _this$props3.metadatas,\n          _setMetadatas = _this$props3.setMetadatas,\n          setActivityTypeId = _this$props3.setActivityTypeId,\n          classes = _this$props3.classes;\n      return React.createElement(\"div\", {\n        className: classes.side\n      }, activityTypeId && React.createElement(_Grid.default, {\n        container: true,\n        spacing: 8,\n        alignItems: \"center\"\n      }, React.createElement(_Grid.default, {\n        item: true,\n        xs: 2\n      }, React.createElement(_IconButton.default, {\n        className: \"arrowback\",\n        \"aria-label\": \"back-to-preview\",\n        onClick: this.backToPreview\n      }, React.createElement(_ArrowBack.default, null))), React.createElement(_Grid.default, {\n        item: true,\n        xs: 8\n      }, React.createElement(_Typography.default, {\n        variant: \"title\"\n      }, _activityTypes.activityTypesObj[activityTypeId].meta.name)), React.createElement(_Grid.default, {\n        item: true,\n        xs: 2\n      }, metadatas.uuid && this.state.displaySave && React.createElement(_Button.default, {\n        color: \"primary\",\n        style: {\n          left: '-25px'\n        },\n        onClick: function onClick() {\n          (0, _remoteActivities.updateActivity)(metadatas.uuid, _objectSpread({}, metadatas, {\n            data: _objectSpread({}, config)\n          }));\n\n          _this2.forceUpdate();\n        }\n      }, \"Save\"), React.createElement(_ExportButton.default, _extends({\n        activity: {\n          title: _activityTypes.activityTypesObj[activityTypeId].meta.name,\n          data: config,\n          activityType: activityTypeId,\n          metadatas: metadatas,\n          setMetadatas: _setMetadatas\n        }\n      }, {\n        metadatas: metadatas,\n        setMetadatas: _setMetadatas\n      }, {\n        updateParent: function updateParent() {\n          return _this2.forceUpdate();\n        }\n      }))), React.createElement(_Grid.default, {\n        item: true,\n        xs: 12\n      }, React.createElement(_Divider.default, null)), metadatas.uuid && React.createElement(MetadataModal, {\n        metadatas: metadatas,\n        setMetadatas: function setMetadatas(x) {\n          return _setMetadatas(x);\n        },\n        forceUpdate: function forceUpdate() {\n          return _this2.forceUpdate();\n        },\n        setState: function setState(x) {\n          return _this2.setState(x);\n        }\n      })), React.createElement(\"div\", {\n        className: classes.formContainer\n      }, React.createElement(_ApiForm.default, _extends({\n        hidePreview: true\n      }, {\n        config: config,\n        setConfig: setConfig,\n        setActivityTypeId: setActivityTypeId,\n        setMetadatas: _setMetadatas\n      }, {\n        activityType: activityTypeId,\n        onConfigChange: this.onConfigChange,\n        onSelect: this.onSelectActivityType,\n        reload: reloadAPIform\n      }))));\n    }\n  }]);\n\n  return ConfigPanel;\n}(React.Component);\n\nvar _default = (0, _styles.withStyles)(styles)(ConfigPanel);\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/Preview/ConfigPanel.jsx?");

/***/ }),

/***/ "./imports/ui/Preview/Content.jsx":
/*!****************************************!*\
  !*** ./imports/ui/Preview/Content.jsx ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.initActivityDocuments = exports.generateDataFn = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _recompose = __webpack_require__(/*! recompose */ \"../node_modules/recompose/dist/Recompose.esm.js\");\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _reactMosaicComponent = __webpack_require__(/*! react-mosaic-component */ \"../node_modules/react-mosaic-component/lib/index.js\");\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _ReactiveHOC = _interopRequireDefault(__webpack_require__(/*! ../StudentView/ReactiveHOC */ \"./imports/ui/StudentView/ReactiveHOC.jsx\"));\n\nvar _ShowInfo = _interopRequireDefault(__webpack_require__(/*! ./ShowInfo */ \"./imports/ui/Preview/ShowInfo.js\"));\n\nvar _dashboardInPreviewAPI = __webpack_require__(/*! ./dashboardInPreviewAPI */ \"./imports/ui/Preview/dashboardInPreviewAPI.js\");\n\nvar _ShowDashExample = _interopRequireDefault(__webpack_require__(/*! ./ShowDashExample */ \"./imports/ui/Preview/ShowDashExample.js\"));\n\nvar _activityTypes = __webpack_require__(/*! ../../activityTypes */ \"./imports/activityTypes.js\");\n\nvar _Preview = __webpack_require__(/*! ./Preview */ \"./imports/ui/Preview/Preview.js\");\n\nvar _index = __webpack_require__(/*! ./index */ \"./imports/ui/Preview/index.js\");\n\nvar _Controls = __webpack_require__(/*! ./Controls */ \"./imports/ui/Preview/Controls.jsx\");\n\nvar _LearningItem = _interopRequireDefault(__webpack_require__(/*! ../LearningItem */ \"./imports/ui/LearningItem/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar DocId = function DocId(acId, instance) {\n  return 'preview-' + acId + '/' + instance;\n};\n\nvar generateDataFn = function generateDataFn() {\n  var doc = _Preview.connection.get('li', (0, _frogUtils.uuid)());\n\n  return (0, _frogUtils.generateReactiveFn)(doc, _LearningItem.default, undefined, undefined, undefined, _Preview.backend);\n};\n\nexports.generateDataFn = generateDataFn;\n\nvar initActivityDocuments = function initActivityDocuments(instances, activityType, example, config, refresh) {\n  var exs = (0, _index.addDefaultExample)(activityType);\n\n  if (exs[example].learningItems) {\n    exs[example].learningItems.forEach(function (li) {\n      var doc = _Preview.connection.get('li', li.id);\n\n      if (doc.type) {\n        doc.submitOp({\n          p: [],\n          oi: li\n        });\n      } else {\n        doc.create(li);\n      }\n    });\n  }\n\n  (0, _lodash.uniq)(instances).forEach(function (instance) {\n    var runMergeFunction = function runMergeFunction(_doc) {\n      var mergeFunction = activityType.mergeFunction;\n\n      if (mergeFunction) {\n        var dataFn = (0, _frogUtils.generateReactiveFn)(_doc, _LearningItem.default, undefined, undefined, undefined, _Preview.backend);\n        var initData = typeof activityType.dataStructure === 'function' ? activityType.dataStructure(config) : activityType.dataStructure;\n        var data = example === -1 || example === undefined ? (0, _frogUtils.cloneDeep)(initData) : exs[example].data;\n        mergeFunction((0, _frogUtils.cloneDeep)({\n          data: data,\n          config: config\n        }), dataFn, dataFn.doc.data);\n      }\n    };\n\n    var doc = _Preview.connection.get('rz', DocId(activityType.id, instance));\n\n    doc.fetch();\n\n    if (!doc.type) {\n      doc.once('load', function () {\n        if (!doc.type) {\n          var initData = typeof activityType.dataStructure === 'function' ? activityType.dataStructure(config) : activityType.dataStructure;\n          doc.create((0, _frogUtils.cloneDeep)(initData) || {});\n          runMergeFunction(doc);\n        }\n      });\n    } else if (refresh) {\n      var dataFn = (0, _frogUtils.generateReactiveFn)(doc, _LearningItem.default, undefined, undefined, undefined, _Preview.backend);\n      var initData = typeof activityType.dataStructure === 'function' ? activityType.dataStructure(config) : activityType.dataStructure;\n      dataFn.objInsert((0, _frogUtils.cloneDeep)(initData) || {}, []);\n      runMergeFunction(doc);\n    }\n  });\n};\n\nexports.initActivityDocuments = initActivityDocuments;\n\nvar ContentController = function ContentController(_ref) {\n  var showDashExample = _ref.showDashExample,\n      plane = _ref.plane,\n      instances = _ref.instances,\n      config = _ref.config,\n      example = _ref.example,\n      activityTypeId = _ref.activityTypeId,\n      showLogs = _ref.showLogs,\n      showData = _ref.showData,\n      users = _ref.users,\n      reloadActivity = _ref.reloadActivity,\n      showDash = _ref.showDash;\n  var activityType = _activityTypes.activityTypesObj[activityTypeId];\n\n  if (!activityType) {\n    return React.createElement(\"p\", null, \"Choose an activityType\");\n  }\n\n  if (!users || !instances) {\n    return React.createElement(\"p\", null, \"There is no user\");\n  }\n\n  if (!showDashExample && (config === undefined || config.invalid)) {\n    return React.createElement(\"p\", null, \"The config is invalid\");\n  }\n\n  var RunComp = _activityTypes.activityRunners[activityType.id];\n  RunComp.displayName = activityType.id;\n  var examples = activityType.meta.exampleData || [];\n  var exData = examples[example] && (0, _frogUtils.cloneDeep)(examples[example]);\n  var data = exData && (exData.data ? exData.data : undefined);\n  var activityData = {\n    data: data,\n    config: config\n  };\n\n  var Run = function Run(_ref2) {\n    var name = _ref2.name,\n        instance = _ref2.instance;\n\n    if (activityType.meta.preview === false) {\n      return React.createElement(\"h1\", null, \"No preview available for this activity type\");\n    }\n\n    var docId = DocId(activityType.id, instance);\n    var formatProduct = activityType.formatProduct;\n    var transform = formatProduct ? function (x) {\n      return formatProduct(config || {}, x, instance, name);\n    } : undefined;\n    var ActivityToRun = (0, _ReactiveHOC.default)(docId, _Preview.connection, false, undefined, {\n      createdByUser: (0, _Controls.getUserId)(name)\n    }, _Preview.backend, undefined, undefined, transform)(showData ? _ShowInfo.default : RunComp);\n    var logger = (0, _dashboardInPreviewAPI.createLogger)('preview', instance, activityType.id, activityType.id, (0, _Controls.getUserId)(name), plane, config);\n    logger({\n      type: 'activityDidMount'\n    });\n    return React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto'\n      }\n    }, React.createElement(ActivityToRun, {\n      activityType: activityType.id,\n      key: reloadActivity,\n      activityData: activityData,\n      activityId: \"preview\",\n      userInfo: {\n        name: name,\n        id: (0, _Controls.getUserId)(name)\n      },\n      stream: function stream() {\n        return undefined;\n      },\n      logger: logger,\n      groupingValue: instance,\n      sessionId: reloadActivity\n    }));\n  };\n\n  var Dashboard = function Dashboard() {\n    return React.createElement(_dashboardInPreviewAPI.DashPreviewWrapper, {\n      config: activityData.config,\n      instances: instances,\n      users: users.reduce(function (acc, x) {\n        return _objectSpread({}, acc, _defineProperty({}, (0, _Controls.getUserId)(x), x));\n      }, {}),\n      activityType: activityType,\n      showData: showData,\n      plane: plane\n    });\n  };\n\n  return React.createElement(\"div\", {\n    style: {\n      height: '100%'\n    }\n  }, showDashExample ? React.createElement(_ShowDashExample.default, {\n    example: example,\n    activityType: activityType,\n    showLogs: showLogs\n  }) : users.length === 1 && !showDash ? React.createElement(Run, {\n    name: users[0],\n    idx: 0,\n    instance: instances[0]\n  }) : React.createElement(_reactMosaicComponent.MosaicWithoutDragDropContext, {\n    renderTile: function renderTile(_ref3, path) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          name = _ref4[0],\n          instance = _ref4[1];\n\n      return name === 'dashboard' && activityType.dashboards ? React.createElement(_reactMosaicComponent.MosaicWindow, {\n        title: 'dashboard - ' + activityType.meta.name,\n        toolbarControls: [React.createElement(\"div\", {\n          key: instance\n        })],\n        key: JSON.stringify({\n          config: config,\n          showData: showData\n        }),\n        path: path\n      }, React.createElement(Dashboard, null)) : React.createElement(_reactMosaicComponent.MosaicWindow, {\n        path: path,\n        toolbarControls: [React.createElement(\"div\", {\n          key: instance\n        })],\n        key: JSON.stringify({\n          config: config,\n          showData: showData,\n          reloadActivity: reloadActivity\n        }),\n        title: name + '/' + ['individual', instance, 'all'][plane - 1] + ' - ' + activityType.meta.name\n      }, React.createElement(Run, {\n        name: name,\n        instance: instance\n      }));\n    },\n    initialValue: (0, _frogUtils.getInitialState)(showDash ? [['dashboard', 'dashboard']].concat(_toConsumableArray(users.map(function (name, idx) {\n      return [name, instances[idx]];\n    }))) : users.map(function (name, idx) {\n      return [name, instances[idx]];\n    }))\n  }));\n};\n\nvar Content = (0, _recompose.compose)(_frogUtils.withDragDropContext, _recompose.toClass)(ContentController);\nvar _default = Content;\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/Preview/Content.jsx?");

/***/ }),

/***/ "./imports/ui/Preview/Controls.jsx":
/*!*****************************************!*\
  !*** ./imports/ui/Preview/Controls.jsx ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.groupName = exports.getUserId = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _Paper = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Paper */ \"../node_modules/@material-ui/core/Paper/index.js\"));\n\nvar _styles = __webpack_require__(/*! @material-ui/core/styles */ \"../node_modules/@material-ui/core/styles/index.js\");\n\nvar _Close = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/Close */ \"../node_modules/@material-ui/icons/Close.js\"));\n\nvar _Button = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Button */ \"../node_modules/@material-ui/core/Button/index.js\"));\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _Icon = _interopRequireDefault(__webpack_require__(/*! ./Icon */ \"./imports/ui/Preview/Icon.jsx\"));\n\nvar _dashboardInPreviewAPI = __webpack_require__(/*! ./dashboardInPreviewAPI */ \"./imports/ui/Preview/dashboardInPreviewAPI.js\");\n\nvar _Content = __webpack_require__(/*! ./Content */ \"./imports/ui/Preview/Content.jsx\");\n\nvar _activityTypes = __webpack_require__(/*! ../../activityTypes */ \"./imports/activityTypes.js\");\n\nvar _index = __webpack_require__(/*! ./index */ \"./imports/ui/Preview/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar styles = function styles() {\n  return {\n    root: {\n      padding: '4px',\n      margin: '4px'\n    },\n    closeButton: {\n      float: 'right',\n      marginRight: '5px',\n      backgroundColor: 'red',\n      color: 'white'\n    },\n    exampleButton: {\n      textTransform: 'none'\n    },\n    exampleButtonDeeplink: {\n      textTransform: 'none',\n      fontStyle: 'italic'\n    }\n  };\n};\n\nvar names = \"Chen Li,Maurice,Edgar,Noel,Ole,Stian,Jenny,Prastut,Louis,Monte Rosa,Lyskamm,Weisshorn,Matterhorn,Dent Blanche,Grand Combin,Finsteraarhorn,Zinalrothorn,Alphubel,Rimpfischhorn,Aletschhorn,Strahlhorn,Dent d'H\\xE9rens,Breithorn,Jungfrau,M\\xF6nch,Schreckhorn,Ober Gabelhorn,Piz Bernina,Gross Fiescherhorn,Gross Gr\\xFCnhorn,Weissmies,Lagginhorn,Piz Zup\\xF2,Gletscherhorn,Eiger,Grand Cornier,Piz Roseg,Bietschhorn,Trugberg,Gross Wannenhorn,Aiguille d'Argenti\\xE8re,Ruinette,Bouquetins,Tour Noir,Nesthorn,Mont Dolen\".split(',');\n\nvar getUserId = function getUserId(name) {\n  return 'uid_' + name.toLowerCase().replace(/\\s+/, '');\n};\n\nexports.getUserId = getUserId;\n\nvar groupName = function groupName(idx) {\n  return 'group' + (1 + Math.floor(idx / 2));\n};\n\nexports.groupName = groupName;\n\nvar _default = (0, _styles.withStyles)(styles)(function (props) {\n  var classes = props.classes,\n      activityTypeId = props.activityTypeId,\n      instances = props.instances,\n      config = props.config,\n      dismiss = props.dismiss,\n      setFullWindow = props.setFullWindow,\n      fullWindow = props.fullWindow,\n      example = props.example,\n      setConfig = props.setConfig,\n      setShowData = props.setShowData,\n      showData = props.showData,\n      setShowDash = props.setShowDash,\n      showDash = props.showDash,\n      setShowDashExample = props.setShowDashExample,\n      showDashExample = props.showDashExample,\n      setShowLogs = props.setShowLogs,\n      setReloadAPIform = props.setReloadAPIform,\n      setReloadActivity = props.setReloadActivity,\n      showLogs = props.showLogs,\n      setActivityTypeId = props.setActivityTypeId,\n      setExample = props.setExample,\n      plane = props.plane,\n      users = props.users,\n      modal = props.modal,\n      setUsers = props.setUsers,\n      setPlane = props.setPlane,\n      setInstances = props.setInstances;\n  var activityType = _activityTypes.activityTypesObj[activityTypeId];\n\n  if (!activityType) {\n    return React.createElement(\"p\", null, \"Choose and activityType\");\n  }\n\n  var examples = (0, _index.addDefaultExample)(activityType);\n\n  var refresh = function refresh(ex) {\n    props.setDelay(true);\n    setTimeout(function () {\n      (0, _Content.initActivityDocuments)(instances, activityType, ex === undefined ? example : ex, config, true); // resets the reactive documents for the dashboard\n\n      (0, _dashboardInPreviewAPI.initDashboardDocuments)(activityType, true);\n      _dashboardInPreviewAPI.Logs.length = 0;\n      setReloadActivity((0, _frogUtils.uuid)());\n      props.setDelay(false);\n    }, 50);\n  };\n\n  var _dismiss = function _dismiss() {\n    setFullWindow(false);\n\n    if (dismiss) {\n      dismiss();\n    } else {\n      setActivityTypeId(null);\n      setExample(0);\n      setConfig({});\n      setReloadAPIform((0, _frogUtils.uuid)());\n      _dashboardInPreviewAPI.Logs.length = 0;\n    }\n  };\n\n  var addStudent = function addStudent() {\n    var newName = names[users.length % names.length];\n    var newGroup = groupName(users.length);\n    var newId = getUserId(newName);\n    setUsers(_toConsumableArray(users).concat([newName]));\n\n    var newInstances = _toConsumableArray(instances).concat([[newId, newGroup, 'all'][plane - 1]]);\n\n    setInstances(newInstances);\n    (0, _Content.initActivityDocuments)(newInstances, activityType, example, config, false);\n  };\n\n  var removeStudent = function removeStudent() {\n    setUsers(users.slice(0, users.length - 1));\n    var newInstances = instances.slice(0, instances.length - 1);\n    setInstances(newInstances);\n    (0, _Content.initActivityDocuments)(newInstances, activityType, example, config, false);\n  };\n\n  var switchPlane = function switchPlane() {\n    var newPlane = 1 + plane % 3;\n    setPlane(newPlane);\n    var newInstances = users.map(function (n, i) {\n      return [getUserId(n), groupName(i), 'all'][newPlane - 1];\n    });\n    setInstances(newInstances);\n    (0, _Content.initActivityDocuments)(newInstances, activityType, example, config, false);\n  };\n\n  return React.createElement(_Paper.default, {\n    className: classes.root\n  }, React.createElement(\"div\", null, React.createElement(_Button.default, {\n    variant: \"fab\",\n    mini: true,\n    onClick: _dismiss,\n    className: classes.closeButton,\n    \"data-tip\": \"Close, and show list of activity types to preview\"\n  }, React.createElement(_Close.default, null)), React.createElement(_Icon.default, {\n    onClick: function onClick() {\n      return setShowData(!showData);\n    },\n    icon: showData ? 'fa fa-address-card-o' : 'fa fa-table',\n    tooltip: showData ? 'Show component' : 'Show underlying data'\n  }), activityType.dashboards && React.createElement(_Icon.default, {\n    onClick: function onClick() {\n      return setShowDash(!showDash);\n    },\n    icon: \"fa fa-tachometer\",\n    color: showDash ? '#3d76b8' : '#b3cae6',\n    tooltip: \"Toggle dashboard\"\n  }), (0, _dashboardInPreviewAPI.hasDashExample)(activityType) && React.createElement(_Icon.default, {\n    onClick: function onClick() {\n      return setShowDashExample(!showDashExample);\n    },\n    icon: \"fa fa-line-chart\",\n    color: showDashExample ? '#3d76b8' : '#b3cae6',\n    tooltip: \"Toggle example logs dashboard\"\n  }), React.createElement(_Icon.default, {\n    onClick: function onClick() {\n      return setShowLogs(!showLogs);\n    },\n    icon: \"fa fa-list\",\n    color: showLogs ? '#3d76b8' : '#b3cae6',\n    tooltip: \"Toggle log table\"\n  }), React.createElement(_Icon.default, {\n    onClick: addStudent,\n    icon: \"fa fa-user-plus\",\n    color: \"#3d76b8\",\n    tooltip: \"Add a user\"\n  }), React.createElement(_Icon.default, {\n    onClick: removeStudent,\n    icon: \"fa fa-user-times\",\n    color: users.length > 1 ? '#3d76b8' : '#b3cae6',\n    tooltip: \"Remove one user\"\n  }), React.createElement(_Icon.default, {\n    onClick: switchPlane,\n    icon: ['fa fa-user-circle-o', 'fa fa-users', 'fa fa-university'][plane - 1],\n    color: \"#3d76b8\",\n    tooltip: \"Change plane\"\n  }), React.createElement(_Icon.default, {\n    onClick: refresh,\n    icon: \"fa fa-refresh\",\n    tooltip: \"Reset reactive data\"\n  }), React.createElement(_Icon.default, {\n    onClick: function onClick() {\n      return setFullWindow(!fullWindow);\n    },\n    icon: \"fa fa-arrows-alt\",\n    tooltip: \"Toggle full window\"\n  })), !showDashExample && React.createElement(\"div\", null, examples.map(function (ex, i) {\n    return React.createElement(_Button.default, {\n      value: i,\n      key: ex.title,\n      variant: i === example ? 'contained' : 'text',\n      disableRipple: true,\n      disableTouchRipple: true,\n      color: \"primary\",\n      className: 'example ' + (ex.type === 'deeplink' ? classes.exampleButtonDeeplink : classes.exampleButton),\n      onClick: function onClick() {\n        if (modal) {\n          refresh(i);\n        } else {\n          setConfig(ex.config);\n        }\n\n        setReloadAPIform((0, _frogUtils.uuid)());\n        (0, _dashboardInPreviewAPI.initDashboardDocuments)(activityType, true);\n        setExample(i);\n      }\n    }, ex.title);\n  })));\n});\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/Preview/Controls.jsx?");

/***/ }),

/***/ "./imports/ui/Preview/ErrorWrapper.js":
/*!********************************************!*\
  !*** ./imports/ui/Preview/ErrorWrapper.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ErrorWrapper =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ErrorWrapper, _React$Component);\n\n  function ErrorWrapper() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ErrorWrapper);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ErrorWrapper)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      retries: 0,\n      error: null\n    });\n\n    return _this;\n  }\n\n  _createClass(ErrorWrapper, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error) {\n      this.setState(function (prevState) {\n        return {\n          retries: prevState.retries + 1,\n          error: error\n        };\n      });\n      console.error(\"/Users/stian/src/frog/frog/imports/ui/Preview/ErrorWrapper.js(16:4)\", 'Crashed on previewstate, removing and trying again', \"sessionStorage.getItem('previewState')\", sessionStorage.getItem('previewState'));\n      sessionStorage.removeItem('previewstate');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          error = _this$state.error,\n          retries = _this$state.retries;\n      var children = this.props.children;\n      return error && retries > 2 ? React.createElement(\"h1\", null, \"Preview failed, try reloading, or opening in another tab\") : children;\n    }\n  }]);\n\n  return ErrorWrapper;\n}(React.Component);\n\nvar _default = ErrorWrapper;\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/Preview/ErrorWrapper.js?");

/***/ }),

/***/ "./imports/ui/Preview/Icon.jsx":
/*!*************************************!*\
  !*** ./imports/ui/Preview/Icon.jsx ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar _default = function _default(_ref) {\n  var onClick = _ref.onClick,\n      icon = _ref.icon,\n      color = _ref.color,\n      tooltip = _ref.tooltip;\n  return React.createElement(\"span\", {\n    style: {\n      marginLeft: '10px'\n    }\n  }, React.createElement(_frogUtils.A, {\n    onClick: onClick\n  }, React.createElement(\"i\", {\n    className: icon,\n    style: {\n      color: color\n    },\n    \"data-tip\": tooltip\n  })));\n};\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/Preview/Icon.jsx?");

/***/ }),

/***/ "./imports/ui/Preview/Preview.js":
/*!***************************************!*\
  !*** ./imports/ui/Preview/Preview.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.connection = exports.backend = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _reactTooltip = _interopRequireDefault(__webpack_require__(/*! react-tooltip */ \"../node_modules/react-tooltip/dist/index.js\"));\n\nvar _reactModal = _interopRequireDefault(__webpack_require__(/*! react-modal */ \"../node_modules/react-modal/lib/index.js\"));\n\nvar _sharedb = _interopRequireDefault(__webpack_require__(/*! sharedb */ \"../node_modules/sharedb/lib/index.js\"));\n\nvar _reactDraggable = _interopRequireDefault(__webpack_require__(/*! react-draggable */ \"../node_modules/react-draggable/dist/react-draggable.js\"));\n\nvar _styles = __webpack_require__(/*! @material-ui/core/styles */ \"../node_modules/@material-ui/core/styles/index.js\");\n\nvar _Dialog = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Dialog */ \"../node_modules/@material-ui/core/Dialog/index.js\"));\n\nvar _CircularProgress = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/CircularProgress */ \"../node_modules/@material-ui/core/CircularProgress/index.js\"));\n\nvar _Paper = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Paper */ \"../node_modules/@material-ui/core/Paper/index.js\"));\n\nvar _activityTypes = __webpack_require__(/*! ../../activityTypes */ \"./imports/activityTypes.js\");\n\nvar _dashboardInPreviewAPI = __webpack_require__(/*! ./dashboardInPreviewAPI */ \"./imports/ui/Preview/dashboardInPreviewAPI.js\");\n\nvar _ShowLogs = _interopRequireDefault(__webpack_require__(/*! ./ShowLogs */ \"./imports/ui/Preview/ShowLogs.js\"));\n\nvar _Controls = _interopRequireDefault(__webpack_require__(/*! ./Controls */ \"./imports/ui/Preview/Controls.jsx\"));\n\nvar _Content = _interopRequireDefault(__webpack_require__(/*! ./Content */ \"./imports/ui/Preview/Content.jsx\"));\n\nvar _ConfigPanel = _interopRequireDefault(__webpack_require__(/*! ./ConfigPanel */ \"./imports/ui/Preview/ConfigPanel.jsx\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar styles = {\n  main: {\n    display: 'flex',\n    marginTop: '48px',\n    height: 'calc(100vh - 48px)'\n  },\n  noModal: {\n    flex: '1 0 0px',\n    padding: '8px',\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  noModalPreviewContent: {\n    overflow: 'auto',\n    flex: '1 0 0px',\n    padding: '4px',\n    margin: '4px'\n  },\n  fullWindowControl: {\n    zIndex: 99,\n    border: '1px solid',\n    width: '500px',\n    position: 'fixed',\n    top: '200px',\n    left: '200px',\n    background: 'lightgreen'\n  },\n  drawer: {\n    marginTop: '48px',\n    width: 250,\n    height: 'calc(100% - 48px)'\n  },\n  button: {\n    position: 'fixed',\n    bottom: '20px',\n    right: '20px',\n    zIndex: '10'\n  },\n  text: {\n    width: '125px',\n    margin: 'auto'\n  },\n  configPanelMain: {\n    flex: '0 0 350px',\n    overflow: 'hidden',\n    background: '#fff0'\n  },\n  configPanelMetadataContainer: {\n    backgroundColor: '#dbdbdb',\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    padding: '10px'\n  }\n};\nvar backend = new _sharedb.default();\nexports.backend = backend;\nvar connection = backend.connect();\nexports.connection = connection;\nwindow.connection = connection;\n\nvar StatelessPreview = function StatelessPreview(props) {\n  var delay = props.delay,\n      activityTypeId = props.activityTypeId,\n      modal = props.modal,\n      dismiss = props.dismiss,\n      showLogs = props.showLogs,\n      fullWindow = props.fullWindow,\n      showDashExample = props.showDashExample,\n      classes = props.classes;\n  var activityType = _activityTypes.activityTypesObj[activityTypeId];\n\n  if (!activityType) {\n    return React.createElement(\"div\", {\n      className: classes.main\n    }, React.createElement(_ConfigPanel.default, _extends({}, props, {\n      classes: undefined\n    })));\n  }\n\n  var PreviewContent = delay ? React.createElement(_CircularProgress.default, null) : showLogs && !showDashExample ? React.createElement(_ShowLogs.default, {\n    logs: _dashboardInPreviewAPI.Logs\n  }) : React.createElement(_Content.default, _extends({}, props, {\n    classes: undefined\n  }));\n  var FullWindowP = React.createElement(_Dialog.default, {\n    open: fullWindow,\n    fullScreen: true\n  }, PreviewContent, React.createElement(_reactDraggable.default, {\n    onStart: function onStart() {\n      return true;\n    },\n    defaultPosition: {\n      x: 200,\n      y: 300\n    }\n  }, React.createElement(\"div\", {\n    className: classes.fullWindowControl\n  }, React.createElement(_Controls.default, _extends({}, props, {\n    classes: undefined\n  })))), React.createElement(_reactTooltip.default, {\n    delayShow: 300,\n    place: \"right\"\n  }));\n  var NoModalP = React.createElement(\"div\", {\n    className: classes.main\n  }, React.createElement(_ConfigPanel.default, _extends({}, props, {\n    classes: undefined\n  })), React.createElement(\"div\", {\n    className: classes.noModal\n  }, React.createElement(_Controls.default, _extends({}, props, {\n    classes: undefined\n  })), React.createElement(_Paper.default, {\n    className: classes.noModalPreviewContent\n  }, PreviewContent), React.createElement(_reactTooltip.default, {\n    delayShow: 300,\n    place: \"right\"\n  })));\n  var ModalP = React.createElement(_reactModal.default, {\n    ariaHideApp: false,\n    contentLabel: 'Preview of ' + activityTypeId,\n    isOpen: true,\n    onRequestClose: dismiss\n  }, React.createElement(_Controls.default, _extends({}, props, {\n    classes: undefined\n  })), PreviewContent, React.createElement(_reactTooltip.default, {\n    delayShow: 300,\n    place: \"right\"\n  }));\n  return fullWindow ? FullWindowP : modal ? ModalP : NoModalP;\n};\n\nvar _default = (0, _styles.withStyles)(styles)(StatelessPreview);\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/Preview/Preview.js?");

/***/ }),

/***/ "./imports/ui/Preview/ShowDashExample.js":
/*!***********************************************!*\
  !*** ./imports/ui/Preview/ShowDashExample.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _core = __webpack_require__(/*! @material-ui/core */ \"../node_modules/@material-ui/core/index.es.js\");\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _CircularProgress = __webpack_require__(/*! @material-ui/core/CircularProgress */ \"../node_modules/@material-ui/core/CircularProgress/index.js\");\n\nvar _mergeLogData = __webpack_require__(/*! ../../api/mergeLogData */ \"./imports/api/mergeLogData.js\");\n\nvar _cache = __webpack_require__(/*! ../../api/cache */ \"./imports/api/cache.js\");\n\nvar _MultiWrapper = __webpack_require__(/*! ../Dashboard/MultiWrapper */ \"./imports/ui/Dashboard/MultiWrapper.jsx\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nif (_frogUtils.isBrowser) {\n  __webpack_require__(/*! ../LearningItem/sliderCSS */ \"./imports/ui/LearningItem/sliderCSS.js\");\n}\n\nvar Slider = _frogUtils.isBrowser ? __webpack_require__(/*! rc-slider */ \"../node_modules/rc-slider/es/index.js\").default // eslint-disable-line global-require\n: function () {\n  return React.createElement(\"p\", null, \"Node\");\n}; // React component to make Flow happy, will never be shown\n\nvar ShowDashExample =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ShowDashExample, _React$Component);\n\n  function ShowDashExample(_props) {\n    var _aTdashs$_this$state$, _aTdashs$_this$state$2;\n\n    var _this;\n\n    _classCallCheck(this, ShowDashExample);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ShowDashExample).call(this, _props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"logsProcessed\", 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isUnmounted\", false);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setActivityObj\", function (dashboards, data) {\n      var _dash$exampleLogs, _dash$exampleLogs$_th;\n\n      var dash = dashboards && dashboards[_this.state.example];\n\n      if (!dash || !dash.exampleLogs) {\n        return;\n      }\n\n      var activityMerge = (dash === null || dash === void 0 ? void 0 : (_dash$exampleLogs = dash.exampleLogs) === null || _dash$exampleLogs === void 0 ? void 0 : (_dash$exampleLogs$_th = _dash$exampleLogs[_this.state.idx]) === null || _dash$exampleLogs$_th === void 0 ? void 0 : _dash$exampleLogs$_th.activityMerge) || {};\n      _this.activityDbObject = _objectSpread({}, {\n        _id: 'preview',\n        data: data,\n        groupingKey: 'group',\n        plane: 2,\n        startTime: 0,\n        length: 3,\n        activityType: _this.props.activityType.id\n      }, activityMerge);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"fetchLogs\", function () {\n      var _dash$exampleLogs2;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      var _this$props$activityT = _this.props.activityType,\n          exampleData = _this$props$activityT.meta.exampleData,\n          dashboards = _this$props$activityT.dashboards;\n      var data = exampleData && exampleData[0].config || {};\n      var dash = dashboards && dashboards[_this.state.example];\n      var dashExample = dash === null || dash === void 0 ? void 0 : (_dash$exampleLogs2 = dash.exampleLogs) === null || _dash$exampleLogs2 === void 0 ? void 0 : _dash$exampleLogs2[_this.state.idx];\n\n      if (!dashExample || dashExample.type === 'state') {\n        return;\n      }\n\n      _this.setActivityObj(dashboards, data);\n\n      fetch(dashExample.path).then(function (response) {\n        return response.text();\n      }).then(function (rawResult) {\n        var result = rawResult.trim().split('\\n').map(function (x) {\n          return JSON.parse(x);\n        });\n        _this.activityDbObject.actualStartingTime = new Date(result[0].timestamp);\n\n        _this.setState({\n          logs: result\n        });\n\n        if (!_this.state.slider[_this.state.example]) {\n          _this.setState({\n            slider: _objectSpread({}, _this.state.slider, _defineProperty({}, _this.state.example, result.length - 1))\n          }, function () {\n            return _this.displaySubset(result.length - 1, undefined, true);\n          });\n        }\n      }).catch(function (err) {\n        return console.warn(\"/Users/stian/src/frog/frog/imports/ui/Preview/ShowDashExample.js(151:8)\", 'Error getting example logs', \"props.activityType.id\", props.activityType.id, \"this.state.example\", _this.state.example, \"err\", err);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"componentWillUnmount\", function () {\n      return _this.isUnmounted = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"clusterBySecond\", function () {\n      _this.timeseries = [];\n\n      _this.state.logs.forEach(function (log) {\n        var timeSeq = Math.floor((new Date(log.timestamp) - _this.activityDbObject.actualStartingTime) / 1000);\n\n        if (Array.isArray(_this.timeseries[timeSeq])) {\n          _this.timeseries[timeSeq].push(log);\n        } else {\n          _this.timeseries[timeSeq] = [log];\n        }\n      });\n\n      _this.loadBySeconds(_this.state.play, 0);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"loadBySeconds\", function (play, second) {\n      if (!_this.isUnmounted && _this.state.play !== false && play === _this.state.play) {\n        if (_this.timeseries[second]) {\n          _this.logsProcessed += _this.timeseries[second].length;\n\n          _this.displaySubset(_this.logsProcessed, _this.timeseries[second], second === 0);\n\n          _this.setState({\n            slider: _objectSpread({}, _this.state.slider, _defineProperty({}, _this.state.example, _this.logsProcessed))\n          });\n        }\n\n        if (_this.timeseries.length > second) {\n          window.setTimeout(function () {\n            return _this.loadBySeconds(_this.state.play, second + 1);\n          }, 1000 / [1, 2, 4, 8, 16, 32][_this.state.play]);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"displaySubset\", function (e, suppliedLogs) {\n      var restart = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (e === 0 && _this.state.oldSlider === _this.state.logs.length - 1) {\n        // fixes bug which kept resetting the graphs after they were automatically pushed to the end\n        return;\n      }\n\n      var aT = _this.props.activityType;\n\n      if (!aT.dashboards || !aT.dashboards[_this.state.example]) {\n        return;\n      }\n\n      var dash = aT.dashboards[_this.state.example];\n      var diff = e - _this.state.oldSlider;\n      var func = dash.prepareDataForDisplay;\n      var logs;\n      (0, _mergeLogData.createDashboards)({\n        activityType: aT.id,\n        _id: 'showExampleLogs'\n      }, restart || diff < 0);\n\n      if (diff > 0 || suppliedLogs && !restart) {\n        logs = suppliedLogs || _this.state.logs.slice(_this.state.oldSlider, e);\n      } else {\n        logs = _this.state.logs.slice(0, e);\n      }\n\n      _this.activityDbObject.actualClosingTime = suppliedLogs && suppliedLogs[suppliedLogs.length - 1].timestamp || _this.state.logs[e].timestamp;\n      var mergeLogFn = dash.mergeLog;\n      logs.forEach(function (log) {\n        return mergeLogFn(_cache.DashboardStates['showExampleLogs-' + _this.state.example], log, _this.activityDbObject);\n      });\n      var data = func ? func((0, _frogUtils.cloneDeep)(_cache.DashboardStates['showExampleLogs-' + _this.state.example]), _this.activityDbObject) : _cache.DashboardStates['showExampleLogs-' + _this.state.example];\n\n      _this.setState({\n        data: data,\n        oldSlider: e\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"throttledDisplaySubset\", (0, _lodash.throttle)(_this.displaySubset, 1000, {\n      leading: false\n    }));\n\n    _this.state = {\n      data: null,\n      example: '',\n      logs: [],\n      oldSlider: 0,\n      slider: {},\n      idx: 0,\n      play: false\n    };\n    var aTdashs = _this.props.activityType.dashboards;\n\n    if (aTdashs) {\n      var _example = Object.keys(aTdashs).find(function (x) {\n        return aTdashs[x] && aTdashs[x].exampleLogs;\n      });\n\n      if (_example && aTdashs[_example]) {\n        _this.state.data = aTdashs[_example].initData;\n        _this.state.example = _example;\n      }\n    }\n\n    var dashex = aTdashs === null || aTdashs === void 0 ? void 0 : (_aTdashs$_this$state$ = aTdashs[_this.state.example]) === null || _aTdashs$_this$state$ === void 0 ? void 0 : (_aTdashs$_this$state$2 = _aTdashs$_this$state$.exampleLogs) === null || _aTdashs$_this$state$2 === void 0 ? void 0 : _aTdashs$_this$state$2[0];\n\n    if (!dashex) {\n      return _possibleConstructorReturn(_this);\n    }\n\n    if (dashex.type === 'state') {\n      var _this$props$activityT2, _this$props$activityT3, _this$props$activityT4;\n\n      _this.state.data = dashex.state;\n\n      _this.setActivityObj(_this.props.activityType.dashboards, ((_this$props$activityT2 = _this.props.activityType.meta) === null || _this$props$activityT2 === void 0 ? void 0 : (_this$props$activityT3 = _this$props$activityT2.exampleData) === null || _this$props$activityT3 === void 0 ? void 0 : (_this$props$activityT4 = _this$props$activityT3[0]) === null || _this$props$activityT4 === void 0 ? void 0 : _this$props$activityT4.config) || {});\n    } else {\n      _this.fetchLogs();\n    }\n\n    return _this;\n  }\n\n  _createClass(ShowDashExample, [{\n    key: \"render\",\n    value: function render() {\n      var _aTdashs$this$state$e,\n          _aTdashs$this$state$e2,\n          _this2 = this;\n\n      var instances = [];\n      var users = {};\n      var logs = this.state.logs;\n      var aTdashs = this.props.activityType.dashboards;\n\n      if (!aTdashs) {\n        return React.createElement(\"p\", null, \"Activity type has no dashboard\");\n      }\n\n      var dashNames = Object.keys(aTdashs).filter(function (x) {\n        return aTdashs[x] && aTdashs[x].exampleLogs;\n      });\n      var dash = aTdashs[this.state.example];\n\n      if (!dash && !dash.exampleLogs) {\n        return React.createElement(\"p\", null, \"The chosen dashboard has no example logs/state\");\n      }\n\n      var examples = (dash.exampleLogs || []).map(function (x) {\n        return x.title;\n      });\n      var Viewer = aTdashs[this.state.example].Viewer;\n\n      if (((_aTdashs$this$state$e = aTdashs[this.state.example].exampleLogs) === null || _aTdashs$this$state$e === void 0 ? void 0 : _aTdashs$this$state$e[this.state.idx].type) === 'logs' && !this.state.logs || ((_aTdashs$this$state$e2 = aTdashs[this.state.example].exampleLogs) === null || _aTdashs$this$state$e2 === void 0 ? void 0 : _aTdashs$this$state$e2[this.state.idx].type) === 'state' && !this.state.data) {\n        return React.createElement(_CircularProgress.CircularProgress, null);\n      }\n\n      return React.createElement(\"div\", {\n        style: {\n          overflow: 'hidden'\n        }\n      }, React.createElement(\"div\", {\n        style: {\n          height: '30px'\n        }\n      }, React.createElement(_MultiWrapper.DashboardSelector, {\n        selected: this.state.exampleIdx,\n        onChange: function onChange(x) {\n          var _mydash$exampleLogs, _mydash$exampleLogs$x;\n\n          _this2.logsProcessed = 0;\n          var mydash = aTdashs[dashNames[x]];\n          var data;\n\n          if ((mydash === null || mydash === void 0 ? void 0 : (_mydash$exampleLogs = mydash.exampleLogs) === null || _mydash$exampleLogs === void 0 ? void 0 : (_mydash$exampleLogs$x = _mydash$exampleLogs[x]) === null || _mydash$exampleLogs$x === void 0 ? void 0 : _mydash$exampleLogs$x.type) === 'state') {\n            data = mydash.exampleLogs[x].state;\n          } else if (mydash.prepareDataForDisplay) {\n            data = mydash.prepareDataForDisplay(mydash.initData, _this2.activityDbObject);\n          } else {\n            data = mydash.initData;\n          }\n\n          _this2.setState({\n            slider: _objectSpread({}, _this2.state.slider, _defineProperty({}, _this2.state.example, 0)),\n            oldSlider: 0,\n            data: data,\n            logs: [],\n            idx: 0,\n            exampleIdx: x,\n            example: dashNames[x],\n            play: false\n          }, function () {\n            return _this2.fetchLogs();\n          });\n        },\n        dashNames: dashNames\n      })), React.createElement(\"div\", {\n        style: {\n          height: '30px'\n        }\n      }, React.createElement(_MultiWrapper.DashboardSelector, {\n        selected: this.state.idx,\n        onChange: function onChange(x) {\n          var _mydash$exampleLogs2;\n\n          _this2.logsProcessed = 0;\n          var mydash = aTdashs[_this2.state.example];\n          var data;\n\n          if ((mydash === null || mydash === void 0 ? void 0 : (_mydash$exampleLogs2 = mydash.exampleLogs) === null || _mydash$exampleLogs2 === void 0 ? void 0 : _mydash$exampleLogs2[x].type) === 'state') {\n            var _mydash$exampleLogs3;\n\n            data = (_mydash$exampleLogs3 = mydash.exampleLogs) === null || _mydash$exampleLogs3 === void 0 ? void 0 : _mydash$exampleLogs3[x].state;\n          } else if (mydash.prepareDataForDisplay) {\n            data = mydash.prepareDataForDisplay(mydash.initData, _this2.activityDbObject);\n          } else {\n            data = mydash.initData;\n          }\n\n          _this2.setState({\n            oldSlider: 0,\n            slider: _objectSpread({}, _this2.state.slider, _defineProperty({}, _this2.state.example, 0)),\n            data: data,\n            logs: [],\n            idx: x,\n            play: false\n          }, function () {\n            return _this2.fetchLogs();\n          });\n        },\n        dashNames: examples\n      })), !(0, _lodash.isEmpty)(this.state.logs) && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        style: {\n          height: '30px'\n        }\n      }, React.createElement(_MultiWrapper.DashboardSelector, {\n        onChange: function onChange(x) {\n          if (_this2.state.play === x) {\n            _this2.setState({\n              play: false\n            });\n          } else {\n            var data;\n\n            if (dash.prepareDataForDisplay) {\n              data = dash.prepareDataForDisplay(dash.initData, _this2.activityDbObject);\n            } else {\n              data = dash.initData;\n            }\n\n            _this2.setState({\n              data: data,\n              oldSlider: 0,\n              play: x\n            }, function () {\n              _this2.logsProcessed = 0;\n\n              _this2.clusterBySecond();\n            });\n          }\n        },\n        dashNames: ['1x', '2x', '4x', '8x', '16x', '32x'],\n        selected: this.state.play || 0\n      })), React.createElement(Slider, {\n        value: this.state.slider[this.state.example] || 0,\n        min: 0,\n        max: logs.length - 1,\n        onChange: function onChange(e) {\n          _this2.setState({\n            play: false,\n            slider: _objectSpread({}, _this2.state.slider, _defineProperty({}, _this2.state.example, e))\n          });\n\n          _this2.throttledDisplaySubset(e);\n        }\n      })), React.createElement(_core.Paper, {\n        style: {\n          height: 'calc(100vh - 250px)'\n        }\n      }, this.props.showLogs ? React.createElement(_frogUtils.Inspector, {\n        data: this.state.logs\n      }) : React.createElement(Viewer, {\n        users: users,\n        activity: this.activityDbObject,\n        object: {\n          activityData: {\n            structure: 'all',\n            payload: {\n              all: {\n                data: {},\n                config: {}\n              }\n            }\n          },\n          socialStructure: {},\n          globalStructure: {\n            students: {},\n            studentIds: []\n          }\n        },\n        instances: instances,\n        config: this.activityDbObject.data,\n        state: this.state.data\n      })));\n    }\n  }]);\n\n  return ShowDashExample;\n}(React.Component);\n\nvar _default = ShowDashExample;\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/Preview/ShowDashExample.js?");

/***/ }),

/***/ "./imports/ui/Preview/ShowInfo.js":
/*!****************************************!*\
  !*** ./imports/ui/Preview/ShowInfo.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ShowInfoDash = exports.default = void 0;\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _activityTypes = __webpack_require__(/*! ../../activityTypes */ \"./imports/activityTypes.js\");\n\nvar _copyToClipboard = _interopRequireDefault(__webpack_require__(/*! copy-to-clipboard */ \"../node_modules/copy-to-clipboard/index.js\"));\n\nvar _jsonStringifyPrettyCompact = _interopRequireDefault(__webpack_require__(/*! json-stringify-pretty-compact */ \"../node_modules/json-stringify-pretty-compact/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// flow\nvar CopyButton = function CopyButton(_ref) {\n  var data = _ref.data;\n  return _react.default.createElement(_frogUtils.A, {\n    onClick: function onClick() {\n      return (0, _copyToClipboard.default)((0, _jsonStringifyPrettyCompact.default)(data));\n    }\n  }, _react.default.createElement(\"i\", {\n    className: \"fa fa-clipboard\",\n    \"data-tip\": \"Copy to clipboard\"\n  }));\n};\n\nvar Data = function Data(_ref2) {\n  var title = _ref2.title,\n      data = _ref2.data;\n  return _react.default.createElement(\"div\", {\n    style: {\n      flexBasis: 0,\n      flexGrow: 1,\n      marginLeft: '50px'\n    }\n  }, _react.default.createElement(\"h3\", null, title, \" \", _react.default.createElement(CopyButton, {\n    data: data\n  })), _react.default.createElement(_frogUtils.Inspector, {\n    data: data\n  }));\n};\n\nvar ShowInfo = function ShowInfo(_ref3) {\n  var activityData = _ref3.activityData,\n      data = _ref3.data,\n      activityType = _ref3.activityType,\n      userInfo = _ref3.userInfo;\n  var formatter = _activityTypes.activityTypesObj[activityType].formatProduct;\n  return _react.default.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'space-around'\n    }\n  }, _react.default.createElement(Data, {\n    title: \"Config\",\n    data: activityData.config\n  }), _react.default.createElement(Data, {\n    title: \"activityData\",\n    data: activityData.data\n  }), _react.default.createElement(Data, {\n    title: \"currently reactive data\",\n    data: data\n  }), formatter && _react.default.createElement(Data, {\n    title: \"formatProduct\",\n    data: formatter(activityData.config, data, userInfo.id)\n  }));\n};\n\nvar _default = ShowInfo;\nexports.default = _default;\n\nvar ShowInfoDash = function ShowInfoDash(_ref4) {\n  var state = _ref4.state,\n      prepareDataForDisplay = _ref4.prepareDataForDisplay;\n  return _react.default.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'space-around'\n    }\n  }, _react.default.createElement(\"div\", {\n    style: {\n      flexBasis: 0,\n      flexGrow: 1\n    }\n  }, _react.default.createElement(\"h3\", null, \"State\"), _react.default.createElement(_frogUtils.Inspector, {\n    data: state\n  })), _react.default.createElement(\"div\", {\n    style: {\n      flexBasis: 0,\n      flexGrow: 1,\n      marginLeft: '50px'\n    }\n  }, _react.default.createElement(\"h3\", null, \"prepareDataForDisplay\"), _react.default.createElement(_frogUtils.Inspector, {\n    data: prepareDataForDisplay\n  })));\n};\n\nexports.ShowInfoDash = ShowInfoDash;\n\n//# sourceURL=webpack:///./imports/ui/Preview/ShowInfo.js?");

/***/ }),

/***/ "./imports/ui/Preview/ShowLogs.js":
/*!****************************************!*\
  !*** ./imports/ui/Preview/ShowLogs.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _jsonStringifyPrettyCompact = _interopRequireDefault(__webpack_require__(/*! json-stringify-pretty-compact */ \"../node_modules/json-stringify-pretty-compact/index.js\"));\n\nvar _reactTooltip = _interopRequireDefault(__webpack_require__(/*! react-tooltip */ \"../node_modules/react-tooltip/dist/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = function _default(_ref) {\n  var logs = _ref.logs;\n  return _react.default.createElement(\"div\", null, _react.default.createElement(\"table\", null, _react.default.createElement(\"thead\", null, _react.default.createElement(\"tr\", null, _react.default.createElement(\"th\", null, \"timestamp\"), _react.default.createElement(\"th\", {\n    style: {\n      width: '50px'\n    }\n  }, \"userId\"), _react.default.createElement(\"th\", {\n    style: {\n      width: '50px'\n    }\n  }, \"instanceId\"), _react.default.createElement(\"th\", null, \"activityType\"), _react.default.createElement(\"th\", null, \"type\"), _react.default.createElement(\"th\", null, \"itemId\"), _react.default.createElement(\"th\", null, \"value\"), _react.default.createElement(\"th\", {\n    style: {\n      width: '50px'\n    }\n  }, \"payload\"), _react.default.createElement(\"th\", {\n    style: {\n      width: '50px'\n    }\n  }, \"raw\"))), _react.default.createElement(\"tbody\", null, logs.map(function (x) {\n    return _react.default.createElement(\"tr\", {\n      key: x._id\n    }, _react.default.createElement(\"td\", null, x.timestamp.toTimeString()), _react.default.createElement(\"td\", {\n      style: {\n        width: '50px'\n      }\n    }, x.userId), _react.default.createElement(\"td\", {\n      style: {\n        width: '50px'\n      }\n    }, x.instanceId), _react.default.createElement(\"td\", null, x.activityType), _react.default.createElement(\"td\", null, x.type), _react.default.createElement(\"td\", null, x.itemId), _react.default.createElement(\"td\", null, x.value), _react.default.createElement(\"td\", {\n      \"data-tip\": x.payload && (0, _jsonStringifyPrettyCompact.default)(x.payload).replace(/\\n/gi, '<br>'),\n      style: {\n        width: '50px'\n      }\n    }, \"Payload\"), _react.default.createElement(\"td\", {\n      \"data-tip\": (0, _jsonStringifyPrettyCompact.default)(x).replace(/\\n/gi, '<br>'),\n      style: {\n        width: '50px'\n      }\n    }, \"raw\"));\n  }))), _react.default.createElement(_reactTooltip.default, {\n    multiline: true\n  }));\n};\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/Preview/ShowLogs.js?");

/***/ }),

/***/ "./imports/ui/Preview/dashboardInPreviewAPI.js":
/*!*****************************************************!*\
  !*** ./imports/ui/Preview/dashboardInPreviewAPI.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DashPreviewWrapper = exports.createLogger = exports.activityDbObject = exports.hasDashExample = exports.initDashboardDocuments = exports.Logs = exports.DocumentCache = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _CircularProgress = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/CircularProgress */ \"../node_modules/@material-ui/core/CircularProgress/index.js\"));\n\nvar _recompose = __webpack_require__(/*! recompose */ \"../node_modules/recompose/dist/Recompose.esm.js\");\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _Preview = __webpack_require__(/*! ./Preview */ \"./imports/ui/Preview/Preview.js\");\n\nvar _mergeLogData = __webpack_require__(/*! ../../api/mergeLogData */ \"./imports/api/mergeLogData.js\");\n\nvar _MultiWrapper = _interopRequireDefault(__webpack_require__(/*! ../Dashboard/MultiWrapper */ \"./imports/ui/Dashboard/MultiWrapper.jsx\"));\n\nvar _activityTypes = __webpack_require__(/*! ../../activityTypes */ \"./imports/activityTypes.js\");\n\nvar _cache = __webpack_require__(/*! ../../api/cache */ \"./imports/api/cache.js\");\n\nvar _ShowInfo = __webpack_require__(/*! ./ShowInfo */ \"./imports/ui/Preview/ShowInfo.js\");\n\nvar _Content = __webpack_require__(/*! ./Content */ \"./imports/ui/Preview/Content.jsx\");\n\nvar _Controls = __webpack_require__(/*! ./Controls */ \"./imports/ui/Preview/Controls.jsx\");\n\nvar _LIDashboard = _interopRequireDefault(__webpack_require__(/*! ../Dashboard/LIDashboard */ \"./imports/ui/Dashboard/LIDashboard.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar DocumentCache = {};\nexports.DocumentCache = DocumentCache;\nvar Logs = [];\nexports.Logs = Logs;\n\nvar initDashboardDocuments = function initDashboardDocuments(activityType, refresh) {\n  if (activityType && activityType.dashboards) {\n    (0, _mergeLogData.createDashboards)({\n      activityType: activityType.id,\n      _id: activityType.id\n    }, refresh);\n  }\n};\n\nexports.initDashboardDocuments = initDashboardDocuments;\n\nvar reactiveWrapper = function reactiveWrapper(act, reactiveToDisplay) {\n  var query = _Preview.connection.createSubscribeQuery('rz', {\n    _id: {\n      $regex: '^preview-' + act.activityType + '/'\n    }\n  });\n\n  return function (_, __) {\n    if (!query.ready) {\n      return null;\n    }\n\n    var data = (query.results || []).reduce(function (acc, res) {\n      return _objectSpread({}, acc, _defineProperty({}, res.id.split('/')[1], res.data));\n    }, {});\n    return reactiveToDisplay(data, act);\n  };\n};\n\nvar hasDashExample = function hasDashExample(aT) {\n  return aT.dashboards && (0, _frogUtils.values)(aT.dashboards).reduce(function (acc, dash) {\n    return acc || dash && !!dash.exampleLogs;\n  }, false);\n};\n\nexports.hasDashExample = hasDashExample;\n\nvar activityDbObject = function activityDbObject(config, activityType, startingTime, plane) {\n  return {\n    _id: activityType,\n    data: config,\n    groupingKey: plane === 2 ? 'group' : '',\n    plane: plane,\n    actualStartingTime: startingTime || new Date(Date.now()),\n    startTime: 0,\n    length: 3,\n    activityType: activityType\n  };\n};\n\nexports.activityDbObject = activityDbObject;\n\nvar createLogger = function createLogger(sessionId, instanceId, activityType, activityId, userId, activityPlane, config) {\n  var aT = _activityTypes.activityTypesObj[activityType];\n  initDashboardDocuments(aT, false);\n  var actualStartingTime = new Date();\n  var logExtra = {\n    userId: userId,\n    sessionId: sessionId,\n    activityType: activityType,\n    activityId: activityId,\n    activityPlane: activityPlane,\n    instanceId: instanceId\n  };\n\n  var logger = function logger(logItems) {\n    var extra = _objectSpread({}, logExtra, {\n      timestamp: new Date()\n    });\n\n    var items = Array.isArray(logItems) ? logItems : [logItems];\n    items.forEach(function (x) {\n      return Logs.push(_objectSpread({}, x, extra));\n    });\n    var acDbObj = activityDbObject(config, activityId, actualStartingTime, activityPlane);\n    (0, _mergeLogData.mergeLog)(items, extra, acDbObj);\n  };\n\n  return logger;\n};\n\nexports.createLogger = createLogger;\n\nvar PreviewDash =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PreviewDash, _React$Component);\n\n  function PreviewDash(props) {\n    var _this$aT, _this$aT$dashboards;\n\n    var _this;\n\n    _classCallCheck(this, PreviewDash);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PreviewDash).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"oldInput\", undefined);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"oldState\", {});\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"dashId\", _this.props.activity._id + '-' + _this.props.name);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"componentDidMount\", function () {\n      _this.interval = setInterval(function () {\n        var _this$dash;\n\n        return _this.update((_this$dash = _this.dash) === null || _this$dash === void 0 ? void 0 : _this$dash.reactiveToDisplay);\n      }, 1000);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"update\", function (reactive) {\n      if (_cache.DashboardStates[_this.dashId]) {\n        if (reactive || !(0, _lodash.isEqual)(_this.oldInput, _cache.DashboardStates[_this.dashId])) {\n          var newState = _this.prepDataFn((0, _frogUtils.cloneDeep)(_cache.DashboardStates[_this.dashId]), _this.props.activity);\n\n          if (!(0, _lodash.isEqual)(_this.oldState, newState)) {\n            _this.setState({\n              state: newState\n            });\n          }\n\n          _this.oldState = newState;\n          _this.oldInput = (0, _frogUtils.cloneDeep)(_cache.DashboardStates[_this.dashId]);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"componentWillUnmount\", function () {\n      if (_this.interval) {\n        clearInterval(_this.interval);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"render\", function () {\n      if (_this.props.name === 'Learning Items') {\n        return React.createElement(_LIDashboard.default, {\n          activityId: _this.props.activity._id\n        });\n      }\n\n      if (!_this.aT) {\n        return React.createElement(\"p\", null, \"Chose an activity type\");\n      }\n\n      if (!_this.dash) {\n        return React.createElement(\"p\", null, \"This activity has no dashboard\");\n      }\n\n      var Viewer = _this.dash.Viewer;\n      return _this.state.state ? _this.props.showData ? React.createElement(_ShowInfo.ShowInfoDash, {\n        state: _cache.DashboardStates[_this.dashId],\n        prepareDataForDisplay: _this.dash.prepareDataForDisplay ? _this.state.state : null\n      }) : React.createElement(Viewer, {\n        object: _this.props.object,\n        state: _this.state.state,\n        activity: _this.props.activity,\n        instances: (0, _lodash.uniq)(_this.props.instances),\n        users: _this.props.users,\n        LearningItem: _this.dataFn.LearningItem\n      }) : null;\n    });\n\n    _this.dataFn = (0, _Content.generateDataFn)();\n    _this.aT = _activityTypes.activityTypesObj[_this.props.activity.activityType];\n    _this.dash = (_this$aT = _this.aT) === null || _this$aT === void 0 ? void 0 : (_this$aT$dashboards = _this$aT.dashboards) === null || _this$aT$dashboards === void 0 ? void 0 : _this$aT$dashboards[_this.props.name];\n\n    if (_this.dash) {\n      if (_this.dash.prepareDataForDisplay) {\n        _this.prepDataFn = _this.dash.prepareDataForDisplay;\n      } else if (_this.dash.reactiveToDisplay) {\n        _this.prepDataFn = reactiveWrapper(_this.props.activity, _this.dash.reactiveToDisplay);\n      } else {\n        _this.prepDataFn = function (x, _) {\n          return x;\n        };\n      }\n    }\n\n    var dashState = _cache.DashboardStates[_this.dashId];\n    _this.state = {\n      state: dashState && _this.prepDataFn((0, _frogUtils.cloneDeep)(dashState), _this.props.activity)\n    };\n    return _this;\n  }\n\n  return PreviewDash;\n}(React.Component);\n\nvar DashPreviewWrapper = (0, _recompose.withState)('ready', 'setReady', false)(function (props) {\n  var instances = props.instances,\n      users = props.users,\n      activityType = props.activityType,\n      config = props.config,\n      ready = props.ready,\n      setReady = props.setReady,\n      showData = props.showData,\n      plane = props.plane;\n\n  if (!ready) {\n    initDashboardDocuments(activityType, false);\n    setReady(true);\n  }\n\n  var activity = activityDbObject(config, activityType.id, undefined, plane);\n  var studentGroups = {};\n  Object.keys(users).forEach(function (x, i) {\n    studentGroups[x] = {\n      group: (0, _Controls.groupName)(i)\n    };\n  });\n  var socStruct = (0, _frogUtils.focusRole)(studentGroups);\n  var object = {\n    activityData: {\n      structure: 'all',\n      payload: {\n        all: {\n          data: {},\n          config: {}\n        }\n      }\n    },\n    socialStructure: socStruct,\n    globalStructure: {\n      students: users,\n      studentIds: Object.keys(users)\n    }\n  };\n  return ready ? React.createElement(_MultiWrapper.default, {\n    ready: true,\n    object: object,\n    activity: activity,\n    instances: instances,\n    users: users\n  }, function (e) {\n    return React.createElement(PreviewDash, {\n      showData: showData,\n      object: object,\n      key: activityType.id + e,\n      name: e,\n      activity: activity,\n      instances: instances,\n      users: users\n    });\n  }) : React.createElement(_CircularProgress.default, null);\n});\nexports.DashPreviewWrapper = DashPreviewWrapper;\n\n//# sourceURL=webpack:///./imports/ui/Preview/dashboardInPreviewAPI.js?");

/***/ }),

/***/ "./imports/ui/Preview/index.js":
/*!*************************************!*\
  !*** ./imports/ui/Preview/index.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.addDefaultExample = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _Preview = _interopRequireDefault(__webpack_require__(/*! ./Preview */ \"./imports/ui/Preview/Preview.js\"));\n\nvar _activityTypes = __webpack_require__(/*! ../../activityTypes */ \"./imports/activityTypes.js\");\n\nvar _ErrorWrapper = _interopRequireDefault(__webpack_require__(/*! ./ErrorWrapper */ \"./imports/ui/Preview/ErrorWrapper.js\"));\n\nvar _Content = __webpack_require__(/*! ./Content */ \"./imports/ui/Preview/Content.jsx\");\n\nvar _dashboardInPreviewAPI = __webpack_require__(/*! ./dashboardInPreviewAPI */ \"./imports/ui/Preview/dashboardInPreviewAPI.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar addDefaultExample = function addDefaultExample(activityType) {\n  return [{\n    title: 'Default config',\n    data: undefined,\n    config: (0, _frogUtils.defaultConfig)(activityType),\n    type: undefined\n  }].concat(_toConsumableArray(activityType.meta.exampleData || []));\n};\n\nexports.addDefaultExample = addDefaultExample;\nvar defaultState = {\n  delay: false,\n  example: 0,\n  fullWindow: false,\n  reloadActivity: (0, _frogUtils.uuid)(),\n  showData: false,\n  showDash: false,\n  showDashExample: false,\n  showLogs: false,\n  users: ['Chen Li'],\n  instances: ['group1'],\n  plane: 2,\n  config: {},\n  metadatas: {\n    uuid: '',\n    title: '',\n    description: '',\n    tags: []\n  },\n  activityTypeId: null,\n  reloadAPIform: ''\n};\n\nvar PreviewPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PreviewPage, _React$Component);\n\n  function PreviewPage(props) {\n    var _this;\n\n    _classCallCheck(this, PreviewPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PreviewPage).call(this, props));\n\n    if (_this.props.modal) {\n      _this.state = _objectSpread({}, defaultState, {\n        activityTypeId: _this.props.activityTypeId,\n        config: _objectSpread({}, _this.props.config),\n        modal: true,\n        dismiss: _this.props.dismiss,\n        reloadActivity: (0, _frogUtils.uuid)()\n      });\n\n      if (!_this.state.activityTypeId) {\n        return _possibleConstructorReturn(_this, null);\n      }\n\n      var activityType = _activityTypes.activityTypesObj[_this.state.activityTypeId];\n      (0, _Content.initActivityDocuments)(_this.state.instances, activityType, _this.state.example, _this.state.config, true); // resets the reactive documents for the dashboard\n\n      (0, _dashboardInPreviewAPI.initDashboardDocuments)(activityType, true);\n    } else {\n      var statedump = sessionStorage.getItem('previewstate');\n\n      var _state;\n\n      if (statedump) {\n        try {\n          _state = JSON.parse(statedump);\n        } catch (e) {\n          console.warn(\"/Users/stian/src/frog/frog/imports/ui/Preview/index.js(76:10)\", 'Could not parse sessionStorage', \"statedump\", statedump, \"e\", e);\n        }\n      }\n\n      if (_state && _state.activityTypeId) {\n        var _activityType = _activityTypes.activityTypesObj[_state.activityTypeId];\n        _this.state = _state;\n        (0, _Content.initActivityDocuments)(_state.instances, _activityType, _state.example, _state.config, true); // resets the reactive documents for the dashboard\n\n        (0, _dashboardInPreviewAPI.initDashboardDocuments)(_activityType, true);\n      } else {\n        _this.state = defaultState;\n      }\n    }\n\n    _this.setStates = {\n      setDelay: function setDelay(delay) {\n        return _this.setState({\n          delay: delay\n        });\n      },\n      setExample: function setExample(example) {\n        return _this.setState({\n          example: example\n        });\n      },\n      setFullWindow: function setFullWindow(fullWindow) {\n        return _this.setState({\n          fullWindow: fullWindow\n        });\n      },\n      setShowData: function setShowData(showData) {\n        return _this.setState({\n          showData: showData\n        });\n      },\n      setShowDash: function setShowDash(showDash) {\n        return _this.setState({\n          showDash: showDash\n        });\n      },\n      setShowDashExample: function setShowDashExample(showDashExample) {\n        return _this.setState({\n          showDashExample: showDashExample\n        });\n      },\n      setShowLogs: function setShowLogs(showLogs) {\n        return _this.setState({\n          showLogs: showLogs\n        });\n      },\n      setUsers: function setUsers(users) {\n        return _this.setState({\n          users: users\n        });\n      },\n      setInstances: function setInstances(instances) {\n        return _this.setState({\n          instances: instances\n        });\n      },\n      setReloadActivity: function setReloadActivity(reloadActivity) {\n        return _this.setState({\n          reloadActivity: reloadActivity\n        });\n      },\n      setPlane: function setPlane(plane) {\n        return _this.setState({\n          plane: plane\n        });\n      },\n      setConfig: function setConfig(config) {\n        return _this.setState({\n          config: config\n        });\n      },\n      setReloadAPIform: function setReloadAPIform(reloadAPIform) {\n        return _this.setState({\n          reloadAPIform: reloadAPIform\n        });\n      },\n      setMetadatas: function setMetadatas(metadatas) {\n        return _this.setState({\n          metadatas: metadatas\n        });\n      },\n      setActivityTypeId: function setActivityTypeId(activityTypeId) {\n        var _activityTypesObj$act, _activityTypesObj$act2;\n\n        if (!(((_activityTypesObj$act = _activityTypes.activityTypesObj[activityTypeId]) === null || _activityTypesObj$act === void 0 ? void 0 : (_activityTypesObj$act2 = _activityTypesObj$act.meta) === null || _activityTypesObj$act2 === void 0 ? void 0 : _activityTypesObj$act2.preview) === false)) {\n          _this.setState({\n            activityTypeId: activityTypeId\n          });\n        }\n      }\n    };\n    return _this;\n  }\n\n  _createClass(PreviewPage, [{\n    key: \"render\",\n    value: function render() {\n      if (!this.props.modal) {\n        sessionStorage.setItem('previewstate', JSON.stringify((0, _lodash.omit)(this.state, 'modal')));\n      }\n\n      return React.createElement(_Preview.default, _objectSpread({}, this.state, this.setStates));\n    }\n  }]);\n\n  return PreviewPage;\n}(React.Component);\n\nPreviewPage.displayName = 'PreviewPage';\n\nvar _default = function _default(props) {\n  return React.createElement(_ErrorWrapper.default, null, React.createElement(PreviewPage, props));\n};\n\nexports.default = _default;\n\n//# sourceURL=webpack:///./imports/ui/Preview/index.js?");

/***/ })

}]);
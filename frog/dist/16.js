(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[16],{

/***/ "../ac/ac-videochat/src/ActivityRunner/Header.js":
/*!*******************************************************!*\
  !*** ../ac/ac-videochat/src/ActivityRunner/Header.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = function _default(_ref) {\n  var activityData = _ref.activityData;\n  return _react.default.createElement(\"div\", null, _react.default.createElement(\"h1\", null, activityData.config.title), _react.default.createElement(\"p\", null, activityData.config.info));\n};\n\nexports.default = _default;\n\n//# sourceURL=webpack:///../ac/ac-videochat/src/ActivityRunner/Header.js?");

/***/ }),

/***/ "../ac/ac-videochat/src/ActivityRunner/ParticipantsView.js":
/*!*****************************************************************!*\
  !*** ../ac/ac-videochat/src/ActivityRunner/ParticipantsView.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _core = __webpack_require__(/*! @material-ui/core */ \"../node_modules/@material-ui/core/index.es.js\");\n\nvar _PanTool = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/PanTool */ \"../node_modules/@material-ui/icons/PanTool.js\"));\n\nvar _Videocam = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/Videocam */ \"../node_modules/@material-ui/icons/Videocam.js\"));\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar styles = {\n  buttonBoxS: {\n    border: 'none',\n    color: 'white',\n    padding: '20px',\n    textAlign: 'center',\n    textDecoration: 'none',\n    display: 'inline-block',\n    fontSize: '16px',\n    margin: '4px 2px',\n    cursor: 'pointer',\n    borderRadius: '50%'\n  }\n};\n\nvar ParticipantsView =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ParticipantsView, _React$Component);\n\n  function ParticipantsView() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ParticipantsView);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ParticipantsView)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      raiseHand: false\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"giveMic\", function (participantId) {\n      if (_this.props.giveMic) {\n        _this.props.giveMic(participantId);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"sortParticipants\", function (a, b) {\n      var t = _this.props.isTeacher({\n        name: b.name\n      }) - _this.props.isTeacher({\n        name: a.name\n      });\n\n      if (t < 0) return -1;\n      if (t > 0) return 1;\n      var stream = b.streaming - a.streaming;\n      if (stream < 0) return -1;\n      if (stream > 0) return 1;\n      return b.raisedHand - a.raisedHand;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"raiseHand\", function () {\n      if (_this.props.raiseHand) {\n        _this.props.raiseHand(!_this.state.raiseHand);\n\n        _this.setState({\n          raiseHand: !_this.state.raiseHand\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(ParticipantsView, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      var p = nextProps.participants.find(function (x) {\n        return x.id === _this2.props.myId;\n      });\n\n      if (p && p.streaming) {\n        this.setState({\n          raiseHand: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          giveMic = _this$props.giveMic,\n          raiseHand = _this$props.raiseHand;\n      var participants = (0, _lodash.uniqBy)(this.props.participants, 'id').sort(this.sortParticipants);\n      return React.createElement(\"div\", {\n        style: {\n          height: 'auto',\n          overflow: 'hidden'\n        }\n      }, React.createElement(_core.Typography, {\n        variant: \"title\"\n      }, \"Participants online\"), raiseHand && React.createElement(\"button\", {\n        style: styles.buttonBoxS,\n        onClick: this.raiseHand\n      }, React.createElement(_PanTool.default, {\n        color: this.state.raiseHand ? 'secondary' : 'primary'\n      })), React.createElement(_core.List, {\n        dense: true,\n        style: {\n          display: 'inline-block',\n          maxHeight: '100%',\n          overflow: 'auto'\n        }\n      }, participants.map(function (p) {\n        return React.createElement(_core.ListItem, {\n          key: p.id,\n          style: {\n            cursor: p.raisedHand ? 'pointer' : 'auto'\n          },\n          onClick: function onClick() {\n            if (giveMic) {\n              _this3.giveMic(p.id);\n            }\n          }\n        }, React.createElement(_core.ListItemText, {\n          primary: p.name\n        }), (p.raisedHand && p.id !== _this3.props.myId || p.id === _this3.props.myId && _this3.state.raiseHand) && React.createElement(_core.ListItemAvatar, null, React.createElement(_core.Avatar, null, React.createElement(_PanTool.default, {\n          color: \"primary\"\n        }))), p.streaming && React.createElement(_core.ListItemAvatar, null, React.createElement(_core.Avatar, null, React.createElement(_Videocam.default, {\n          color: _this3.props.isTeacher({\n            name: p.name\n          }) ? 'primary' : 'secondary'\n        }))));\n      })));\n    }\n  }]);\n\n  return ParticipantsView;\n}(React.Component);\n\nvar _default = ParticipantsView;\nexports.default = _default;\n\n//# sourceURL=webpack:///../ac/ac-videochat/src/ActivityRunner/ParticipantsView.js?");

/***/ }),

/***/ "../ac/ac-videochat/src/ActivityRunner/Video.js":
/*!******************************************************!*\
  !*** ../ac/ac-videochat/src/ActivityRunner/Video.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Video =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Video, _React$Component);\n\n  function Video(props) {\n    var _this;\n\n    _classCallCheck(this, Video);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Video).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setSource\", function (srcObject) {\n      var video = _this.videoRef.current;\n      video.srcObject = srcObject;\n    });\n\n    _this.videoRef = _react.default.createRef();\n    return _this;\n  }\n\n  _createClass(Video, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return nextProps.videoId !== this.props.videoId || nextProps.mute !== this.props.mute || nextProps.srcObject !== this.props.srcObject;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setSource(this.props.srcObject);\n    } // when component updates, set up video source\n\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.setSource(this.props.srcObject);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(\"video\", {\n        ref: this.videoRef,\n        playsInline: true,\n        id: this.props.videoId,\n        autoPlay: true,\n        muted: this.props.mute,\n        name: this.props.srcObject.id,\n        height: \"100%\",\n        width: \"100%\"\n      });\n    }\n  }]);\n\n  return Video;\n}(_react.default.Component);\n\nvar _default = Video;\nexports.default = _default;\n\n//# sourceURL=webpack:///../ac/ac-videochat/src/ActivityRunner/Video.js?");

/***/ }),

/***/ "../ac/ac-videochat/src/ActivityRunner/VideoLayout.js":
/*!************************************************************!*\
  !*** ../ac/ac-videochat/src/ActivityRunner/VideoLayout.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _lodash = __webpack_require__(/*! lodash */ \"../node_modules/lodash/lodash.js\");\n\nvar _Mic = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/Mic */ \"../node_modules/@material-ui/icons/Mic.js\"));\n\nvar _MicOff = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/MicOff */ \"../node_modules/@material-ui/icons/MicOff.js\"));\n\nvar _Videocam = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/Videocam */ \"../node_modules/@material-ui/icons/Videocam.js\"));\n\nvar _VideocamOff = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/VideocamOff */ \"../node_modules/@material-ui/icons/VideocamOff.js\"));\n\nvar _ScreenShare = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/ScreenShare */ \"../node_modules/@material-ui/icons/ScreenShare.js\"));\n\nvar _StopScreenShare = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/StopScreenShare */ \"../node_modules/@material-ui/icons/StopScreenShare.js\"));\n\nvar _Fullscreen = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/Fullscreen */ \"../node_modules/@material-ui/icons/Fullscreen.js\"));\n\nvar _Cancel = _interopRequireDefault(__webpack_require__(/*! @material-ui/icons/Cancel */ \"../node_modules/@material-ui/icons/Cancel.js\"));\n\nvar _Video = _interopRequireDefault(__webpack_require__(/*! ./Video */ \"../ac/ac-videochat/src/ActivityRunner/Video.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar styles = {\n  videoBoxS: {\n    width: '200px',\n    flex: '0 1 auto',\n    margin: 'auto',\n    textAlign: 'center',\n    fontSize: '1.20em'\n  },\n  layoutBoxS: {\n    width: '100%',\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  buttonBoxS: {\n    backgroundColor: '#3f51b5',\n    border: 'none',\n    color: 'white',\n    padding: '20px',\n    textAlign: 'center',\n    textDecoration: 'none',\n    display: 'inline-block',\n    fontSize: '16px',\n    margin: '4px 2px',\n    cursor: 'pointer',\n    borderRadius: '50%'\n  }\n};\n\nvar VideoLayout =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(VideoLayout, _React$Component);\n\n  function VideoLayout(props) {\n    var _this;\n\n    _classCallCheck(this, VideoLayout);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(VideoLayout).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"componentWillReceiveProps\", function (nextProps) {\n      var mutedRemotes = _this.state.mutedRemotes;\n      nextProps.remote.forEach(function (r) {\n        if (mutedRemotes[r.id] === undefined) {\n          mutedRemotes[r.id] = _this.props.muteParticipantsByDefault;\n\n          if (_this.props.muteParticipantsByDefault) {\n            var audioTracks = r.srcObject.getAudioTracks()[0];\n\n            if (audioTracks) {\n              audioTracks.enabled = false;\n            }\n          }\n        }\n      });\n\n      _this.setState({\n        mutedRemotes: mutedRemotes\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleVideoToggle\", function () {\n      if (!_this.state.screen) {\n        var videoValue = !_this.state.video;\n\n        _this.setState({\n          video: videoValue\n        });\n\n        _this.props.toogleVideo();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleAudioToggle\", function () {\n      var audioValue = !_this.state.audio;\n\n      _this.setState({\n        audio: audioValue\n      });\n\n      _this.props.toogleAudio();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleScreenShareToogle\", function (screenType) {\n      var screenValue = !_this.state.screen;\n\n      _this.setState({\n        screen: screenValue\n      });\n\n      _this.props.toogleScreenShare(screenType);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"toogleFullScreen\", function (videoId) {\n      var video = document.getElementById(videoId);\n\n      if (video.requestFullscreen) {\n        video.requestFullscreen();\n      } else if (video.mozRequestFullScreen) {\n        video.mozRequestFullScreen();\n      } else if (video.webkitRequestFullscreen) {\n        video.webkitRequestFullscreen();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"removeLocalStream\", function () {\n      if (_this.props.removeLocalStream) {\n        _this.props.removeLocalStream();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"removePresenterStream\", function (presenterId) {\n      if (_this.props.removePresenterStream) {\n        _this.props.removePresenterStream(presenterId);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"toggleRemoteMic\", function (remoteId) {\n      var remote = _this.props.remote.find(function (r) {\n        return r.id === remoteId;\n      });\n\n      if (remote) {\n        var audioTracks = remote.srcObject.getAudioTracks()[0];\n\n        if (audioTracks) {\n          var mutedRemotes = _this.state.mutedRemotes;\n\n          if (mutedRemotes[remote.id]) {\n            audioTracks.enabled = true;\n            mutedRemotes[remote.id] = false;\n          } else {\n            audioTracks.enabled = false;\n            mutedRemotes[remote.id] = true;\n          }\n\n          _this.setState({\n            mutedRemotes: mutedRemotes\n          });\n        }\n      }\n    });\n\n    var _mutedRemotes = {};\n\n    _this.props.remote.forEach(function (r) {\n      _mutedRemotes[r.id] = _this.props.muteParticipantsByDefault;\n\n      if (_this.props.muteParticipantsByDefault) {\n        var audioTracks = r.srcObject.getAudioTracks()[0];\n\n        if (audioTracks) {\n          audioTracks.enabled = false;\n        }\n      }\n    });\n\n    _this.state = {\n      video: true,\n      audio: true,\n      screen: false,\n      mutedRemotes: _mutedRemotes\n    };\n    return _this;\n  }\n\n  _createClass(VideoLayout, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          local = _this$props.local,\n          remote = _this$props.remote,\n          toogleScreenSupported = _this$props.toogleScreenSupported,\n          removeLocalStream = _this$props.removeLocalStream,\n          removePresenterStream = _this$props.removePresenterStream;\n      var sortedRemote = remote.sort(function (a, b) {\n        return a.name > b.name ? 1 : 0;\n      });\n      return React.createElement(\"div\", {\n        style: styles.layoutBoxS\n      }, sortedRemote.map(function (participant, _) {\n        return React.createElement(\"div\", {\n          style: styles.videoBoxS,\n          key: participant.id\n        }, React.createElement(\"div\", {\n          style: {\n            position: 'relative'\n          },\n          className: \"hoverable\"\n        }, React.createElement(_Video.default, {\n          videoId: 'remote_' + participant.id,\n          mute: false,\n          srcObject: participant.srcObject\n        }), React.createElement(\"div\", {\n          style: {\n            position: 'absolute',\n            bottom: '30px',\n            left: '0%',\n            right: '0%'\n          },\n          className: \"show-on-hover\"\n        }, React.createElement(\"button\", {\n          style: styles.buttonBoxS,\n          onClick: function onClick() {\n            return _this2.toggleRemoteMic(participant.id);\n          }\n        }, !_this2.state.mutedRemotes[participant.id] && React.createElement(_Mic.default, null), _this2.state.mutedRemotes[participant.id] && React.createElement(_MicOff.default, null)), removePresenterStream && !_this2.props.isTeacher(participant.name) && React.createElement(\"button\", {\n          style: styles.buttonBoxS,\n          onClick: function onClick() {\n            return _this2.removePresenterStream(participant.id);\n          }\n        }, React.createElement(_Cancel.default, null)), React.createElement(\"button\", {\n          style: styles.buttonBoxS,\n          onClick: function onClick() {\n            return _this2.toogleFullScreen('remote_' + participant.id);\n          }\n        }, React.createElement(_Fullscreen.default, null))), React.createElement(\"p\", null, participant.name)));\n      }), local && !(0, _lodash.isEmpty)(local) && React.createElement(\"div\", {\n        style: styles.videoBoxS\n      }, React.createElement(\"div\", {\n        style: {\n          position: 'relative'\n        },\n        className: \"hoverable\"\n      }, React.createElement(_Video.default, {\n        videoId: local.id,\n        mute: true,\n        srcObject: local.srcObject\n      }), React.createElement(\"div\", {\n        style: {\n          position: 'absolute',\n          bottom: '10px',\n          left: '0%',\n          right: '0%'\n        },\n        className: \"show-on-hover\"\n      }, local.srcObject.getVideoTracks().length > 0 && React.createElement(\"button\", {\n        disabled: this.state.screen,\n        style: styles.buttonBoxS,\n        onClick: this.handleVideoToggle\n      }, this.state.video && React.createElement(_Videocam.default, null), !this.state.video && React.createElement(_VideocamOff.default, null)), React.createElement(\"button\", {\n        style: styles.buttonBoxS,\n        onClick: this.handleAudioToggle\n      }, this.state.audio && React.createElement(_Mic.default, null), !this.state.audio && React.createElement(_MicOff.default, null)), toogleScreenSupported && local.srcObject.getVideoTracks().length > 0 && React.createElement(\"button\", {\n        style: styles.buttonBoxS,\n        onClick: function onClick() {\n          return _this2.handleScreenShareToogle('screen');\n        }\n      }, this.state.screen && React.createElement(_ScreenShare.default, null), !this.state.screen && React.createElement(_StopScreenShare.default, null)), toogleScreenSupported && local.srcObject.getVideoTracks().length > 0 && React.createElement(\"button\", {\n        style: styles.buttonBoxS,\n        onClick: function onClick() {\n          return _this2.handleScreenShareToogle('window');\n        }\n      }, this.state.screen && React.createElement(_ScreenShare.default, null), !this.state.screen && React.createElement(_StopScreenShare.default, null)), removeLocalStream && React.createElement(\"button\", {\n        style: styles.buttonBoxS,\n        onClick: this.removeLocalStream\n      }, React.createElement(_Cancel.default, null)))), local.name && React.createElement(\"p\", null, React.createElement(\"i\", null, \"You: \", local.name))));\n    }\n  }]);\n\n  return VideoLayout;\n}(React.Component);\n\nvar _default = VideoLayout;\nexports.default = _default;\n\n//# sourceURL=webpack:///../ac/ac-videochat/src/ActivityRunner/VideoLayout.js?");

/***/ }),

/***/ "../ac/ac-videochat/src/ActivityRunner/index.js":
/*!******************************************************!*\
  !*** ../ac/ac-videochat/src/ActivityRunner/index.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\nvar _frogUtils = __webpack_require__(/*! frog-utils */ \"../frog-utils/src/index.js\");\n\nvar AdapterJs = _interopRequireWildcard(__webpack_require__(/*! webrtc-adapter */ \"../node_modules/webrtc-adapter/src/js/adapter_core.js\"));\n\nvar _styles = __webpack_require__(/*! @material-ui/core/styles */ \"../node_modules/@material-ui/core/styles/index.js\");\n\nvar _Grid = _interopRequireDefault(__webpack_require__(/*! @material-ui/core/Grid */ \"../node_modules/@material-ui/core/Grid/index.js\"));\n\nvar _config = _interopRequireDefault(__webpack_require__(/*! ../webrtc-config/config */ \"../ac/ac-videochat/src/webrtc-config/config.js\"));\n\nvar _StreamAnalysis = __webpack_require__(/*! ../analytics/StreamAnalysis */ \"../ac/ac-videochat/src/analytics/StreamAnalysis.js\");\n\nvar _Header = _interopRequireDefault(__webpack_require__(/*! ./Header */ \"../ac/ac-videochat/src/ActivityRunner/Header.js\"));\n\nvar _VideoLayout = _interopRequireDefault(__webpack_require__(/*! ./VideoLayout */ \"../ac/ac-videochat/src/ActivityRunner/VideoLayout.js\"));\n\nvar _ParticipantsView = _interopRequireDefault(__webpack_require__(/*! ./ParticipantsView */ \"../ac/ac-videochat/src/ActivityRunner/ParticipantsView.js\"));\n\nvar _participant = _interopRequireDefault(__webpack_require__(/*! ./participant */ \"../ac/ac-videochat/src/ActivityRunner/participant.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      flexGrow: 1\n    },\n    paper: {\n      padding: theme.spacing.unit * 2,\n      textAlign: 'center',\n      color: theme.palette.text.secondary\n    }\n  };\n};\n\nvar ActivityRunner =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ActivityRunner, _Component);\n\n  function ActivityRunner(props) {\n    var _this;\n\n    _classCallCheck(this, ActivityRunner);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ActivityRunner).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"createWebSocketConnection\", function () {\n      _this.ws = new WebSocket(_config.default.signalServerURL);\n\n      _this.ws.onerror = function (error) {\n        alert(\"Cannot connect to server. If you have AdBlock, it might be blocking connections, please put FROG on AdBlock's whitelist\");\n        console.error(\"/Users/stian/src/frog/ac/ac-videochat/src/ActivityRunner/index.js(154:6)\", \"error\", error);\n      };\n\n      _this.ws.onopen = function (_) {\n        // when web socket connection is oppened, register on signal server\n        if (_this.role === 'watcher') {\n          if (_this.browser.browser === 'safari') {\n            // safari has a bug where you cannot receive streams if you don't allow media devices\n            // this code should be updated once safari fixes that problem\n            _this.requestMediaDevices(_this.role);\n          } else {\n            _this.register(_this.name, _this.id, _this.roomId, _this.role);\n          }\n        } else {\n          _this.requestMediaDevices(_this.role);\n        }\n      };\n\n      _this.ws.onmessage = function (message) {\n        var parsedMessage = JSON.parse(message.data);\n\n        switch (parsedMessage.id) {\n          case 'existingParticipants':\n            _this.onExistingParticipants(parsedMessage);\n\n            break;\n\n          case 'newParticipantArrived':\n            _this.onNewParticipant({\n              name: parsedMessage.name,\n              id: parsedMessage.userId,\n              role: parsedMessage.role\n            });\n\n            break;\n\n          case 'participantLeft':\n            _this.onParticipantLeft(parsedMessage.userId);\n\n            break;\n\n          case 'receiveVideoAnswer':\n            _this.receiveVideoResponse(parsedMessage.userId, parsedMessage.sdpAnswer);\n\n            break;\n\n          case 'iceCandidate':\n            _this.participants[parsedMessage.userId].onRemoteCandidate(parsedMessage.candidate);\n\n            break;\n\n          case 'changeRole':\n            _this.onRoleChanged(parsedMessage.userId, parsedMessage.newRole);\n\n            break;\n\n          case 'alert':\n            if (parsedMessage.alertId === 'otherLogin') {\n              var state = {\n                local: {},\n                remote: [],\n                participants: []\n              };\n\n              _this.setState(state);\n            }\n\n            alert(parsedMessage.message);\n            break;\n\n          case 'raisedHand':\n            {\n              var participants = _this.state.participants;\n              participants.filter(function (p) {\n                return p.id === parsedMessage.userId;\n              })[0].raisedHand = parsedMessage.raised;\n\n              _this.setState({\n                participants: participants\n              });\n\n              break;\n            }\n\n          default:\n            console.error(\"/Users/stian/src/frog/ac/ac-videochat/src/ActivityRunner/index.js(221:10)\", 'Unrecognized message', \"parsedMessage\", parsedMessage);\n        }\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"sendMessage\", function (message) {\n      if (_this.ws.readyState === 1) {\n        _this.ws.send(JSON.stringify(message));\n      } else {\n        console.warn(\"/Users/stian/src/frog/ac/ac-videochat/src/ActivityRunner/index.js(230:6)\", 'Trying to send message on unopened websocket');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"requestMediaDevices\", function (role) {\n      if (navigator.mediaDevices) navigator.mediaDevices.getUserMedia(_this.mediaConstraints).then(function (myStream) {\n        _this.stream = myStream;\n\n        _this.register(_this.name, _this.id, _this.roomId, role);\n      }).catch(function (error) {\n        console.error(\"/Users/stian/src/frog/ac/ac-videochat/src/ActivityRunner/index.js(243:10)\", 'Error happened when requesting user media, ', \"error\", error);\n\n        switch (error.name) {\n          case 'NotAllowedError':\n            if (role === 'teacher') {\n              alert('Your students cannot see/hear you if you do not allow camera/microphone. ' + 'Press F5 to refresh the page and allow camera/microphone');\n            } else {\n              if (_this.browser.browser !== 'safari') {\n                alert('Safari has an issue where you cannot see and hear other users unless ' + 'you allow application to use camera/microphone. ');\n              }\n\n              _this.register(_this.name, _this.id, _this.roomId, 'watcher');\n            }\n\n            break;\n\n          case 'NotReadableError':\n            alert('Your camera and microphone are already being used by another application.');\n\n            _this.register(_this.name, _this.id, _this.roomId, 'watcher');\n\n            break;\n\n          case 'NotFoundError':\n            alert('Camera and microphon not found on your computer');\n\n            _this.register(_this.name, _this.id, _this.roomId, 'watcher');\n\n            break;\n\n          case 'OverconstrainedError':\n            alert('Your camera/microphone do not meet the constraints requested by this application.');\n\n            _this.register(_this.name, _this.id, _this.roomId, 'watcher');\n\n            console.error(\"/Users/stian/src/frog/ac/ac-videochat/src/ActivityRunner/index.js(279:14)\", \"error\", error);\n            break;\n\n          case 'TypeError':\n            alert('Application requested your camera/mic with illegal constraints');\n\n            _this.register(_this.name, _this.id, _this.roomId, 'watcher');\n\n            break;\n\n          case 'SecurityError':\n            alert('User media support is disabled on the Document which requested your camera/mic.');\n\n            _this.register(_this.name, _this.id, _this.roomId, 'watcher');\n\n            console.error(\"/Users/stian/src/frog/ac/ac-videochat/src/ActivityRunner/index.js(294:14)\", \"error\", error);\n            break;\n\n          case 'AbortError':\n            alert('Unknown error appeared that prevents usage of your camera/microphone');\n\n            _this.register(_this.name, _this.id, _this.roomId, 'watcher');\n\n            console.error(\"/Users/stian/src/frog/ac/ac-videochat/src/ActivityRunner/index.js(302:14)\", \"error\", error);\n            break;\n\n          default:\n            console.error(\"/Users/stian/src/frog/ac/ac-videochat/src/ActivityRunner/index.js(306:14)\", \"'Error happened: ' + error.name\", 'Error happened: ' + error.name);\n            console.error(\"/Users/stian/src/frog/ac/ac-videochat/src/ActivityRunner/index.js(307:14)\", 'Error happened when requesting user media, ', \"error\", error);\n\n            _this.register(_this.name, _this.id, _this.roomId, 'watcher');\n\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"register\", function (name, id, roomId, role) {\n      var message = {\n        id: 'joinRoom',\n        name: _this.name,\n        userId: _this.id,\n        room: _this.roomId,\n        record: _this.record,\n        role: role\n      };\n\n      _this.sendMessage(message);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onExistingParticipants\", function (msg) {\n      var participant = new _participant.default(_this.name, _this.id, _this.role, _this.sendMessage);\n      _this.sendOnlyParticipant = participant;\n      _this.participants[participant.id] = participant;\n      var participants = _this.state.participants;\n      participants.push({\n        name: _this.name,\n        id: _this.id,\n        raisedHand: false,\n        speaking: false,\n        streaming: false\n      });\n\n      _this.setState({\n        participants: participants\n      }); // we check if role is watcher because of bug in safari\n      // in normal situation, if there is no stream, there is no send only peer\n      // but for safari, there is stream, but role is watcher, because stream must be\n      // acquired in order to have recvonly connections in safari\n      // that condition should be removed once safari fixes recvonly connections\n\n\n      if (_this.stream && _this.role !== 'watcher') {\n        if (_this.useAnalysis) {\n          _this.startAnalysis();\n        }\n\n        _this.setLocalState();\n\n        if (_this.useAnalysis) {\n          (0, _StreamAnalysis.onVAD)(_this.stream, function (isSpeaking) {\n            _this.setParticipantSpeaking(_this.id, isSpeaking);\n          });\n        }\n\n        if (_this.browser.browser !== 'chrome') {\n          _this.createPeer('sendrecv', participant);\n        } else {\n          _this.createPeer('sendonly', participant);\n        }\n      } // for each of the existing participants, receive their video feed\n\n\n      msg.data.forEach(_this.onNewParticipant);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"startAnalysis\", function () {\n      var analysisOptions = {\n        local: true,\n        name: _this.name,\n        id: _this.id,\n        logger: _this.props.logger\n      }; // from StreamAnalysis\n\n      (0, _StreamAnalysis.analyzeStream)(_this.stream, analysisOptions);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setLocalState\", function () {\n      _this.setState({\n        local: {\n          name: _this.name,\n          id: _this.id,\n          srcObject: _this.stream\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onNewParticipant\", function (newParticipant) {\n      var participant = new _participant.default(newParticipant.name, newParticipant.id, newParticipant.role, _this.sendMessage);\n      _this.participants[participant.id] = participant;\n      var participants = _this.state.participants;\n      participants.push({\n        name: participant.name,\n        id: participant.id,\n        raisedHand: false,\n        speaking: false,\n        streaming: false\n      });\n\n      _this.setState({\n        participants: participants\n      });\n\n      if (newParticipant.role !== 'watcher') {\n        _this.createPeer('recvonly', participant);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"createPeer\", function (mode, participant) {\n      var options = {\n        configuration: _config.default.rtcConfiguration\n      };\n\n      if (mode === 'sendonly' || mode === 'sendrecv') {\n        options.myStream = _this.stream;\n\n        _this.setParticipantStreaming(participant.id, true);\n      } else if (mode === 'recvonly') {\n        var onAddRemoteTrack = function onAddRemoteTrack(event) {\n          var stream = event.streams[0];\n\n          _this.addRemoteUserToState(participant, stream);\n\n          if (_this.useAnalysis) {\n            (0, _StreamAnalysis.onVAD)(event.streams[0], function (isSpeaking) {\n              _this.setParticipantSpeaking(participant.id, isSpeaking);\n            });\n          }\n\n          _this.setParticipantStreaming(participant.id, true);\n        };\n\n        options.ontrack = onAddRemoteTrack;\n      }\n\n      participant.createPeer(mode, options);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setParticipantSpeaking\", function (participantId, isSpeaking) {\n      if (_this.state.participants.filter(function (p) {\n        return p.id === participantId;\n      })[0]) {\n        var participants = _this.state.participants;\n        participants.filter(function (p) {\n          return p.id === participantId;\n        })[0].speaking = isSpeaking;\n\n        _this.setState({\n          participants: participants\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setParticipantStreaming\", function (participantId, isStreaming) {\n      if (_this.state.participants.filter(function (p) {\n        return p.id === participantId;\n      })[0]) {\n        var participants = _this.state.participants;\n        participants.filter(function (p) {\n          return p.id === participantId;\n        })[0].streaming = isStreaming;\n\n        _this.setState({\n          participants: participants\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"addRemoteUserToState\", function (participant, stream) {\n      var remotes = _this.state.remote;\n      var userInRemotes = remotes.filter(function (r) {\n        return r.name === participant.name;\n      }).length > 0;\n\n      if (!userInRemotes) {\n        remotes.push({\n          name: participant.name,\n          id: participant.id,\n          srcObject: stream\n        });\n\n        _this.setState({\n          remote: remotes\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"removeRemoteUserFromState\", function (participantId) {\n      var remote = _this.state.remote.filter(function (r) {\n        return r.id !== participantId;\n      });\n\n      _this.setState({\n        remote: remote\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"removeParticipantFromState\", function (participantId) {\n      var participants = _this.state.participants.filter(function (p) {\n        return p.id !== participantId;\n      });\n\n      _this.setState({\n        participants: participants\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"receiveVideoResponse\", function (id, sdpAnswer) {\n      _this.participants[id].processAnswer(sdpAnswer);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onParticipantLeft\", function (participantId) {\n      var participant = _this.participants[participantId]; // remove and update state\n\n      _this.removeRemoteUserFromState(participantId);\n\n      _this.removeParticipantFromState(participantId);\n\n      if (participant) {\n        participant.dispose();\n      }\n\n      delete _this.participants[participantId];\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"leaveRoom\", function () {\n      _this.sendMessage({\n        id: 'leaveRoom'\n      });\n\n      (0, _frogUtils.values)(_this.participants).forEach(function (p) {\n        return p.dispose();\n      });\n\n      if (_this.ws.readyState === 1) {\n        _this.ws.close();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"toogleAudio\", function () {\n      var thisParticipant = _this.participants[_this.id];\n      thisParticipant.toogleAudio();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"toogleVideo\", function () {\n      var thisParticipant = _this.participants[_this.id];\n      thisParticipant.toogleVideo();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"reloadStream\", function (participantId) {\n      _this.removeRemoteUserFromState(participantId);\n\n      var participant = _this.participants[participantId];\n      participant.reloadStream();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"toogleScreenShare\", function (screenType) {\n      if (_this.browser.browser === 'firefox') {\n        if (_this.screenSharingOn) {\n          _this.sendOnlyParticipant.stopScreenShare();\n\n          _this.screenSharingOn = false;\n        } else {\n          if (navigator.mediaDevices) {\n            navigator.mediaDevices.getUserMedia({\n              video: {\n                mediaSource: screenType\n              }\n            }).then(function (screenStream) {\n              _this.sendOnlyParticipant.startScreenShare(screenStream);\n            }).catch(function (err) {\n              console.error(\"/Users/stian/src/frog/ac/ac-videochat/src/ActivityRunner/index.js(565:14)\", 'Could not get stream: ', \"err\", err);\n            });\n          }\n\n          _this.screenSharingOn = true;\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onRoleChanged\", function (userId, newRole) {\n      if (_this.id === userId && _this.role !== newRole) {\n        if (newRole === 'presenter') {\n          if (navigator.mediaDevices) {\n            navigator.mediaDevices.getUserMedia(_this.mediaConstraints).then(function (stream) {\n              _this.stream = stream;\n\n              _this.startAnalysis();\n\n              _this.setState({\n                local: {\n                  name: _this.name,\n                  id: _this.id,\n                  srcObject: _this.stream\n                }\n              });\n\n              var options = {\n                myStream: stream,\n                configuration: _config.default.rtcConfiguration\n              };\n              _this.sendOnlyParticipant.role = newRole;\n\n              _this.sendOnlyParticipant.createPeer('sendonly', options);\n\n              _this.setParticipantStreaming(_this.sendOnlyParticipant.id, true);\n            }).catch(function (error) {\n              console.error(\"/Users/stian/src/frog/ac/ac-videochat/src/ActivityRunner/index.js(601:14)\", \"error\", error);\n            });\n          }\n        } else if (newRole === 'watcher') {\n          _this.setParticipantStreaming(_this.sendOnlyParticipant.id, false);\n\n          _this.sendOnlyParticipant.dispose();\n\n          _this.setState({\n            local: {}\n          });\n        }\n\n        _this.role = newRole;\n        _this.sendOnlyParticipant.role = newRole;\n      } else {\n        var participant = _this.participants[userId];\n\n        if (participant.role !== newRole) {\n          if (newRole === 'watcher') {\n            // remove stream from that user\n            _this.removeRemoteUserFromState(participant.id);\n\n            _this.setParticipantStreaming(participant.id, false);\n          } else {\n            _this.createPeer('recvonly', participant);\n          }\n\n          participant.role = newRole;\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"giveMic\", function (participantId) {\n      _this.sendMessage({\n        id: 'changeRole',\n        userId: participantId,\n        newRole: 'presenter'\n      });\n\n      _this.sendMessage({\n        id: 'notifyParticipants',\n        payload: {\n          id: 'raisedHand',\n          userId: participantId,\n          raised: false\n        }\n      }); // update state for yourself\n\n\n      var participants = _this.state.participants;\n      participants.filter(function (p) {\n        return p.id === participantId;\n      })[0].raisedHand = false;\n\n      _this.setState({\n        participants: participants\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"removeLocalStream\", function () {\n      _this.sendMessage({\n        id: 'changeRole',\n        userId: _this.id,\n        newRole: 'watcher'\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"removePresenterStream\", function (presenterId) {\n      _this.sendMessage({\n        id: 'changeRole',\n        userId: presenterId,\n        newRole: 'watcher'\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"raiseHand\", function (e) {\n      var message = {\n        id: 'notifyParticipants',\n        payload: {\n          id: 'raisedHand',\n          userId: _this.id,\n          raised: e\n        }\n      };\n\n      _this.sendMessage(message);\n\n      var participants = _this.state.participants;\n      participants.filter(function (p) {\n        return p.id === _this.id;\n      })[0].raisedHand = true;\n\n      _this.setState({\n        participants: participants\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isTeacher\", function (userInfo) {\n      var _this$props$activityD;\n\n      if (userInfo.role === 'teacher') {\n        return true;\n      }\n\n      var teacherNames = (_this$props$activityD = _this.props.activityData.config) === null || _this$props$activityD === void 0 ? void 0 : _this$props$activityD.teacherNames;\n\n      if (teacherNames) {\n        return teacherNames.split(',').map(function (x) {\n          return x.trim();\n        }).includes(userInfo.name);\n      }\n\n      return false;\n    });\n\n    _this.participants = {};\n    _this.state = {\n      local: {},\n      remote: [],\n      participants: []\n    };\n    _this.mediaConstraints = _config.default.mediaConstraints;\n    _this.browser = AdapterJs.browserDetails;\n    return _this;\n  }\n\n  _createClass(ActivityRunner, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.name = this.props.userInfo.name;\n      this.id = this.props.userInfo.id;\n      this.activityType = this.props.activityData.config.activityType;\n      this.record = this.props.activityData.config.recordChat;\n      this.useAnalysis = this.props.activityData.config.useAnalysis;\n      this.mediaConstraints.audio = !!this.props.activityData.config.userMediaConstraints.audio;\n\n      if (!this.props.activityData.config.userMediaConstraints.video) {\n        this.mediaConstraints.video = false;\n      } else {\n        var res = this.props.activityData.config.userMediaConstraints.videoResolution;\n        var width = res.split('x')[0];\n        var height = res.split('x')[1];\n        var frameRate = this.props.activityData.config.userMediaConstraints.frameRate;\n        this.mediaConstraints.video = {\n          width: width,\n          height: height,\n          frameRate: frameRate\n        };\n      }\n\n      this.roomId = this.props.activityId + this.props.sessionId + this.props.groupingValue;\n\n      if (this.activityType === 'group') {\n        this.role = 'none';\n      } else if (this.activityType === 'webinar') {\n        if (this.isTeacher(this.props.userInfo)) {\n          this.role = 'teacher';\n        } else {\n          this.role = 'watcher';\n        }\n      }\n\n      this.createWebSocketConnection();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.leaveRoom();\n\n      if (this.stream) {\n        this.stream.getTracks().forEach(function (track) {\n          track.stop();\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var local = this.state.local;\n      var remote = this.state.remote;\n      var participants = this.state.participants;\n      var removeLocalStream = this.activityType === 'group' || this.isTeacher(this.props.userInfo) ? undefined : this.removeLocalStream;\n      var removePresenterStream = this.activityType === 'webinar' && this.isTeacher(this.props.userInfo) ? this.removePresenterStream : undefined;\n      var raiseHand = this.activityType === 'webinar' && !this.isTeacher(this.props.userInfo) ? this.raiseHand : undefined;\n      var giveMic = this.activityType === 'webinar' && this.isTeacher(this.props.userInfo) ? this.giveMic : undefined;\n      return _react.default.createElement(\"div\", {\n        id: \"webrtc\",\n        style: {\n          height: 'auto',\n          overflow: 'hidden'\n        }\n      }, _react.default.createElement(_Grid.default, {\n        container: true,\n        spacing: 24\n      }, _react.default.createElement(_Grid.default, {\n        item: true,\n        xs: 12\n      }, _react.default.createElement(_Header.default, this.props)), _react.default.createElement(_Grid.default, {\n        item: true,\n        xs: 3\n      }, _react.default.createElement(_ParticipantsView.default, {\n        participants: participants.map(function (x) {\n          return _this2.isTeacher({\n            name: x.name\n          }) ? _objectSpread({}, x, {\n            isTeacher: true\n          }) : x;\n        }),\n        isTeacher: this.isTeacher,\n        giveMic: giveMic,\n        raiseHand: raiseHand,\n        myId: this.id\n      })), _react.default.createElement(_Grid.default, {\n        item: true,\n        xs: 9\n      }, _react.default.createElement(_VideoLayout.default, {\n        activityData: this.props.activityData,\n        isTeacher: this.isTeacher,\n        local: local,\n        remote: remote,\n        toogleAudio: this.toogleAudio,\n        toogleVideo: this.toogleVideo,\n        reloadStream: this.reloadStream,\n        toogleScreenShare: this.toogleScreenShare,\n        toogleScreenSupported: this.browser.browser === 'firefox',\n        removeLocalStream: removeLocalStream,\n        removePresenterStream: removePresenterStream,\n        muteParticipantsByDefault: this.props.activityData.config.muteParticipantsByDefault\n      }))));\n    }\n  }]);\n\n  return ActivityRunner;\n}(_react.Component);\n\nActivityRunner.displayName = 'ActivityRunner';\n\nvar _default = (0, _styles.withStyles)(styles)(ActivityRunner);\n\nexports.default = _default;\n\n//# sourceURL=webpack:///../ac/ac-videochat/src/ActivityRunner/index.js?");

/***/ }),

/***/ "../ac/ac-videochat/src/ActivityRunner/participant.js":
/*!************************************************************!*\
  !*** ../ac/ac-videochat/src/ActivityRunner/participant.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Participant = function Participant(name, id, role, sendMessage) {\n  var _this = this;\n\n  _classCallCheck(this, Participant);\n\n  _defineProperty(this, \"createPeer\", function (mode, options) {\n    if (!_this.mode) {\n      _this.mode = mode;\n    }\n\n    if (!_this.options) {\n      _this.options = options;\n    }\n\n    try {\n      _this.rtcPeer = new RTCPeerConnection(options.configuration);\n      _this.rtcPeer.onicecandidate = _this.onIceCandidate;\n\n      if (mode === 'sendonly' || mode === 'sendrecv') {\n        _this.sendOnlyStream = options.myStream;\n        _this.cameraVideoTrack = options.myStream.getVideoTracks()[0];\n        var audioTrack = options.myStream.getAudioTracks()[0];\n\n        if (_this.cameraVideoTrack) {\n          _this.senderVideo = _this.rtcPeer.addTrack(_this.cameraVideoTrack, options.myStream);\n        }\n\n        if (audioTrack) {\n          _this.senderAudio = _this.rtcPeer.addTrack(audioTrack, options.myStream);\n        }\n      } else if (mode === 'recvonly' && options.ontrack) {\n        _this.rtcPeer.ontrack = options.ontrack;\n      }\n\n      var offerOptions = {\n        offerToReceiveAudio: 1,\n        offerToReceiveVideo: 1\n      };\n\n      if (mode === 'sendOnly') {\n        offerOptions.offerToReceiveAudio = 0;\n        offerOptions.offerToReceiveVideo = 0;\n      }\n\n      if (mode === 'sendrecv') {\n        _this.rtcPeer.createOffer().then(_this.onOffer).catch(_this.onOfferError);\n      } else {\n        _this.rtcPeer.createOffer(offerOptions).then(_this.onOffer).catch(_this.onOfferError);\n      }\n    } catch (error) {\n      console.error(\"/Users/stian/src/frog/ac/ac-videochat/src/ActivityRunner/participant.js(107:6)\", \"error\", error);\n      if (options && options.onError) options.onError(error);\n    }\n  });\n\n  _defineProperty(this, \"onOffer\", function (offer) {\n    _this.rtcPeer.setLocalDescription(offer);\n\n    var msg = {\n      id: 'receiveVideoFrom',\n      userId: _this.id,\n      sdpOffer: offer.sdp\n    };\n\n    if (_this.options && _this.options.reload) {\n      msg = {\n        id: 'reloadStreamFrom',\n        userId: _this.id,\n        sdpOffer: offer.sdp\n      };\n    }\n\n    _this.sendMessage(msg);\n  });\n\n  _defineProperty(this, \"onOfferError\", function (error) {\n    console.error(\"/Users/stian/src/frog/ac/ac-videochat/src/ActivityRunner/participant.js(130:4)\", \"error\", error);\n  });\n\n  _defineProperty(this, \"reloadStream\", function () {\n    _this.dispose();\n\n    var options = _this.options;\n    options.reload = true;\n\n    _this.createPeer(_this.mode, options);\n  });\n\n  _defineProperty(this, \"processAnswer\", function (answerSdp) {\n    var answer = new RTCSessionDescription({\n      type: 'answer',\n      sdp: answerSdp\n    });\n\n    _this.rtcPeer.setRemoteDescription(answer).then(function () {\n      _this.isAnswerProcessed = true;\n\n      _this.remoteCandidates.forEach(function (c) {\n        return _this.rtcPeer.addIceCandidate(new RTCIceCandidate(c));\n      });\n    });\n  });\n\n  _defineProperty(this, \"onRemoteCandidate\", function (candidate) {\n    if (_this.isAnswerProcessed) {\n      _this.rtcPeer.addIceCandidate(new RTCIceCandidate(candidate));\n    } else {\n      _this.remoteCandidates.push(candidate);\n    }\n  });\n\n  _defineProperty(this, \"onIceCandidate\", function (event) {\n    if (event && event.candidate) {\n      var message = {\n        id: 'onIceCandidate',\n        candidate: event.candidate,\n        userId: _this.id\n      };\n\n      _this.sendMessage(message);\n    }\n  });\n\n  _defineProperty(this, \"startScreenShare\", function (screenStream) {\n    _this.screenVideoTrack = screenStream.getVideoTracks()[0]; // replace track in stream that is sending to other users\n\n    if (_this.senderVideo) {\n      _this.senderVideo.replaceTrack(_this.screenVideoTrack);\n\n      _this.sendOnlyStream.removeTrack(_this.cameraVideoTrack);\n\n      _this.sendOnlyStream.addTrack(_this.screenVideoTrack);\n    } else {\n      // web camera is not used in activity\n      // create new RTCRtpSender for video track and attack screen track and stream\n      _this.senderVideo = _this.rtcPeer.addTrack(_this.screenVideoTrack, screenStream); // replace track in local video stream\n\n      _this.sendOnlyStream.addTrack(_this.screenVideoTrack);\n    }\n  });\n\n  _defineProperty(this, \"stopScreenShare\", function () {\n    if (_this.senderVideo) {\n      if (_this.cameraVideoTrack) {\n        // there is web camera track\n        // replace track in stream that is sending to other users\n        _this.senderVideo.replaceTrack(_this.cameraVideoTrack); // replace track in local video stream\n\n\n        _this.sendOnlyStream.removeTrack(_this.screenVideoTrack);\n\n        _this.sendOnlyStream.addTrack(_this.cameraVideoTrack);\n      } else {\n        // there is no camera track\n        _this.rtcPeer.removeTrack(_this.senderVideo);\n\n        _this.sendOnlyStream.removeTrack(_this.screenVideoTrack);\n      }\n\n      if (_this.screenVideoTrack) {\n        _this.screenVideoTrack.stop();\n      }\n    }\n  });\n\n  _defineProperty(this, \"toogleAudio\", function () {\n    var localStream = _this.rtcPeer.getLocalStreams()[0];\n\n    if (localStream) {\n      var audioTrack = localStream.getAudioTracks()[0];\n      audioTrack.enabled = !audioTrack.enabled;\n    }\n  });\n\n  _defineProperty(this, \"toogleVideo\", function () {\n    var localStream = _this.rtcPeer.getLocalStreams()[0];\n\n    if (localStream) {\n      var videoTrack = localStream.getVideoTracks()[0];\n      videoTrack.enabled = !videoTrack.enabled;\n    }\n  });\n\n  _defineProperty(this, \"isAudioEnabled\", function () {\n    var audioTracks = _this.rtcPeer.getLocalStreams()[0].getAudioTracks()[0];\n\n    return audioTracks.enabled;\n  });\n\n  _defineProperty(this, \"isVideoEnabled\", function () {\n    var videoTrack = _this.rtcPeer.getLocalStreams()[0].getVideoTracks()[0];\n\n    return videoTrack.enabled;\n  });\n\n  _defineProperty(this, \"dispose\", function () {\n    _this.disposeRtcPeer();\n  });\n\n  _defineProperty(this, \"disposeRtcPeer\", function () {\n    if (_this.rtcPeer) {\n      _this.rtcPeer.close();\n\n      _this.rtcPeer = null;\n    }\n  });\n\n  this.name = name;\n  this.id = id;\n  this.role = role;\n  this.sendMessage = sendMessage;\n  this.remoteCandidates = [];\n};\n\nvar _default = Participant;\nexports.default = _default;\n\n//# sourceURL=webpack:///../ac/ac-videochat/src/ActivityRunner/participant.js?");

/***/ }),

/***/ "../ac/ac-videochat/src/analytics/StreamAnalysis.js":
/*!**********************************************************!*\
  !*** ../ac/ac-videochat/src/analytics/StreamAnalysis.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.onVAD = exports.analyzeStream = exports.hark = exports.isBrowser = void 0;\n\nvar VAD = _interopRequireWildcard(__webpack_require__(/*! ./components/VoiceActivityDetectionAnalysis */ \"../ac/ac-videochat/src/analytics/components/VoiceActivityDetectionAnalysis.js\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar isBrowser = function () {\n  try {\n    return !!window;\n  } catch (e) {\n    return false;\n  }\n}();\n\nexports.isBrowser = isBrowser;\nvar hark = isBrowser ? __webpack_require__(/*! ../lib/hark.bundle.js */ \"../ac/ac-videochat/src/lib/hark.bundle.js\") : function (_) {};\nexports.hark = hark;\n\nvar analyzeStream = function analyzeStream(stream, options) {\n  VAD.analyze(stream, options);\n};\n\nexports.analyzeStream = analyzeStream;\n\nvar onVAD = function onVAD(stream, callback) {\n  if (hark && stream.getAudioTracks().length !== 0) {\n    var speechEvents = hark(stream);\n    speechEvents.on('speaking', function () {\n      callback(true);\n    });\n    speechEvents.on('stopped_speaking', function () {\n      callback(false);\n    });\n  }\n};\n\nexports.onVAD = onVAD;\n\n//# sourceURL=webpack:///../ac/ac-videochat/src/analytics/StreamAnalysis.js?");

/***/ }),

/***/ "../ac/ac-videochat/src/analytics/components/VoiceActivityDetectionAnalysis.js":
/*!*************************************************************************************!*\
  !*** ../ac/ac-videochat/src/analytics/components/VoiceActivityDetectionAnalysis.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.analyze = exports.hark = exports.isBrowser = void 0;\n\nvar isBrowser = function () {\n  try {\n    return !!window;\n  } catch (e) {\n    return false;\n  }\n}();\n\nexports.isBrowser = isBrowser;\nvar hark = isBrowser ? __webpack_require__(/*! ../../lib/hark.bundle.js */ \"../ac/ac-videochat/src/lib/hark.bundle.js\") : function (_) {};\nexports.hark = hark;\n\nvar analyze = function analyze(stream, options) {\n  if (hark && stream.getAudioTracks().length !== 0) {\n    var speechEvents = hark(stream);\n    speechEvents.on('speaking', function () {\n      if (options && options.logger) {\n        options.logger({\n          type: 'videochat',\n          payload: {\n            name: options.name,\n            id: options.id,\n            speaking: true\n          }\n        });\n      }\n    });\n    speechEvents.on('stopped_speaking', function () {\n      if (options && options.logger) {\n        options.logger({\n          type: 'videochat',\n          payload: {\n            name: options.name,\n            id: options.id,\n            speaking: false\n          }\n        });\n      }\n    });\n  }\n};\n\nexports.analyze = analyze;\n\n//# sourceURL=webpack:///../ac/ac-videochat/src/analytics/components/VoiceActivityDetectionAnalysis.js?");

/***/ }),

/***/ "../ac/ac-videochat/src/lib/hark.bundle.js":
/*!*************************************************!*\
  !*** ../ac/ac-videochat/src/lib/hark.bundle.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;var require;var require;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-disable */\n(function (e) {\n  if (typeof bootstrap === 'function') bootstrap('hark', e);else if (( false ? undefined : _typeof(exports)) === 'object') module.exports = e();else if (true) !(__WEBPACK_AMD_DEFINE_FACTORY__ = (e),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else {}\n})(function () {\n  var define, ses, bootstrap, module, exports;\n  return function (e, t, n) {\n    function i(n, s) {\n      if (!t[n]) {\n        if (!e[n]) {\n          var o = typeof require === 'function' && require;\n          if (!s && o) return require(n, !0);\n          if (r) return r(n, !0);\n          throw new Error(\"Cannot find module '\" + n + \"'\");\n        }\n\n        var u = t[n] = {\n          exports: {}\n        };\n        e[n][0].call(u.exports, function (t) {\n          var r = e[n][1][t];\n          return i(r || t);\n        }, u, u.exports);\n      }\n\n      return t[n].exports;\n    }\n\n    var r = typeof require === 'function' && require;\n\n    for (var s = 0; s < n.length; s++) {\n      i(n[s]);\n    }\n\n    return i;\n  }({\n    1: [function (require, module, exports) {\n      var WildEmitter = require('wildemitter');\n\n      function getMaxVolume(analyser, fftBins) {\n        var maxVolume = -Infinity;\n        analyser.getFloatFrequencyData(fftBins);\n\n        for (var i = 4, ii = fftBins.length; i < ii; i++) {\n          if (fftBins[i] > maxVolume && fftBins[i] < 0) {\n            maxVolume = fftBins[i];\n          }\n        }\n\n        return maxVolume;\n      }\n\n      var audioContextType;\n\n      if (typeof window !== 'undefined') {\n        audioContextType = window.AudioContext || window.webkitAudioContext;\n      } // use a single audio context due to hardware limits\n\n\n      var audioContext = null;\n\n      module.exports = function (stream, options) {\n        var harker = new WildEmitter(); // make it not break in non-supported browsers\n\n        if (!audioContextType) return harker; // Config\n\n        var options = options || {},\n            smoothing = options.smoothing || 0.1,\n            interval = options.interval || 50,\n            threshold = options.threshold,\n            play = options.play,\n            history = options.history || 10,\n            running = true; // Setup Audio Context\n\n        if (!audioContext) {\n          audioContext = new audioContextType();\n        }\n\n        var sourceNode, fftBins, analyser;\n        analyser = audioContext.createAnalyser();\n        analyser.fftSize = 512;\n        analyser.smoothingTimeConstant = smoothing;\n        fftBins = new Float32Array(analyser.frequencyBinCount);\n        if (stream.jquery) stream = stream[0];\n\n        if (stream instanceof HTMLAudioElement || stream instanceof HTMLVideoElement) {\n          // Audio Tag\n          sourceNode = audioContext.createMediaElementSource(stream);\n          if (typeof play === 'undefined') play = true;\n          threshold = threshold || -50;\n        } else {\n          // WebRTC Stream\n          sourceNode = audioContext.createMediaStreamSource(stream);\n          threshold = threshold || -50;\n        }\n\n        sourceNode.connect(analyser);\n        if (play) analyser.connect(audioContext.destination);\n        harker.speaking = false;\n\n        harker.suspend = function () {\n          audioContext.suspend();\n        };\n\n        harker.resume = function () {\n          audioContext.resume();\n        };\n\n        Object.defineProperty(harker, 'state', {\n          get: function get() {\n            return audioContext.state;\n          }\n        });\n\n        audioContext.onstatechange = function () {\n          harker.emit('state_change', audioContext.state);\n        };\n\n        harker.setThreshold = function (t) {\n          threshold = t;\n        };\n\n        harker.setInterval = function (i) {\n          interval = i;\n        };\n\n        harker.stop = function () {\n          running = false;\n          harker.emit('volume_change', -100, threshold);\n\n          if (harker.speaking) {\n            harker.speaking = false;\n            harker.emit('stopped_speaking');\n          }\n\n          analyser.disconnect();\n          sourceNode.disconnect();\n        };\n\n        harker.speakingHistory = [];\n\n        for (var i = 0; i < history; i++) {\n          harker.speakingHistory.push(0);\n        } // Poll the analyser node to determine if speaking\n        // and emit events if changed\n\n\n        var looper = function looper() {\n          setTimeout(function () {\n            // check if stop has been called\n            if (!running) {\n              return;\n            }\n\n            var currentVolume = getMaxVolume(analyser, fftBins);\n            harker.emit('volume_change', currentVolume, threshold);\n            var history = 0;\n\n            if (currentVolume > threshold && !harker.speaking) {\n              // trigger quickly, short history\n              for (var i = harker.speakingHistory.length - 3; i < harker.speakingHistory.length; i++) {\n                history += harker.speakingHistory[i];\n              }\n\n              if (history >= 2) {\n                harker.speaking = true;\n                harker.emit('speaking');\n              }\n            } else if (currentVolume < threshold && harker.speaking) {\n              for (var i = 0; i < harker.speakingHistory.length; i++) {\n                history += harker.speakingHistory[i];\n              }\n\n              if (history == 0) {\n                harker.speaking = false;\n                harker.emit('stopped_speaking');\n              }\n            }\n\n            harker.speakingHistory.shift();\n            harker.speakingHistory.push(0 + (currentVolume > threshold));\n            looper();\n          }, interval);\n        };\n\n        looper();\n        return harker;\n      };\n    }, {\n      wildemitter: 2\n    }],\n    2: [function (require, module, exports) {\n      /*\n      WildEmitter.js is a slim little event emitter by @henrikjoreteg largely based\n      on @visionmedia's Emitter from UI Kit.\n      Why? I wanted it standalone.\n      I also wanted support for wildcard emitters like this:\n      emitter.on('*', function (eventName, other, event, payloads) {\n      });\n      emitter.on('somenamespace*', function (eventName, payloads) {\n      });\n      Please note that callbacks triggered by wildcard registered events also get\n      the event name as the first argument.\n      */\n      module.exports = WildEmitter;\n\n      function WildEmitter() {}\n\n      WildEmitter.mixin = function (constructor) {\n        var prototype = constructor.prototype || constructor;\n        prototype.isWildEmitter = true; // Listen on the given `event` with `fn`. Store a group name if present.\n\n        prototype.on = function (event, groupName, fn) {\n          this.callbacks = this.callbacks || {};\n          var hasGroup = arguments.length === 3,\n              group = hasGroup ? arguments[1] : undefined,\n              func = hasGroup ? arguments[2] : arguments[1];\n          func._groupName = group;\n          (this.callbacks[event] = this.callbacks[event] || []).push(func);\n          return this;\n        }; // Adds an `event` listener that will be invoked a single\n        // time then automatically removed.\n\n\n        prototype.once = function (event, groupName, fn) {\n          var self = this,\n              hasGroup = arguments.length === 3,\n              group = hasGroup ? arguments[1] : undefined,\n              func = hasGroup ? arguments[2] : arguments[1];\n\n          function on() {\n            self.off(event, on);\n            func.apply(this, arguments);\n          }\n\n          this.on(event, group, on);\n          return this;\n        }; // Unbinds an entire group\n\n\n        prototype.releaseGroup = function (groupName) {\n          this.callbacks = this.callbacks || {};\n          var item, i, len, handlers;\n\n          for (item in this.callbacks) {\n            handlers = this.callbacks[item];\n\n            for (i = 0, len = handlers.length; i < len; i++) {\n              if (handlers[i]._groupName === groupName) {\n                // console.log('removing');\n                // remove it and shorten the array we're looping through\n                handlers.splice(i, 1);\n                i--;\n                len--;\n              }\n            }\n          }\n\n          return this;\n        }; // Remove the given callback for `event` or all\n        // registered callbacks.\n\n\n        prototype.off = function (event, fn) {\n          this.callbacks = this.callbacks || {};\n          var callbacks = this.callbacks[event],\n              i;\n          if (!callbacks) return this; // remove all handlers\n\n          if (arguments.length === 1) {\n            delete this.callbacks[event];\n            return this;\n          } // remove specific handler\n\n\n          i = callbacks.indexOf(fn);\n          callbacks.splice(i, 1);\n\n          if (callbacks.length === 0) {\n            delete this.callbacks[event];\n          }\n\n          return this;\n        }; // / Emit `event` with the given args.\n        // also calls any `*` handlers\n\n\n        prototype.emit = function (event) {\n          this.callbacks = this.callbacks || {};\n          var args = [].slice.call(arguments, 1),\n              callbacks = this.callbacks[event],\n              specialCallbacks = this.getWildcardCallbacks(event),\n              i,\n              len,\n              item,\n              listeners;\n\n          if (callbacks) {\n            listeners = callbacks.slice();\n\n            for (i = 0, len = listeners.length; i < len; ++i) {\n              if (!listeners[i]) {\n                break;\n              }\n\n              listeners[i].apply(this, args);\n            }\n          }\n\n          if (specialCallbacks) {\n            len = specialCallbacks.length;\n            listeners = specialCallbacks.slice();\n\n            for (i = 0, len = listeners.length; i < len; ++i) {\n              if (!listeners[i]) {\n                break;\n              }\n\n              listeners[i].apply(this, [event].concat(args));\n            }\n          }\n\n          return this;\n        }; // Helper for for finding special wildcard event handlers that match the event\n\n\n        prototype.getWildcardCallbacks = function (eventName) {\n          this.callbacks = this.callbacks || {};\n          var item,\n              split,\n              result = [];\n\n          for (item in this.callbacks) {\n            split = item.split('*');\n\n            if (item === '*' || split.length === 2 && eventName.slice(0, split[0].length) === split[0]) {\n              result = result.concat(this.callbacks[item]);\n            }\n          }\n\n          return result;\n        };\n      };\n\n      WildEmitter.mixin(WildEmitter);\n    }, {}]\n  }, {}, [1])(1);\n});\n\n//# sourceURL=webpack:///../ac/ac-videochat/src/lib/hark.bundle.js?");

/***/ }),

/***/ "../ac/ac-videochat/src/webrtc-config/config.js":
/*!******************************************************!*\
  !*** ../ac/ac-videochat/src/webrtc-config/config.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar rtcConfiguration = {\n  iceServers: [{\n    urls: 'stun:stun.l.google.com:19302'\n  }, {\n    urls: 'turn:frog-marin.tk:3478',\n    username: 'test',\n    credential: 'test'\n  }]\n};\nvar signalServerURL = 'wss://icchilisrv3.epfl.ch:7777';\nvar mediaConstraints = {\n  audio: true,\n  video: {\n    width: {\n      ideal: 320\n    },\n    frameRate: {\n      ideal: 15\n    }\n  }\n};\nvar _default = {\n  rtcConfiguration: rtcConfiguration,\n  signalServerURL: signalServerURL,\n  mediaConstraints: mediaConstraints\n};\nexports.default = _default;\n\n//# sourceURL=webpack:///../ac/ac-videochat/src/webrtc-config/config.js?");

/***/ })

}]);